{"1":{"title":"3と5の倍数","body":"10未満の自然数のうち, 3 もしくは 5 の倍数になっているものは 3, 5, 6, 9 の4つがあり,\nこれらの合計は 23 になる.同じようにして, 1000 未満の 3 か 5 の倍数になっている数字の合計を求めよ."},"2":{"title":"偶数のフィボナッチ数","body":"フィボナッチ数列の項は前の2つの項の和である. 最初の2項を 1, 2 とすれば, 最初の10項は以下の通りである.数列の項の値が400万以下の, 偶数値の項の総和を求めよ.Note:この問題は最近更新されました. お使いのパラメータが正しいかどうか確認してください."},"3":{"title":"最大の素因数","body":"13195 の素因数は 5, 7, 13, 29 である.600851475143 の素因数のうち最大のものを求めよ."},"4":{"title":"最大の回文積","body":"左右どちらから読んでも同じ値になる数を回文数という.\n2桁の数の積で表される回文数のうち, 最大のものは 9009 = 91 × 99 である.では, 3桁の数の積で表される回文数の最大値を求めよ."},"5":{"title":"最小の倍数","body":"2520 は 1 から 10 の数字の全ての整数で割り切れる数字であり, そのような数字の中では最小の値である.では, 1 から 20 までの整数全てで割り切れる数字の中で最小の正の数はいくらになるか."},"6":{"title":"二乗和の差","body":"最初の10個の自然数について, その二乗の和は,最初の10個の自然数について, その和の二乗は,これらの数の差は 3025 - 385 = 2640 となる.同様にして, 最初の100個の自然数について二乗の和と和の二乗の差を求めよ."},"7":{"title":"10001番目の素数","body":"素数を小さい方から6つ並べると 2, 3, 5, 7, 11, 13 であり, 6番目の素数は 13 である.10 001 番目の素数を求めよ."},"8":{"title":"数字列中の最大の積","body":"次の1000桁の数字のうち, 隣接する4つの数字の総乗の中で, 最大となる値は, 9 × 9 × 8 × 9 = 5832である.この1000桁の数字から13個の連続する数字を取り出して, それらの総乗を計算する. では、それら総乗のうち、最大となる値はいくらか.EX 6桁の数123789から5個の連続する数字を取り出す場合, 1*2*3*7*8と2*3*7*8*9の二通りとなり, 後者の2*3*7*8*9=3024が最大の総乗となる."},"9":{"title":"特別なピタゴラス数","body":"ピタゴラス数(ピタゴラスの定理を満たす自然数)とは a < b < c で以下の式を満たす数の組である.例えば, 32 + 42 = 9 + 16 = 25 = 52 である.a + b + c = 1000 となるピタゴラスの三つ組が一つだけ存在する.\nこれらの積 abc を計算しなさい."},"10":{"title":"素数の和","body":"10以下の素数の和は 2 + 3 + 5 + 7 = 17 である.200万以下の全ての素数の和を求めよ."},"11":{"title":"格子内の最大の積","body":"上の 20×20 の格子のうち, 斜めに並んだ4つの数字が赤くマークされている.それらの数字の積は 26 × 63 × 78 × 14 = 1788696 となる.上の 20×20 の格子のうち, 上下左右斜めのいずれかの方向で連続する4つの数字の積のうち最大のものはいくつか?"},"12":{"title":"高度整除三角数","body":"三角数の数列は自然数の和で表わされ, 7番目の三角数は 1 + 2 + 3 + 4 + 5 + 6 + 7 = 28 である. 三角数の最初の10項は:となる.最初の7項について, その約数を列挙すると, 以下のとおり.\n 1: 1\n 3: 1,3\n 6: 1,2,3,6\n10: 1,2,5,10\n15: 1,3,5,15\n21: 1,3,7,21\n28: 1,2,4,7,14,28これから, 7番目の三角数である28は, 5個より多く約数をもつ最初の三角数であることが分かる.では, 500個より多く約数をもつ最初の三角数はいくつか."},"13":{"title":"大きな数の足し算","body":"以下の50桁の数字100個の合計の上から10桁を求めなさい。"},"14":{"title":"最長のコラッツ数列","body":"正の整数に以下の式で繰り返し生成する数列を定義する.n → n/2 (n が偶数)n → 3n + 1 (n が奇数)13からはじめるとこの数列は以下のようになる.13から1まで10個の項になる.\nこの数列はどのような数字からはじめても最終的には 1 になると考えられているが, まだそのことは証明されていない(コラッツ問題)さて, 100万未満の数字の中でどの数字からはじめれば最長の数列を生成するか.注意: 数列の途中で100万以上になってもよい"},"15":{"title":"格子経路","body":"2×2 のマス目の左上からスタートした場合, 引き返しなしで右下にいくルートは 6 つある.では, 20×20 のマス目ではいくつのルートがあるか."},"16":{"title":"各位の数字の和","body":"215 = 32768 であり, 各位の数字の和は 3 + 2 + 7 + 6 + 8 = 26 となる.同様にして, 21000 の各位の数字の和を求めよ.注: Problem 20 も各位の数字の和に関する問題です。解いていない方は解いてみてください。"},"17":{"title":"数字の文字数","body":"1 から 5 までの数字を英単語で書けば one, two, three, four, five であり, 全部で 3 + 3 + 5 + 4 + 4 = 19 の文字が使われている.では 1 から 1000 (one thousand) までの数字をすべて英単語で書けば, 全部で何文字になるか.注: 空白文字やハイフンを数えないこと. 例えば, 342 (three hundred and forty-two) は 23 文字, 115 (one hundred and fifteen) は20文字と数える. なお, \"and\" を使用するのは英国の慣習."},"18":{"title":"最大経路の和 その1","body":"以下の三角形の頂点から下まで移動するとき, その数値の和の最大値は23になる.この例では 3 + 7 + 4 + 9 = 23.以下の三角形を頂点から下まで移動するとき, その最大の和を求めよ.注: ここではたかだか 16384 通りのルートしかないので, すべてのパターンを試すこともできる. Problem 67 は同じ問題だが100行あるので, 総当りでは解けない. もっと賢い方法が必要である."},"19":{"title":"日曜日の数え上げ","body":"次の情報が与えられている.20世紀（1901年1月1日から2000年12月31日）中に月の初めが日曜日になるのは何回あるか?"},"20":{"title":"各位の数字の和 2","body":"n × (n - 1) × ... × 3 × 2 × 1 を n! と表す.例えば, 10! = 10 × 9 × ... × 3 × 2 × 1 = 3628800 となる.\nこの数の各桁の合計は 3 + 6 + 2 + 8 + 8 + 0 + 0 = 27 である.では, 100! の各位の数字の和を求めよ.注: Problem 16 も各位の数字の和に関する問題です。解いていない方は解いてみてください。"},"21":{"title":"友愛数","body":"d(n) を n の真の約数の和と定義する. (真の約数とは n 以外の約数のことである. )\nもし, d(a) = b かつ d(b) = a (a ≠ b のとき) を満たすとき, a と b は友愛数(親和数)であるという.例えば, 220 の約数は 1, 2, 4, 5, 10, 11, 20, 22, 44, 55, 110 なので d(220) = 284 である.\nまた, 284 の約数は 1, 2, 4, 71, 142 なので d(284) = 220 である.それでは10000未満の友愛数の和を求めよ."},"22":{"title":"名前のスコア","body":"5000個以上の名前が書かれている46Kのテキストファイル names.txt を用いる. まずアルファベット順にソートせよ.のち, 各名前についてアルファベットに値を割り振り, リスト中の出現順の数と掛け合わせることで, 名前のスコアを計算する.たとえば, リストがアルファベット順にソートされているとすると, COLINはリストの938番目にある. またCOLINは 3 + 15 + 12 + 9 + 14 = 53 という値を持つ. よってCOLINは 938 × 53 = 49714 というスコアを持つ.ファイル中の全名前のスコアの合計を求めよ."},"23":{"title":"非過剰数和","body":"完全数とは, その数の真の約数の和がそれ自身と一致する数のことである. たとえば, 28の真の約数の和は, 1 + 2 + 4 + 7 + 14 = 28 であるので, 28は完全数である.真の約数の和がその数よりも少ないものを不足数といい, 真の約数の和がその数よりも大きいものを過剰数と呼ぶ.12は, 1 + 2 + 3 + 4 + 6 = 16 となるので, 最小の過剰数である. よって2つの過剰数の和で書ける最少の数は24である. 数学的な解析により, 28123より大きい任意の整数は2つの過剰数の和で書けることが知られている. 2つの過剰数の和で表せない最大の数がこの上限よりも小さいことは分かっているのだが, この上限を減らすことが出来ていない.2つの過剰数の和で書き表せない正の整数の総和を求めよ."},"24":{"title":"辞書式順列","body":"順列とはモノの順番付きの並びのことである. たとえば, 3124は数 1, 2, 3, 4 の一つの順列である. すべての順列を数の大小でまたは辞書式に並べたものを辞書順と呼ぶ. 0と1と2の順列を辞書順に並べるとになる.0,1,2,3,4,5,6,7,8,9からなる順列を辞書式に並べたときの100万番目はいくつか?"},"25":{"title":"1000桁のフィボナッチ数","body":"フィボナッチ数列は以下の漸化式で定義される:最初の12項は以下である.12番目の項, F12が3桁になる最初の項である.1000桁になる最初の項の番号を答えよ."},"26":{"title":"逆数の循環節 その1","body":"単位分数とは分子が1の分数である. 分母が2から10の単位分数を10進数で表記すると次のようになる.1/2 = 0.5\n1/3 = 0.(3)\n1/4 = 0.25\n1/5 = 0.2\n1/6 = 0.1(6)\n1/7 = 0.(142857)\n1/8 = 0.125\n1/9 = 0.(1)\n1/10 = 0.10.1(6)は 0.166666... という数字であり, 1桁の循環節を持つ. 1/7 の循環節は6桁ある.d < 1000 なる 1/d の中で小数部の循環節が最も長くなるような d を求めよ."},"27":{"title":"二次式素数","body":"オイラーは以下の二次式を考案している:この式は, n を0から39までの連続する整数としたときに40個の素数を生成する. しかし, n = 40 のとき 402 + 40 + 41 = 40(40 + 1) + 41 となり41で割り切れる. また, n = 41 のときは 412 + 41 + 41 であり明らかに41で割り切れる.計算機を用いて, 二次式 n2 - 79n + 1601 という式が発見できた. これは n = 0 から 79 の連続する整数で80個の素数を生成する. 係数の積は, -79 × 1601 で -126479である.さて, |a| < 1000, |b| ≤ 1000 として以下の二次式を考える (ここで |a| は絶対値): 例えば |11| = 11 |-4| = 4である.n = 0 から始めて連続する整数で素数を生成したときに最長の長さとなる上の二次式の, 係数 a, b の積を答えよ."},"28":{"title":"螺旋状に並んだ数の対角線","body":"1から初めて右方向に進み時計回りに数字を増やしていき, 5×5の螺旋が以下のように生成される:両対角線上の数字の合計は101であることが確かめられる.1001×1001の螺旋を同じ方法で生成したとき, 対角線上の数字の和はいくつか?"},"29":{"title":"個別のべき乗","body":"2 ≤ a ≤ 5 と 2 ≤ b ≤ 5について, ab を全て考えてみよう:これらを小さい順に並べ, 同じ数を除いたとすると, 15個の項を得る:4, 8, 9, 16, 25, 27, 32, 64, 81, 125, 243, 256, 625, 1024, 31252 ≤ a ≤ 100, 2 ≤ b ≤ 100 で同じことをしたときいくつの異なる項が存在するか?"},"30":{"title":"各桁の5乗","body":"驚くべきことに, 各桁を4乗した数の和が元の数と一致する数は3つしかない.ただし, 1=14は含まないものとする.\nこの数たちの和は 1634 + 8208 + 9474 = 19316 である.各桁を5乗した数の和が元の数と一致するような数の総和を求めよ."},"31":{"title":"硬貨の和","body":"イギリスでは硬貨はポンド£とペンスpがあり，一般的に流通している硬貨は以下の8種類である.1p, 2p, 5p, 10p, 20p, 50p, £1 (100p) and £2 (200p).以下の方法で£2を作ることが可能である．1×£1 + 1×50p + 2×20p + 1×5p + 1×2p + 3×1pこれらの硬貨を使って£2を作る方法は何通りあるか?"},"32":{"title":"パンデジタル積","body":"すべての桁に 1 から n が一度だけ使われている数をn桁の数がパンデジタル (pandigital) であるということにしよう: 例えば5桁の数 15234 は1から5のパンデジタルである.7254 は面白い性質を持っている. 39 × 186 = 7254 と書け, 掛けられる数, 掛ける数, 積が1から9のパンデジタルとなる.掛けられる数/掛ける数/積が1から9のパンデジタルとなるような積の総和を求めよ.HINT: いくつかの積は, 1通り以上の掛けられる数/掛ける数/積の組み合わせを持つが1回だけ数え上げよ."},"33":{"title":"桁消去分数","body":"49/98は面白い分数である.「分子と分母からそれぞれ9を取り除くと, 49/98 = 4/8 となり, 簡単な形にすることができる」と経験の浅い数学者が誤って思い込んでしまうかもしれないからである.\n(方法は正しくないが，49/98の場合にはたまたま正しい約分になってしまう．)我々は 30/50 = 3/5 のようなタイプは自明な例だとする.このような分数のうち, 1より小さく分子・分母がともに2桁の数になるような自明でないものは, 4個ある.その4個の分数の積が約分された形で与えられたとき, 分母の値を答えよ."},"34":{"title":"桁の階乗","body":"145は面白い数である.\n1! + 4! + 5! = 1 + 24 + 120 = 145となる.各桁の数の階乗の和が自分自身と一致するような数の和を求めよ.注: 1! = 1 と 2! = 2 は総和に含めてはならない."},"35":{"title":"巡回素数","body":"197は巡回素数と呼ばれる. 桁を回転させたときに得られる数 197, 971, 719 が全て素数だからである.100未満には巡回素数が13個ある: 2, 3, 5, 7, 11, 13, 17, 31, 37, 71, 73, 79, および97である.100万未満の巡回素数はいくつあるか?"},"36":{"title":"二種類の基数による回文数","body":"585 = 10010010012 (2進) は10進でも2進でも回文数である.100万未満で10進でも2進でも回文数になるような数の総和を求めよ.(注: 先頭に0を含めて回文にすることは許されない.)"},"37":{"title":"切り詰め可能素数","body":"3797は面白い性質を持っている. まずそれ自身が素数であり, 左から右に桁を除いたときに全て素数になっている (3797, 797, 97, 7). 同様に右から左に桁を除いたときも全て素数である (3797, 379, 37, 3).右から切り詰めても左から切り詰めても素数になるような素数は11個しかない. 総和を求めよ.注: 2, 3, 5, 7を切り詰め可能な素数とは考えない."},"38":{"title":"パンデジタル倍数","body":"192 に 1, 2, 3 を掛けてみよう.\n192 × 1 = 192\n192 × 2 = 384\n192 × 3 = 576積を連結することで1から9の パンデジタル数 192384576 が得られる.\n192384576 を 192 と (1,2,3) の連結積と呼ぶ.同じようにして, 9 を 1,2,3,4,5 と掛け連結することでパンデジタル数 918273645 が得られる. これは 9 と (1,2,3,4,5) との連結積である.整数と (1,2,...,n) (n > 1) との連結積として得られる9桁のパンデジタル数の中で最大のものはいくつか?"},"39":{"title":"整数の直角三角形","body":"辺の長さが {a,b,c} と整数の3つ組である直角三角形を考え, その周囲の長さを p とする.\np = 120のときには3つの解が存在する:{20,48,52}, {24,45,51}, {30,40,50}p ≤ 1000 のとき解の数が最大になる p はいくつか?"},"40":{"title":"チャンパーノウン定数","body":"正の整数を順に連結して得られる以下の10進の無理数を考える:小数第12位は1である.dnで小数第n位の数を表す.\nd1 × d10 × d100 × d1000 × d10000 × d100000 × d1000000\nを求めよ."},"41":{"title":"パンデジタル素数","body":"n桁パンデジタルであるとは, 1からnまでの数を各桁に1つずつ持つこととする.#下のリンク先にあるような数学的定義とは異なる例えば2143は4桁パンデジタル数であり, かつ素数である.\nn桁（この問題の定義では9桁以下）パンデジタルな素数の中で最大の数を答えよ."},"42":{"title":"符号化三角数","body":"三角数のn項は tn = ½n(n+1)で与えられる. 最初の10項はである.単語中のアルファベットを数値に変換した後に和をとる. この和を「単語の値」と呼ぶことにする. 例えば SKY は 19 + 11 + 25 = 55 = t10である. 単語の値が三角数であるとき, その単語を三角語と呼ぶ.16Kのテキストファイル words.txt 中に約2000語の英単語が記されている. 三角語はいくつあるか?"},"43":{"title":"部分文字列被整除性","body":"数1406357289は0から9のパンデジタル数である (0から9が1度ずつ現れるので). この数は部分文字列が面白い性質を持っている.d1を上位1桁目, d2を上位2桁目の数とし, 以下順にdnを定義する. この記法を用いると次のことが分かる.このような性質をもつ0から9のパンデジタル数の総和を求めよ."},"44":{"title":"五角数","body":"五角数は Pn = n(3n-1)/2 で生成される. 最初の10項はである.P4 + P7 = 22 + 70 = 92 = P8 である. しかし差 70 - 22 = 48 は五角数ではない.五角数のペア Pj と Pk について, 差と和が五角数になるものを考える. 差を D = |Pk - Pj| と書く. 差 D の最小値を求めよ."},"45":{"title":"三角数, 五角数, 六角数","body":"三角数, 五角数, 六角数は以下のように生成される.T285 = P165 = H143 = 40755であることが分かる.次の三角数かつ五角数かつ六角数な数を求めよ."},"46":{"title":"もうひとつのゴールドバッハの予想","body":"Christian Goldbachは全ての奇合成数は平方数の2倍と素数の和で表せると予想した.\n9 = 7 + 2×12\n15 = 7 + 2×22\n21 = 3 + 2×32\n25 = 7 + 2×32\n27 = 19 + 2×22\n33 = 31 + 2×12後に, この予想は誤りであることが分かった.平方数の2倍と素数の和で表せない最小の奇合成数はいくつか?"},"47":{"title":"異なる素因数","body":"それぞれ2つの異なる素因数を持つ連続する2つの数が最初に現れるのは:\n14 = 2 × 7\n15 = 3 × 5それぞれ3つの異なる素因数を持つ連続する3つの数が最初に現れるのは:\n644 = 22 × 7 × 23\n645 = 3 × 5 × 43\n646 = 2 × 17 × 19最初に現れるそれぞれ4つの異なる素因数を持つ連続する4つの数を求めよ. その最初の数はいくつか?"},"48":{"title":"自身のべき乗(self powers)","body":"次の式は, 11 + 22 + 33 + ... + 1010 = 10405071317 である.では, 11 + 22 + 33 + ... + 10001000 の最後の10桁を求めよ."},"49":{"title":"素数数列","body":"項差3330の等差数列1487, 4817, 8147は次の2つの変わった性質を持つ.1, 2, 3桁の素数にはこのような性質を持った数列は存在しないが, 4桁の増加列にはもう1つ存在する.それではこの数列の3つの項を連結した12桁の数を求めよ."},"50":{"title":"連続する素数の和","body":"素数41は6つの連続する素数の和として表せる:100未満の素数を連続する素数の和で表したときにこれが最長になる.同様に, 連続する素数の和で1000未満の素数を表したときに最長になるのは953で21項を持つ.100万未満の素数を連続する素数の和で表したときに最長になるのはどの素数か?"},"51":{"title":"素数の桁置換","body":"*3の第1桁を置き換えることで, 13, 23, 43, 53, 73, 83という6つの素数が得られる.56**3の第3桁と第4桁を同じ数で置き換えることを考えよう. この5桁の数は7つの素数をもつ最初の例である: 56003, 56113, 56333, 56443, 56663, 56773, 56993. よって, この族の最初の数である56003は, このような性質を持つ最小の素数である.桁を同じ数で置き換えることで8つの素数が得られる最小の素数を求めよ.  (注:連続した桁でなくても良い)"},"52":{"title":"置換倍数","body":"125874を2倍すると251748となる. これは元の数125874と順番は違うが同じ数を含む.2x, 3x, 4x, 5x, 6x が x と同じ数を含むような最小の正整数 x を求めよ."},"53":{"title":"組み合わせ選択","body":"12345から3つ選ぶ選び方は10通りである.組み合わせでは, 以下の記法を用いてこのことを表す: 5C3 = 10.一般に, r ≤ n について nCr = n!/(r!(n-r)!) である.\nここで, n! = n×(n−1)×...×3×2×1, 0! = 1 と階乗を定義する.n = 23 になるまで, これらの値が100万を超えることはない: 23C10 = 1144066.1 ≤ n ≤ 100 について, 100万を超える nCr は何通りあるか?"},"54":{"title":"ポーカーハンド","body":"カードゲームのポーカーでは, 手札は5枚のカードからなりランク付けされている. 役を低い方から高い方へ順に並べると以下である.ここでカードの値は小さい方から2, 3, 4, 5, 6, 7, 8, 9, 10, J, Q, K, Aである.\n(訳注：データ中で10は'T'と表される)もし2人のプレイヤーが同じ役の場合には, 役を構成する中で値が最も大きいカードによってランクが決まる:\n例えば, 8のペアは5のペアより強い (下の例1を見よ).\nそれでも同じランクの場合には (例えば, 両者ともQのペアの場合), 一番値が大きいカードによってランクが決まる (下の例4を見よ).\n一番値が大きいカードが同じ場合には, 次に値が大きいカードが比べれられ, 以下同様にランクを決定する.例:poker.txtには1000個のランダムな手札の組が含まれている.\n各行は10枚のカードからなる (スペースで区切られている): 最初の5枚がプレイヤー1の手札であり, 残りの5枚がプレイヤー2の手札である.\n以下のことを仮定してよい1000回中プレイヤー1が勝つのは何回か?\n(訳注 : この問題に置いてA 2 3 4 5というストレートは考えなくてもよい)"},"55":{"title":"Lychrel数","body":"47とその反転を足し合わせると, 47 + 74 = 121となり, 回文数になる.全ての数が素早く回文数になるわけではない.\n349を考えよう,349は, 3回の操作を経て回文数になる.まだ証明はされていないが, 196のようないくつかの数字は回文数にならないと考えられている.\n反転したものを足すという操作を経ても回文数にならないものをLychrel数と呼ぶ.\n先のような数の理論的な性質により, またこの問題の目的のために, Lychrel数で無いと証明されていない数はLychrel数だと仮定する.更に, 10000未満の数については，常に以下のどちらか一方が成り立つと仮定してよい.実際, 10677が50回以上の操作を必要とする最初の数である:\n4668731596684224866951378664 (53回の操作で28桁のこの回文数になる).驚くべきことに, 回文数かつLychrel数であるものが存在する. 最初の数は4994である.10000未満のLychrel数の個数を答えよ.注: 2007/04/24にLychrel数の理論的な性質を強調するために文面が修正された."},"56":{"title":"もっとべき乗の数字和","body":"Googol (10100)は非常に大きな数である: 1の後に0が100個続く.\n100100は想像を絶する. 1の後に0が200回続く.\nその大きさにも関わらず, 両者とも数字和 ( 桁の和 ) は1である.a, b < 100 について自然数 ab を考える. 数字和の最大値を答えよ."},"57":{"title":"平方根の近似分数","body":"2の平方根は無限に続く連分数で表すことができる.最初の4回の繰り返しを展開すると以下が得られる.1 + 1/2 = 3/2 = 1.5\n1 + 1/(2 + 1/2) = 7/5 = 1.4\n1 + 1/(2 + 1/(2 + 1/2)) = 17/12 = 1.41666...\n1 + 1/(2 + 1/(2 + 1/(2 + 1/2))) = 41/29 = 1.41379...次の3つの項は99/70, 239/169, 577/408である. 第8項は1393/985である. これは分子の桁数が分母の桁数を超える最初の例である.最初の1000項を考えたとき, 分子の桁数が分母の桁数を超える項はいくつあるか?"},"58":{"title":"螺旋素数","body":"1から始めて, 以下のように反時計回りに数字を並べていくと, 辺の長さが7の渦巻きが形成される.面白いことに, 奇平方数が右下の対角線上に出現する.\nもっと面白いことには, 対角線上の13個の数字のうち, 8個が素数である. ここで割合は8/13 ≈ 62%である.渦巻きに新しい層を付け加えよう. すると辺の長さが9の渦巻きが出来る. 以下, この操作を繰り返していく. 対角線上の素数の割合が10%未満に落ちる最初の辺の長さを求めよ."},"59":{"title":"XOR暗号解読","body":"(訳者注: 文字コードの説明は適当です)\n各文字はそれぞれ一意のコードに割り当てられている.\nよく使われる標準としてASCII (American Standard Code for Information Interchange) がある.\nASCIIでは, 大文字A = 65, アスタリスク (*) = 42, 小文字k = 107というふうに割り当てられている.モダンな暗号化の方法として, テキストファイルの各バイトをASCIIに変換し, 秘密鍵から計算された値とXORを取るという手法がある.\nXOR関数の良い点は, 暗号化に用いたのと同じ暗号化鍵でXORを取ると平文を復号できる点である. 65 XOR 42 = 107であり, 107 XOR 42 = 65である.破られない暗号化のためには, 鍵は平文と同じ長さのランダムなバイト列でなければならない.\nユーザーは暗号文と暗号化鍵を別々の場所に保存する必要がある.\nまた, もし一方が失われると, 暗号文を復号することは不可能になる.悲しいかな, この手法はほとんどのユーザーにとって非現実的である.\nそこで, 鍵の変わりにパスワードを用いる手法が用いられる.\nパスワードが平文より短ければ (よくあることだが), パスワードは鍵として繰り返し用いられる.\nこの手法では, 安全性を保つために十分長いパスワードを用いる必要があるが, 記憶するためにはある程度短くないといけない.この問題での課題は簡単になっている.\n暗号化鍵は3文字の小文字である.\ncipher1.txtは暗号化されたASCIIのコードを含んでいる.\nまた, 平文はよく用いられる英単語を含んでいる.\nこの暗号文を復号し, 平文のASCIIでの値の和を求めよ."},"60":{"title":"素数ペア集合","body":"素数3, 7, 109, 673は非凡な性質を持っている. 任意の2つの素数を任意の順で繋げると, また素数になっている.\n例えば, 7と109を用いると, 7109と1097の両方が素数である.\nこれら4つの素数の和は792である.\nこれは, このような性質をもつ4つの素数の集合の和の中で最小である.任意の2つの素数を繋げたときに別の素数が生成される, 5つの素数の集合の和の中で最小のものを求めよ."},"61":{"title":"巡回図形数","body":"三角数, 四角数, 五角数, 六角数, 七角数, 八角数は多角数であり, それぞれ以下の式で生成される.3つの4桁の数の順番付きの集合 (8128, 2882, 8281) は以下の面白い性質を持つ.三角数, 四角数, 五角数, 六角数, 七角数, 八角数が全て表れる6つの巡回する4桁の数からなる唯一の順序集合の和を求めよ."},"62":{"title":"立方数置換","body":"立方数 41063625 (3453) は, 桁の順番を入れ替えると2つの立方数になる: 56623104 (3843) と 66430125 (4053) である.\n41063625は, 立方数になるような桁の置換をちょうど3つもつ最小の立方数である.立方数になるような桁の置換をちょうど5つもつ最小の立方数を求めよ."},"63":{"title":"べき乗の桁の個数","body":"5桁の数 16807 = 75は自然数を5乗した数である. 同様に9桁の数 134217728 = 89も自然数を9乗した数である.自然数を n 乗して得られる n 桁の正整数は何個あるか?"},"64":{"title":"奇数周期の平方根","body":"平方根は連分数の形で表したときに周期的であり, 以下の形で書ける:√N = a0 + 1 / (a1 + 1 / (a2 + 1 / (a3 + ...)))例えば, √23を考えよう.√23 = 4 + √23 - 4 = 4 + 1 / (1 / (√23 - 4)) = 4 + 1 / (1 + (√23 - 3) / 7)となる.この操作を続けていくと,√23 = 4 + 1 / (1 + 1 / (3 + 1 / (1 + 1 / (8 + ...))))を得る.操作を纏めると以下になる:よって, この操作は繰り返しになることが分かる. 表記を簡潔にするために, √23 = [4;(1,3,1,8)]と表す. (1,3,1,8)のブロックは無限に繰り返される項を表している.最初の10個の無理数である平方根を連分数で表すと以下になる.N ≤ 13で奇数の周期をもつ平方根は丁度4つある.N ≤ 10000 について奇数の周期をもつ平方根が何個あるか答えよ."},"65":{"title":"e の近似分数","body":"2の平方根は無限連分数として書くことができる.無限連分数である √2 = [1;(2)] と書くことができるが, (2) は2が無限に繰り返されることを示す. 同様に, √23 = [4;(1,3,1,8)].平方根の部分的な連分数の数列から良い有理近似が得られることが分かる.√2の近似分数について考えよう.従って, √2の近似分数からなる数列の最初の10項は：1, 3/2, 7/5, 17/12, 41/29, 99/70, 239/169, 577/408, 1393/985, 3363/2378, ...もっとも驚くべきことに, 数学的に重要な定数,\ne = [2; 1,2,1, 1,4,1, 1,6,1 , ... , 1,2k,1, ...].e の近似分数からなる数列の最初の10項は：2, 3, 8/3, 11/4, 19/7, 87/32, 106/39, 193/71, 1264/465, 1457/536, ...10項目の近似分数の分子の桁を合計すると1+4+5+7=17である.e についての連分数である近似分数の100項目の分子の桁の合計を求めよ."},"66":{"title":"ディオファントス方程式","body":"次の形式の, 2次のディオファントス方程式を考えよう:たとえば D=13 のとき, x を最小にする解は 6492 - 13×1802 = 1 である.D が平方数(square)のとき, 正整数のなかに解は存在しないと考えられる.D = {2, 3, 5, 6, 7} に対して x を最小にする解は次のようになる:したがって, D ≤ 7 に対して x を最小にする解を考えると, D=5 のとき x は最大である.D ≤ 1000 に対する x を最小にする解で, x が最大になるような D の値を見つけよ."},"67":{"title":"最大経路の和 その2","body":"以下の三角形の頂点から下まで移動するとき, その数値の合計の最大値は23になる.この例では 3 + 7 + 4 + 9 = 23100列の三角形を含んでいる15Kのテキストファイル triangle.txt (右クリックして, 『名前をつけてリンク先を保存』)の上から下まで最大合計を見つけよ.注：これは, Problem 18のずっと難しいバージョンです. \n全部で299 通りの組み合わせがあるので, この問題を解決するためにすべてのルートをためすことは可能でありません！\nあなたが毎秒1兆本の(1012)ルートをチェックすることができたとしても, 全てをチェックするために200億年以上かかるでしょう. \n解決するための効率的なアルゴリズムがあります. ;o)"},"68":{"title":"Magic 5-gon ring","body":"下に示す図のようなものを\"magic\" 3-gon ringという.\nこれは1～6の数字を当てはめて, 各列の数字の和が9となっている.\nこれを例として説明する.外側のノードのうち一番小さいものの付いた列(例では4,3,2)から時計回りに回ってそれぞれ列の数字を3つ連ねて説明する. 例えば例のものは4,3,2; 6,2,1; 5,1,3という組で説明することができる.1～6の数字を当てはめて, 各列の数字の和が等しくなるものは次の8通りある.この組の各数字を連結して, 9桁の数字で表すことができる.\n例えば, 上の図のものは4,3,2; 6,2,1; 5,1,3であるので432621513である.さて, 下の図に1～10の数字を当てはめ, 各列の数字の和が等しくなる\"magic\" 5-gon ringを作って, それを表す16桁または17桁の数字のうち, 16桁のものの最大の数字を答えよ.(注, 3つの場合の例を見ても分かる通り, 列の始まりの数字を比べた時一番小さい数字で始まる列から時計回りに繋げるという条件のもとで文字列を生成する必要があります.\nこの条件下で最大となる数字を答えてください. )"},"69":{"title":"トーティエント関数の最大値","body":"オイラーのトーティエント関数, φ(n) [時々ファイ関数とも呼ばれる]は, n と互いに素な n 未満の数の数を定める. たとえば, 1, 2, 4, 5, 7, そして8はみな9未満で9と互いに素であり, φ(9)=6.n ≤ 10 では n/φ(n) の最大値は n=6 であることがわかる.n ≤ 1,000,000で n/φ(n) が最大となる値を見つけよ."},"70":{"title":"トーティエント関数の置換","body":"オイラーのトーティエント関数 φ(n) (ファイ関数とも呼ばれる) とは, n 未満の正の整数で n と互いに素なものの個数を表す. 例えば, 1, 2, 4, 5, 7, 8 は9未満で9と互いに素であるので, φ(9) = 6 となる. \n1 は全ての正の整数と互いに素であるとみなされる. よって φ(1) = 1 である.面白いことに, φ(87109)=79180 であり, 87109は79180を置換したものとなっている.1 < n < 107 で φ(n) が n を置換したものになっているもののうち, n/φ(n) が最小となる n を求めよ."},"71":{"title":"順序分数","body":"nとdを正の整数として, 分数 n/d を考えよう. n<d かつ HCF(n,d)=1 のとき, 真既約分数と呼ぶ.d ≤ 8について既約分数を大きさ順に並べると, 以下を得る:3/7のすぐ左の分数は2/5である.d ≤ 1,000,000について真既約分数を大きさ順に並べたとき, 3/7のすぐ左の分数の分子を求めよ."},"72":{"title":"分数の数え上げ","body":"nとdを正の整数として, 分数 n/d を考えよう. n<d かつ HCF(n,d)=1 のとき, 真既約分数と呼ぶ.d ≤ 8について真既約分数を大きさ順に並べると, 以下を得る:この集合は21個の要素をもつことが分かる.d ≤ 1,000,000について, 真既約分数の集合は何個の要素を持つか?"},"73":{"title":"ある範囲内の分数の数え上げ","body":"nとdを正の整数として, 分数 n/d を考えよう. n<d かつ HCF(n,d)=1 のとき, 真既約分数と呼ぶ.d ≤ 8 について既約分数を大きさ順に並べると, 以下を得る:1/3と1/2の間には3つの分数が存在することが分かる.では, d ≤ 12,000 について真既約分数をソートした集合では, 1/3 と 1/2 の間に何個の分数があるか?"},"74":{"title":"桁の階乗による連鎖","body":"145は各桁の階乗の和が145と自分自身に一致することで有名である.\n1! + 4! + 5! = 1 + 24 + 120 = 145169の性質はあまり知られていない. これは169に戻る数の中で最長の列を成す. このように他の数を経て自分自身に戻るループは3つしか存在しない.\n169 → 363601 → 1454 → 169\n871 → 45361 → 871\n872 → 45362 → 872どのような数からスタートしてもループに入ることが示せる.例を見てみよう.\n69 → 363600 → 1454 → 169 → 363601 (→ 1454)\n78 → 45360 → 871 → 45361 (→ 871)\n540 → 145 (→ 145)69から始めた場合, 列は5つの循環しない項を持つ. また100万未満の数から始めた場合最長の循環しない項は60個であることが知られている.100万未満の数から開始する列の中で, 60個の循環しない項を持つものはいくつあるか?"},"75":{"title":"1通りの整数直角三角形","body":"ある長さの鉄線を折り曲げて3辺の長さが整数の直角三角形を作るとき, その方法が1通りしかないような最短の鉄線の長さは12cmである.\n他にも沢山の例が挙げられる.\n12 cm: (3,4,5)\n24 cm: (6,8,10)\n30 cm: (5,12,13)\n36 cm: (9,12,15)\n40 cm: (8,15,17)\n48 cm: (12,16,20)それとは対照的に, ある長さの鉄線 (例えば20cm) は3辺の長さが整数の直角三角形に折り曲げることができない.\nまた2つ以上の折り曲げ方があるものもある.\n2つ以上ある例としては, 120cmの長さの鉄線を用いた場合で, 3通りの折り曲げ方がある.\n120 cm: (30,40,50), (20,48,52), (24,45,51)Lを鉄線の長さとする. 直角三角形を作るときに1通りの折り曲げ方しか存在しないような L ≤ 1,500,000 の総数を答えよ.注: この問題は最近変更されました. あなたが正しいパラメータを使っているか確認してください."},"76":{"title":"和の数え上げ","body":"5は数の和として6通りに書くことができる:\n4 + 1\n3 + 2\n3 + 1 + 1\n2 + 2 + 1\n2 + 1 + 1 + 1\n1 + 1 + 1 + 1 + 12つ以上の正整数の和としての100の表し方は何通りか."},"77":{"title":"素数の和","body":"10は素数の和として5通りに表すことができる:\n7 + 3\n5 + 5\n5 + 3 + 2\n3 + 3 + 2 + 2\n2 + 2 + 2 + 2 + 2素数の和としての表し方が5000通り以上になる最初の数を求めよ."},"78":{"title":"　コインの分割","body":"n 枚のコインを異なった方法で山に分ける場合の数を p(n) と表わす.\n例えば, 5枚のコインを山に分ける異なったやり方は７通りなので p(5)=7 となる.\nOOOOO\n\nOOOO   O\n\nOOO   OO\n\nOOO   O   O\n\nOO   OO   O\n\nOO   O   O   O\n\nO   O   O   O   Op(n) が100万で割り切れる場合に最小となる n を求めよ."},"79":{"title":"パスコードの導出","body":"オンラインバンクで通常使われるsecurity methodは, パスコードからランダムに選んだ3文字をユーザーに要求するものである.たとえば, パスコードが531278のとき, 2番目, 3番目, 5番目の文字を要求されるかもしれない. このとき, 期待される答えは: 317 である.テキストファイルkeylog.txtには, ログインに成功した50回の試行が記録されている.3つの文字が常に順番通りに要求されるとするとき, ファイルを分析して, 可能なパスコードのなかでもっとも短いものを見つけよ."},"80":{"title":"平方根の10進展開","body":"よく知られているように, 自然数の平方根が整数ではないならば, それは無理数である.そのような平方根の10進展開(decimal expansion)は繰り返しを持たない無限小数になる.2の平方根は, 1.41421356237309504880...,であり, その頭から100桁の数字を合計すると475になる.初めの100個の自然数の平方根のうち, 無理数について, それぞれの頭から100桁の数字を足した数の総和を求めよ."},"81":{"title":"経路の和:2方向","body":"下記の5次の正方行列で, 左上のセルから開始し右下のセルで終わるパスを探索する.\nただし下方向と右方向にのみ移動できるものとする. \n通過したセルの和が最小となるパスは赤の太字で示されたもので, その値は2427である.今, 31Kのテキストファイルmatrix.txt (右クリックして, 『名前をつけてリンク先を保存』)には80×80の行列が書かれている. \n同様に左上のセルから開始し右下のセルで終わり, かつ右方向と下方向にのみ移動するときの最小のパスの和を求めよ."},"82":{"title":"経路の和:3方向","body":"注: この問題はProblem 81よりも挑戦しがいがあるだろう.下記の5次の正方行列で, 一番左の行の任意のセルから開始し一番右の行の任意のセルで終わる道を探索する. ただし上下右にのみ移動できるものとする. 一番小さなパスは下で赤の太字で示されたものである. このときの合計は994になる.今, 31Kのテキストファイルmatrix.txtには80×80の行列が書かれている. 一番左の行から一番右の行へ移動する際の一番小さなパスの和を求めよ."},"83":{"title":"経路の和:4方向","body":"注: この問題はProblem 81よりも非常に挑戦しがいがあるだろう.下記の5次の正方行列で, 上下左右に移動し左上のセルから開始し右下のセルで終了する道を探索する. 一番小さな道は下で赤で示されており, このときの合計は2297になる.今, 31Kのテキストファイルmatrix.txtには80×80の行列が書かれている. 上下左右に移動し左上のセルから開始し右下のセルで終了する道に沿った和の最小を求めよ."},"84":{"title":"モノポリーの確率","body":"モノポリーの標準的な盤面は以下である:各プレイヤーはGOのマスから開始し, 2個の6面サイコロを用いて時計回りに進む. 他のルールが無いとすれば, 各マスに止まる確率は全て等しく, 2.5%である. しかし, G2J (Go To Jail), CC (Community Chest, 共同基金), CH (Chance, チャンス) のマスによってこの確率は変えられてしまう.G2Jに止まる, または, CCやCHのマスに止まると引くカードのうちそれぞれ1枚によって, プレイヤーはJAILのマスに飛ばされる. またプレイヤーが連続して3回ゾロ目を出すと, 3投目の結果のマスに進むのではなく, 直接JAILのマスに飛ばされる. (訳注: モノポリーではゾロ目が出るともう1回サイコロをふる. 6,6→2,1の場合は合計15マス進む. 4,4→2,2→1,2の場合は合計15マス進む. 3,3→4,4→2,2の場合は6マス目, 14マス目に止まったのちJAILに飛ばされる.)ゲーム開始前にCCカードとCHカードはシャッフルされる. プレイヤーがCCまたはCHマスに止まった場合, プレイヤーはCCカードまたはCHカードの山の一番上からカードを1枚引く. カードの指示に従ったのち, そのカードは山の一番下に戻される. それぞれのカードは16枚あるが, 今回は問題を進み方に限定するので, 移動の指示があるカードのみを考える. 移動の指示が無いカードに関しては何もせずカードをそのまま山の下に戻す. プレイヤーはそのままCC/CHマスに残るものとする.今回考えるのは, どのマスに止まりやすいかである. 即ち, サイコロを投げた後に止まる確率である. より正確には, サイコロを1回振ってカードやマスによる移動を終えた後に各マスに止まる確率を求めたい. 従って, G2Jに止まる確率は0であり, CHマスに止まる確率はその次に少ない(16枚中10枚が移動カードなので). またJAILマスにたまたま止まることとJAILマスに送られることを区別しない. またJAILマスから抜けるルール (自分のターンにゾロ目を2回出す) を無視する. つまり必ず保釈金を払ってJAILマスから進むものとする.GOマスを00とし番号を00-39と順番に振る. これにより各マスを2桁の数で表すことが出来る.統計的には, 3つのマスに止まりやすいことを示せる. JAIL (6.24%) = 10番目, E3 (3.18%) = 24番目, GO (3.09%) = 00番目である. 従ってもっとも止まりやすいマスを6桁で表せて102400となる.2つの6面サイコロではなくて, 2つの4面サイコロを用いた場合の, もっとも止まりやすいマスを6桁で表せ.（翻訳ヒント、サイコロを振りぞろ目だろうがでなかろうが止まったマス目の指示に従う。カードマスならカードを引く。これを繰り返す。繰り返す途中で三連続でぞろ目が出たら強制的に刑務所行き）"},"85":{"title":"長方形の数え上げ","body":"注意深く数えると, 横が3, 縦が2の長方形の格子には, 18個の長方形が含まれている.ぴったり2,000,000個の長方形を含むような長方形の格子は存在しない. 一番近い解を持つような格子の面積を求めよ."},"86":{"title":"直方体のルート","body":"下に示す直方体は寸法が6×5×3である. この直方体の1つの頂点Sにクモがいる. また反対の頂点Fにはハエがいる. SからFまでの壁に沿って直線移動する最短ルートは図に示す通りで, この長さは10である.この最短ルートの候補は3本あるが, 最短のものがいつも整数長さとは限らない.さて, M×M×M以下の寸法の直方体について, 最短ルートが整数である直方体の数を考える.\nM=100のとき, 条件を満たす直方体は2060個ある. このM=100は個数が2000を超える最小のMである. なお, M=99のときは1975個である.100万個を超える最小のMを求めよ."},"87":{"title":"3つの素数のべき乗","body":"素数の2乗と素数の3乗と素数の4乗の和で表される最小の数は28である. 50未満のこのような数は丁度4つある.\n28 = 22 + 23 + 24\n33 = 32 + 23 + 24\n49 = 52 + 23 + 24\n47 = 22 + 33 + 24では, 50,000,000未満の数で, 素数の2乗と素数の3乗と素数の4乗の和で表される数は何個あるか?"},"88":{"title":"積和数","body":"少なくとも2つの自然数 {a1, a2, ... , ak} の集合の和かつ積として表せる自然数Nを積和数と呼ぶ：N = a1 + a2 + ... + ak = a1 × a2 × ... × ak.例えば, 6 = 1 + 2 + 3 = 1 × 2 × 3.ある集合の大きさ k に対して,この性質を持つ最小の N を最小積和数と呼ぼう. 集合の大きさ k = 2, 3, 4, 5, 6 に対する最小積和数は次のとおりである.\nk=2: 4 = 2 × 2 = 2 + 2\nk=3: 6 = 1 × 2 × 3 = 1 + 2 + 3\nk=4: 8 = 1 × 1 × 2 × 4 = 1 + 1 + 2 + 4\nk=5: 8 = 1 × 1 × 2 × 2 × 2 = 1 + 1 + 2 + 2 + 2\nk=6: 12 = 1 × 1 × 1 × 1 × 2 × 6 = 1 + 1 + 1 + 1 + 2 + 6したがって 2 ≤ k ≤ 6 に対して,全ての最小積和数の和は 4+6+8+12 = 30 である. 8 は和に一度だけカウントされていることに気をつけよう.実際, 2 ≤ k ≤ 12 に対する最小積和数の完全な集合は {4, 6, 8, 12, 15, 16} なので,その和は 61 である.2 ≤ k ≤ 12000 に対する全ての最小積和数の和は何か?"},"89":{"title":"ローマ数字","body":"ローマ数字の記法は一つの数について沢山ある場合が存在する (FAQを見よ).\nしかし, ある数については最良の記法が必ず存在する.例えば, 16の正しい記法を全て並べてみる.\nIIIIIIIIIIIIIIII\nVIIIIIIIIIII\nVVIIIIII\nXIIIIII\nVVVI\nXVI最後の例は, 最小の文字数で表せるという意味で, 最も効率が良い.11Kのテキストファイルroman.txt は1000個のローマ記法で書かれた数を含んでいる. これらは, 正しい記法に従っている. 即ち, 大きい数から順に書かれていて, 引き算ペアのルールにも従っている(このルールについてはFAQを見よ) 但し, 最小の文字数で表されているとは限らない.最小形で書いたときに, 何文字節約できるかを求めよ.注: ファイル中の全てのローマ数字には, 5つ以上の同じ文字が連続して含まれることはない.(訳者:概略のみ与える)全ての文字はサイズの降順に並ぶ引き算ペアについて.X (10) + IX (9) として19=XIXと表せる. ただし, 8をIIXと二文字以上を引くことは許されない."},"90":{"title":"2つの立方体の数字","body":"立方体の6面それぞれに異なる数字(0から9)が書かれている;2番目の立方体も同様になっている. 異なる位置に2つの立方体を隣り合わせることで様々な2桁の数を作ることができる.例えば, 平方数である64も作ることができる:事実, 両方の立方体の数字を注意深く選ぶと100以下のすべての平方数を示すことが可能である:01, 04, 09, 16, 25, 36, 49, 64, そして 81.例えば, これを実現する一つの方法としては {0, 5, 6, 7, 8, 9} を一方の立方体に, そして {1, 2, 3, 4, 8, 9} を他方の立方体に配置すればよい.しかし, 6と9を逆さまに回転することを許すと {0, 5, 6, 7, 8, 9} と {1, 2, 3, 4, 6, 7} のような配列で9つすべての平方数を示す事ができる;\nそうでなければ09を得ることができない.順番ではなくそれぞれの立方体の数字に着目して配列を区別する.\n{1, 2, 3, 4, 5, 6} は {3, 6, 4, 1, 2, 5} と同じものとし\n{1, 2, 3, 4, 5, 6} は {1, 2, 3, 4, 5, 9} と異なるものとする.しかし6と9を逆さにすることを許すために, 最後の例で区別された両方の配列のかわりに, {1, 2, 3, 4, 5, 6, 9} という(要素数が７つに)拡張された配列を使用して2桁の数をつくることにする.すべての平方数を表示し得る2つの立方体の異なる配列の組はいくつあるか."},"91":{"title":"整数座標における直角三角形","body":"点P(x1, y1)と点Q(x2, y2)はともに整数係数の点であり, 原点O(0,0)と合わせてΔOPQをなす.各係数が0と2の間にあるとき, すなわち0 ≤ x1, y1, x2, y2 ≤ 2のとき, 直角三角形は14個できる:では, 0 ≤ x1, y1, x2, y2 ≤ 50のとき, 直角三角形は何個作れるか?"},"92":{"title":"桁の2乗による連鎖","body":"各桁の2乗を足し合わせて新たな数を作ることを, 同じ数が現れるまで繰り返す.例えば　　44 → 32 → 13 → 10 → 1 → 1\n　　85 → 89 → 145 → 42 → 20 → 4 → 16 → 37 → 58 → 89のような列である. どちらも1か89で無限ループに陥っている. \n驚くことに, どの数から始めても最終的に1か89に到達する.では, 10,000,000より小さい数で89に到達する数はいくつあるか."},"93":{"title":"算術式","body":"集合 {1, 2, 3, 4} の各数字をちょうど一度用い, また四則演算 (+, －, *, /) と括弧を使うことにより, 異なる正の整数を作ることができる.例えば,\n8 = (4 * (1 + 3)) / 2\n14 = 4 * (3 + 1 / 2)\n19 = 4 * (2 + 3) － 1\n36 = 3 * 4 * (2 + 1)12 + 34 のように数字をつなげることは許されないことに注意しよう.集合 {1, 2, 3, 4} を使うと, 36 を最大とする 31 個の異なる数が得られる. 最初の表現できない数に会うまで, 1 から 28 の各数を得ることができる.最長の連続した正の整数 1 から n の集合を得ることができる, 4 つの異なる数字 a < b < c < d を見つけよ. 答えを文字列 abcd として与えよ."},"94":{"title":"擬正三角形","body":"一辺の長さが整数の正三角形は面積が整数にならないことを示すのは簡単である. しかし,  5-5-6の辺を持つ殆ど正三角形に近い擬正三角形 (almost equilateral triangle) は面積が12で整数である.以降, 二等辺三角形で, 3つめの辺の長さが他と1つしか違わないもの (5-5-6, 5-5-4等) を, 擬正三角形と呼ぶ.さて, 周囲の長さが1,000,000,000以下の面積が整数になる擬正三角形を考え, その周囲の長さの総和を求めよ."},"95":{"title":"友愛鎖","body":"ある数の真の約数とは, それ自身を除く約数すべてである. 例えば, 28 の真の約数は 1, 2, 4, 7, 14 である. これらの約数の和は 28 に等しいため, これを完全数と呼ぶ.面白いことに, 220 の真の約数の和は 284 で, 284 の真の約数の和は 220 となっており, 二つの数が鎖をなしている. このため, 220 と 284 は友愛数と呼ばれる.さらに長い鎖はあまり知られていないだろう. 例えば, 12496 から始めると, 5 つの数の鎖をなす.この鎖は出発点に戻っているため, 友愛鎖と呼ばれる.いずれの要素も 1,000,000 を超えない最長の友愛鎖の最小のメンバーを求めよ."},"96":{"title":"数独","body":"\"数独\"(日本語で数字を配置するという意味)とは人気があるパズルの名前である.\n起源は不明だが, その評判はラテン語で\"Squares\"と呼ばれる同様な, そしてはるかに難しいパズルを考案した\nレオンハルト・オイラーの貢献によるものに違いない.\nしかしながら, \"数独\"パズルの目的は\nそれぞれの行, 列が3×3の枠を含む9×9の格子の空白（もしくは0）をそれぞれ1から9の数字で置き換えることである.\n下に, 一般的なパズルの開始状態とその解答の例がある.うまく作られている\"数独\"パズルは,\n選択肢を消去するために\"仮定とテスト\"方式を用いる必要があるかもしれないが,\nただ一つの解を持ち, 論理によって解くことができる(これについては様々な意見がある).探索の複雑さがパズルの難易度を決定する;\n上に挙げた例は, 単純で直接的な推論によって解く事ができるため, 簡単であると考えられる.6kバイトのテキストファイルsudoku.txt(右クリックで,\"名前をつけてリンク先を保存\")\nにはただ一つの解を持つ, 様々な難易度の50の\"数独\"パズルが含まれている(上の例題はこのファイルにおける最初のパズルである).50すべてのパズルを解き, それぞれの解答の左上隅にある3桁の数の合計を求めよ;\n例えば483は上の解答例の左上隅の3桁の数である."},"97":{"title":"大きな非メルセンヌ素数","body":"100万桁を超える初めての素数は1999年に発見された. これはメルセンヌ素数であり, 26972593-1 である. 実際, 2,098,960桁ある.\nそれ以降も, より多くの桁になるメルセンヌ素数 (2p-1の形の数) が他にも発見されている.しかし, 2004年に, 非常に大きな非メルセンヌ素数が発見された. これは2,357,207桁の数であり, 28433×27830457+1である.この素数の末尾10桁を答えよ."},"98":{"title":"アナグラム平方数","body":"CARE という単語の各文字をそれぞれ 1, 2, 9, 6 に置き換えることによって, 平方数 1296 = 362 ができる. 注目すべきことに, 同じ数字の置換をつかうことにより, アナグラムの RACE も平方数 9216 = 962 をつくる. CARE (と RACE) を平方アナグラム単語対と呼ぼう. 先頭のゼロは許されず, 異なる文字が同じ数字をもつこともないとする.約 2,000 個の一般的な英単語を含む 16K のテキストファイルwords.txt (右クリックして \"名前をつけてリンク先を保存\") を用いて, 平方アナグラム単語対をすべて求めよ (回文となる単語はそれ自身のアナグラムとはみなさない).そのような対のメンバーから作られる最大の平方数は何か?注: 作られるアナグラムは, すべて与えられたテキストファイルに含まれている."},"99":{"title":"最大のべき乗","body":"指数の形で表される2つの数, 例えば 211 と 37, の大小を調べることは難しくはない. 電卓を使えば, 211 = 2048 < 37 = 2187 であることが確かめられる.しかし, 632382518061 > 519432525806 を確認することは非常に難しい (両者ともに300万桁以上になる).各行に1組が書かれている1000個の組を含んだ22Kのテキストファイル base_exp.txt から, 最大の数が書かれている行の番号を求めよ.注: ファイル中の最初の二行は上の例である."},"100":{"title":"組み合わせの確率","body":"箱の中に15個の青い円盤と6個の赤い円盤からなる21個の色のついた円盤が入っていて, 無作為に2つ取り出すとき, 青い円盤2つを取り出す確率P(BB)はであることがわかる.無作為に2つ取り出すとき, 青い円盤2つを取り出す確率がちょうど1/2となるような次の組み合わせは, 箱が85個の青い円盤と35個の赤い円盤からなるときである.箱の中の円盤の合計が1012 = 1,000,000,000,000を超えるような最初の組み合わせを考える. 箱の中の青い円盤の数を求めよ."},"101":{"title":"最適多項式","body":"数列のk個の項を与えられたときに, 次の項を確実に求めることは不可能である. その数列に合うような多項式が無限個存在するからである.例として, 立方数の数列を考えよう. これは生成関数 un = n3 で定義され, 1, 8, 27, 64, 125, 216, ...となる.この数列の最初の2項のみが与えられているとしよう. \"Simple is best\"の法則にのっとり, 線形の関係があると仮定し, 3つ目の項が15であると予想する (差分が7). もし最初の3項のみが与えられていたとしても, 同じ原則により, 二次の関係があると仮定して次の項を予測する.数列の最初のk項を生成できる最適な多項式のn項を OP(k, n) で表すことにする.\n明らかに, n ≤ k について OP(k, n) は正しい. 最初の異なる項 (First Incorrect Term, FIT) は OP(k, k+1) であろう. これを bad OP (BOP) と呼ぶことにする.原則より, 最初の項しか与えられていない場合には, 定数項とするのが理に適っているだろう; 即ち, n ≥ 2, OP(1, n) = u1.従って, 立方数の数列について以下のOPを得る.明らかに, k ≥ 4 のときにはBOPは存在しない.BOPのFIT (上の例では赤で示されている) の和は, 1 + 15 + 58 = 74 である.以下の10次多項式からなる生成関数を考える:BOPのFITの総和を求めよ."},"102":{"title":"三角形の包含","body":"3つの異なる点が -1000 ≤ x, y ≤ 1000 かつ三角形となるように, デカルト平面上にランダムに与えられる.以下の2つの三角形を考える.三角形ABCが原点を内部に含み, XYZは原点を内部に含まないことが確かめられる.27Kのテキストファイルtriangles.txt(右クリックしリンク先を保存して欲しい) にランダムな1000個の三角形が適当なフォーマットのもと含まれている. 内部に原点を含む三角形の数を答えよ.注: ファイル中の最初の二つは三角形ABC, XYZである."},"103":{"title":"特殊和集合:最適化","body":"大きさ n の集合 A の要素の和を S(A) で表す. 空でなく共通要素を持たないいかなる 2 つの部分集合 B と C に対しても以下の性質が真であれば, A を特殊和集合と呼ぼう.\ni. S(B) ≠ S(C); つまり, 部分集合の和が等しくてはならない.\nii. B が C より多くの要素を含んでいればこのとき S(B) > S(C) となる.ある n に対し S(A) が最小化されていれば, それを最適特殊和集合と呼ぼう. はじめの 5 つの最適特殊和集合は下に与えられる.\nn = 1: {1}\nn = 2: {1, 2}\nn = 3: {2, 3, 4}\nn = 4: {3, 5, 6, 7}\nn = 5: {6, 9, 11, 12, 13}ある最適特殊和集合 A = {a1, a2, ... , an} に対し, 次の最適特殊和集合は B = {b, a1+b, a2+b, ... ,an+b} となりそうである. ここで b は前列の「中央の」要素である.この「法則」を用いると n = 6 に対する最適特殊和集合は A = {11, 17, 20, 22, 23, 24} で, S(A) = 117 と予期するだろう. しかしこれは, 最適に近い集合を与えるアルゴリズムを用いたにすぎないため, 最適特殊和集合とはならない. n = 6 に対する最適特殊和集合は A = {11, 18, 19, 20, 22, 25} で, S(A) = 115 である. これに対応する集合の文字列は 111819202225 である.A を n = 7 に対する最適特殊和集合とするとき, その集合の文字列を求めよ.注意: この問題は Problem 105 と 106 に関連している."},"104":{"title":"両端がパンデジタルなフィボナッチ数","body":"フィボナッチ数列は再帰的な関係によって定義される:F541 (113桁)は, 下9桁に1から9までの数字をすべて含む初めてのフィボナッチ数である. そして, F2749 (575桁)は, 頭から9桁に1から9までの数字をすべて含む初めてのフィボナッチ数である.Fkが, 頭から9桁と下9桁のどちらも1から9までの数字をすべて含む初めてのフィボナッチ数とするとき, kを求めよ."},"105":{"title":"特殊和集合:検査","body":"大きさ n の集合 A の要素の和を S(A) で表す. 空でなく共通要素を持たないいかなる 2 つの部分集合 B と C に対しても以下の性質が真であれば, A を特殊和集合と呼ぼう.\ni. S(B)≠S(C); つまり, 部分集合の和が等しくてはならない.\nii. B が C より多くの要素を含んでいればこのとき S(B) > S(C) となる.たとえば, {81, 88, 75, 42, 87, 84, 86, 65} は, 65 + 87 + 88 = 75 + 81 + 84 であるため特殊和集合ではないが, {157, 150, 164, 119, 79, 159, 161, 139, 158} はすべての可能な部分集合の対の組み合わせについて両方のルールを満たしており, また S(A) = 1286 である.7 から 12 の要素を含む 100 個の集合が記された 4K のテキストファイル sets.txt (右クリックして \"名前をつけてリンク先を保存\") を用いて (上の二例はファイルの最初の 2 集合である), 特殊和集合 A1, A2, ... , Ak をすべて特定し, S(A1) + S(A2) + ... + S(Ak) を求めよ.注意: この問題は Problem 103 と 106 に関連している."},"106":{"title":"特殊和集合:メタ検査","body":"大きさ n の集合 A の要素の和を S(A) で表す. 空でなく共通要素を持たないいかなる 2 つの部分集合 B と C に対しても以下の性質が真であれば, A を特殊和集合と呼ぼう.\ni. S(B) ≠ S(C); つまり, 部分集合の和が等しくてはならない.\nii. B が C より多くの要素を含んでいればこのとき S(B) > S(C) となる.本問題に対しては, 与えられた集合は n 個の単調増加する要素を含み, かつ第二のルールをすでに満たしているものと仮定しよう.驚くべきことに, n = 4 の集合から得ることができる 25 個の可能な部分集合の対のうち, 1 個の対のみが 同一性（第一のルール）をテストされる必要がある. 同様に, n = 7 のときは, 966 個の部分集合の対のうち 70 個のみがテストされる必要がある.n = 12 に対して, 得られる 261625 個の部分集合の対のうち, 同一性をテストされる必要があるものは何個か.注意: この問題は Problem 103 と 105 に関連している."},"107":{"title":"最短ネットワーク","body":"以下の無向ネットワークは7つの頂点と重み付きの12個の辺からなり, 重みの総和は243である.このネットワークを以下の行列で表現することができる.しかし, このネットワークを, 全ての頂点が連結であるように適当な辺を除いた上で最適化することが出来る. 節約される量が最大化されるように取り除いたネットワークが以下の画像である. この場合, 辺の重みの総和は93であり, 元のネットワークからの節約量は 243 - 93 = 150 である.6Kバイトのテキストファイル network.txt (右クリックして保存すること) には40頂点のネットワークを行列表示したものが記されている. ネットワーク全体が連結であるが冗長な辺を取り除いたときの節約量を最大にするようにした場合の節約量を答えよ."},"108":{"title":"ディオファントス逆数 その1","body":"次の等式で x, y, n は正の整数である.1/x + 1/y = 1/nn = 4 では 3 つの異なる解がある.1/5 + 1/20 = 1/41/6 + 1/12 = 1/41/8 + 1/8 = 1/4解の数が 1000 を超える最小の n を求めよ.注: この問題は Problem 110 の易しいケースである.\nこちらを先に解く事を強く勧める."},"109":{"title":"ダーツ","body":"ダーツゲームでは, プレイヤーは 20 等分に分けられたダーツボードに 3 本のダーツを投げる. ダーツボードは 1 から 20 の番号がふられている.ダーツの点数は, ダーツが刺さった領域の番号によって決まる. 外側の赤緑の輪の外に刺さったダーツは 0 点である. この輪の内側の黒と白の領域はシングル (1 倍) の点数を表している. しかし, 外側と内側の赤緑の輪はそれぞれダブル (2 倍) とトリプル (3 倍) の点数である.ボードの中央の 2 つの同心円はブルやブルズアイと呼ばれる. 外側のブルは 25 点, 内側のブルはダブルの 50 点である.ルールには多くのバリエーションがあるが, 最もポピュラーなゲームでは, プレイヤーは 301 または 501 点から始まり, 最も早く現在の得点を 0 点に減らしたプレイヤーが勝者となる. しかし, 普通は「ダブルアウト」方式でプレイをする. この方式では, プレイヤーは勝利するために, 最後のダーツをダブル (ボードの中央のダブルのブルズアイを含む) に刺さなければならない. それ以外で現在の得点を 1 点以下に減らした場合, 3 本のダーツに対する得点は「バースト(無効)」になる.プレイヤーが現在の得点で終了できる場合を「チェックアウト」と呼ぶ. 最も高いチェックアウトは 170: T20 T20 D25 (トリプルの 20 を 2 回とダブルのブル) である.得点が 6 でチェックアウトする異なるやり方はちょうど 11 通りある.D1 D2 と D2 D1 は, 異なるダブルで終了しているので異なるとみなすことに注意しよう. しかし S1 T1 D1 の組み合わせは T1 S1 D1 と同じとみなす.さらに, 組み合わせを考える上でミスは含まないこととする; たとえば, D3 は 0 D3 や 0 0 D3 と同じである.信じられないことに, 異なるチェックアウトは全部で 42336 通りある.得点が 100 未満の異なるチェックアウトは何通りあるか."},"110":{"title":"ディオファントス逆数 その2","body":"次の等式で x, y, n は正の整数である.1/x + 1/y = 1/nn = 1260 では 113 の異なる解があり, この n が解の個数が 100 を超える最小の値である.解の数が 4,000,000 を超える最小の n を求めよ.注: この問題は Problem 108 を非常に難しくしたケースである.\n総当り法で解ける範囲を超えているので, 賢い解き方が求められる."},"111":{"title":"重複桁を持つ素数","body":"重複した桁を含む 4 桁の素数を考える. 全てが同じにならないのは明らかである: 1111 は 11 で割り切れ, 2222 は 22 で割り切れ, 以下同様だからである. しかし 3 個の 1 を含む 4 桁の素数は 9 つある:n 桁の素数に対する重複した桁の最大個数を M(n, d) と表すことにしよう. ここで d は重複した桁とする. またそのような素数の個数を N(n, d) と表し, これらの素数の和を S(n, d) と表す.よって M(4, 1) = 3 は, 重複した桁を 1 としたときの, 4 桁の素数に対する重複した桁の最大個数である. そのような素数は N(4, 1) = 9 個あり, これらの素数の和は S(4, 1) = 22275 である. d = 0 に対しては, 重複した桁は M(4, 0) = 2 個だけ可能であることが分かるが, そのような場合は N(4, 0) = 13 個ある.同じようにして 4 桁の素数に対して次の結果を得る.d = 0 から 9 に対して, S(4, d) の総和は 273700 である.S(10, d) の総和を求めよ."},"112":{"title":"はずみ数","body":"左から右までどの桁もその左の桁を下回らない数を増加数と呼ぶ. 例えば, 134468.同様に, どの桁もその右の桁を下回らない数を減少数と呼ぶ. 例えば, 66420.増加数でも減少数でもない正の整数をはずみ数と呼ぶことにする. 例えば, 155349.100以下にはずみ数が無いのは明らかだが, 1000未満では半数を少し上回る525個がはずみ数である.実際, はずみ数の割合が50%に達する最少の数は538である.驚くべきことに, はずみ数はますます一般的になり, 21780でははずみ数の割合は90%に達する.はずみ数の割合がちょうど99%になる最小の数を求めよ."},"113":{"title":"非はずみ数","body":"ある数の桁を左から右へと順に見たとき, 任意の桁の数が自身の左にある桁の数以上であるとき, その数を増加数 (increasing number) と呼ぶ; 例えば134468は増加数である.同様に, 任意の桁の数が自身の右にある桁の数以上であるとき, その数を減少数 (decreasing number) と呼ぶ; 例えば66420がそうである.増加数でも減少数でもない正の整数を \"はずみ\"数 (\"bouncy\" number) と呼ぶ; 155349がそうである.nが大きくなるにつれ, n以下のはずみ数の割合は大きくなる. 例えば, 100万未満では, はずみ数でない数は12951個しかない. 同様に, 1010未満では277032個しかない.googol数 (10100) 未満ではずみ数でないものの数を答えよ."},"114":{"title":"ブロックの組み合わせ方の数え上げ その1","body":"長さ 7 ユニットからなる 1 列上に, 最低 3 ユニットの長さを持つ赤ブロックが置かれている. ただしどの赤ブロック同士も, 少なくとも 1 ユニットの黒い正方形が間にある(赤ブロックは長さが異なってもよい). これを敷き詰める方法は, ちょうど 17 通りある.50 ユニットの長さの 1 列を敷き詰める方法は何通りあるか.注意: 上の例では起こりえないが, 通常はブロックの大きさが複数混ざっていてもよい. 例えば, 8 ユニットの長さの 1 列では, 赤(3), 黒(1), 赤(4) を使うことができる."},"115":{"title":"ブロックの組み合わせ方の数え上げ その2","body":"注意: これは Problem 114 をより難しくした問題である.長さ n ユニットからなる 1 列上に, 最低 m ユニットの長さを持つ赤ブロックが置かれている. ただしどの赤ブロック同士も, 少なくとも 1 ユニットの黒い正方形が間にある(赤ブロックは長さが異なってもよい).敷き詰め計数関数 F(m, n) は 1 列に敷き詰める方法が何通りかを表すとする.例えば, F(3, 29) = 673135 であり, F(3, 30) = 1089155 である.m = 3 の時, n = 30 がこの敷き詰め計数関数が初めて 1,000,000 を超える最小の値であることがわかる.同様に, m = 10 では F(10, 56) = 880711, F(10, 57) = 1148904 であることがわかり, つまり n = 57 がこの敷き詰め計数関数が初めて 1,000,000 を超える最小の値であることがわかる.m = 50 のとき, この敷き詰め計数関数が初めて 1,000,000 を超える最小の n の値を求めよ."},"116":{"title":"赤タイル, 緑タイル, あるいは青タイル","body":"5 個の黒い正方形のタイルの列を, 赤(長さ 2), 緑(長さ 3), 青(長さ 4)から選んで, この色のついた長方形のタイルでいくつか置き換える.もし赤のタイルを選んだ場合は, ちょうど 7 通りの方法がある.もし緑のタイルを選んだ場合は, 3 通りである.もし青のタイルを選んだ場合は, 2 通りである.複数の色を混ぜられない場合は, 5 ユニットの長さの 1 列に並んだ黒いタイルを置き換える方法は 7 + 3 + 2 = 12 通りある.50 ユニットの長さの 1 列に並んだ黒いタイルを置き換える方法は何通りあるか. ただし複数の色を混ぜることはできず, 少なくとも 1 個は色のついたタイルを使うこと.注: この問題は Problem 117 に関連する"},"117":{"title":"赤タイル, 緑タイル, そして青タイル","body":"黒い正方形のタイルと, 2 ユニットの長さの赤のタイル, 3 ユニットの長さの緑のタイル, 4 ユニットの長さの青のタイルから選んで組み合わせて, 5 ユニットの長さの 1 列をタイルで敷く方法はちょうど 15 通りある.長さ 50 ユニットの 1 列をタイルで敷く方法は何通りあるか.注: この問題は Problem 116 に関連する"},"118":{"title":"パンデジタル素数集合","body":"1 から 9 の全ての数字を使い, 自由につなげることで 10 進数の数字を作り, 複数の集合を作ることができる. 集合 {2,5,47,89,631} は面白いことに全ての要素が素数である.1 から 9 の数字をちょうど 1 個ずつ含み, 素数の要素しか含まない集合はいくつあるか?"},"119":{"title":"数字べき乗和","body":"512 という数は興味深い数である. というのも, 各桁の和を何乗かしたものに等しくなっているからである: 5 + 1 + 2 = 8, 83 = 512 である. この特性を持つ他の数は例えば 614656 = 284 である.この数列の第 n 項を an と定義し, また 2 桁以上であるとしよう.a2 = 512, a10 = 614656 となる.a30 を求めよ."},"120":{"title":"自乗で割った余り","body":"(a-1)n+(a+1)n を a2 で割った余りを r と定義する.例えば, a=7, n=3 の時, r=42 である: 63 + 83 = 728 ≡ 42 mod 49.\nn が変われば r も変わるが, a=7 の時 r の最大値 rmax は 42 であることがわかる.3 ≤ a ≤ 1000 において, Σ rmax を求めよ."},"121":{"title":"円盤ゲームの賞金額","body":"袋の中に赤い円盤 1 枚と青い円盤 1 枚が入っている. ある賭けゲームにおいて, プレイヤーは円盤を 1 枚ランダムに取り出しその色を記録する. 各ターンの終わりに円盤は袋に戻され, 追加の赤い円盤 1 枚が袋に足され, そして次の円盤がランダムに取り出される.プレイヤーはゲームをプレイするのに 1 ポンドを支払い, ゲーム終了時に青い円盤を赤い円盤より多く取り出していれば勝利する.ゲームが 4 ターンプレイされたとすると, プレイヤーが勝利する確率はちょうど 11/120 となる. したがって, 胴元が赤字の見込みになるまでにこのゲームで勝ちに対して割り当てるべき賞金の最大は 10 ポンドとなるであろう. 支払いはすべてポンドの整数倍であり, またゲームをプレイするのに支払われたもともとの 1 ポンドを含んでいるため, 与えられた例では実際にはプレイヤーは 9 ポンドを獲得することに注意しよう.15 ターンがプレイされるゲーム 1 回に割り当てられるべき賞金の最大を求めよ."},"122":{"title":"効率的なべき乗計算","body":"n15を求めるのに最も単純な方法では 14 回の掛け算が必要である.n × n × ... × n = n15しかし2進法を用いれば, 6 回の掛け算で計算できる.n × n = n2\nn2 × n2 = n4\nn4 × n4 = n8\nn8 × n4 = n12\nn12 × n2 = n14\nn14 × n = n15ところがたった 5 回の掛け算のみでも計算できる.n × n = n2\nn2 × n = n3\nn3 × n3 = n6\nn6 × n6 = n12\nn12 × n3 = n15m(k)を nk を求めるのに必要最低限な掛け算の回数と定義する.\nたとえば m(15)=5 である.1 ≤ k ≤ 200 に対し, Σ m(k) を求めよ."},"123":{"title":"素数の自乗で割った余り","body":"pn を n 番目の素数とする. (p1 = 2, p2 = 3, ...)\nr を (pn - 1)n + (pn + 1)n を pn2 で割った余りとする.例えば, n = 3 のとき, p3 = 5 であり, 43 + 63 = 280 ≡ 5 mod 25.余り r が 109 より大きくなる n の最小値は 7037 である.余り r が 1010 より大きくなる最初の n を求めよ."},"124":{"title":"順序付き根基","body":"n の\"根基\"(radical)は, rad(n) で表し, n の素因数の積を意味する.\n例えば 504 = 23 × 32 × 7\nであるから, rad(504) = 2 × 3 × 7 = 42 である.1 ≤ n ≤ 10 に対して rad(n) を計算し, rad(n) を対象にソートし, rad(n) が同じ場合は n を対象にソートすると以下のようになる.E(k) をソートした表の n の列の k 番目の要素とする.\n例えば, E(4) = 8, E(6) = 9 である.rad(n) を 1 ≤ n ≤ 100000 でソートした場合, E(10000) を求めよ."},"125":{"title":"回文数の和","body":"回文数 595 は連続する平方数の和で表すことができるという面白い性質を持つ:\n62+72+82+92+102+112+1221000 未満で連続する平方数の和で表せる回文数はちょうど 11 あり, その合計は 4164 である. 正の整数の平方のみをこの問題では扱うため, 1=02+12 は含めないことに注意せよ.回文数でありかつ連続する平方数の和で表せる, 108 未満のすべての数の合計を求めよ."},"126":{"title":"直方体層","body":"3 x 2 x 1 の直方体の表面全てを覆いつくすのに必要最小限の立方体の数は 22 個である.さらにこの立体に表面を覆いつくすように2層目を追加すると, 46 個の立方体が必要である.\n3層目は 78 個, 4層目は 118 個の立方体が表面を覆いつくすのに必要である.ところで 5 x 1 x 1 の直方体への1層目も 22 個の立方体が必要である.\n同様に 5 x 3 x 1, 7 x 2 x 1, 11 x 1 x 1 の直方体への1層目も全て 46 個の立方体である.何層目かが n 個の立方体からなる直方体の数を, C(n) と定義する.\nC(22) = 2, C(46) = 4, C(78) = 5, C(118) = 8 となる.154 は C(n) = 10 を満たす最小の n であることがわかる.C(n)=1000 を満たす最小の n を求めよ."},"127":{"title":"abc-hit","body":"n の根基 (radical) を rad(n) と書き, n の異なる素因数の積とする. 例えば, 504 = 23 × 32 × 7 なので rad(504) = 2 × 3 × 7 = 42 である.正整数の3つ組 (a, b, c) が abc-hit であるとはの4つの性質を満たすことである.(5, 27, 32) は abc-hit である:abc-hit は非常に稀である. c < 1000 のときには31個しかなく, そのときの ∑c は 12523 である.c < 120000 での ∑c を求めよ."},"128":{"title":"六角形タイルの差分","body":"1の六角形のタイルは, 12時から反時計回りに配置された2から7の6個の六角形のタイルの輪に囲まれている.8から19, 20から37, 38から61, , , といった新しい輪も同様にして加えられるものとする. 下図に最初の3個の輪を示す.タイル n とそれに隣接するタイルについて, 差の値が素数となる個数を PD(n) と定義する.例えば, タイル8では時計回りに 12, 29, 11, 6, 1, 13 となるので, PD(8) = 3 である.同様に, タイル17では 1, 17, 16, 1, 11, 10となるので, PD(17) = 2 となる.PD(n) の最大値は3であることが示せる.PD(n) = 3 となるタイルを昇順に並べた数列では, 10番目のタイルは271となる.この数列について2000番目のタイルを求めよ."},"129":{"title":"レピュニットの非整除性","body":"1のみからなる数をレピュニットという. R(k) を長さ k のレピュニットとする. 例えば, R(6) = 111111 となる.GCD(n, 10) = 1 なる正の整数 n が与えられたとき, R(k) が n で割り切られるような k が常に存在することが示せる. A(n) をそのような k の最小のものとする. 例えば, A(7) = 6, A(41) = 5 となる.A(n) の値が10を超える最小の n は17である.A(n) の値が100万を超える最小の n を求めよ."},"130":{"title":"素数桁レピュニットと同じ性質を持つ合成数","body":"1からのみなる数をレピュニットと呼ぶ. R(k)で長さkのレピュニットを表す. 例えばR(6) = 111111である.GCD(n, 10) = 1 となる正整数 n について, 必ず正整数 k が存在し n が R(k) を割り切ることが証明できる. A(n) でそのような最小の k を表す. 例: A(7) = 6. A(41) = 5.5より大きい素数 p について, A(p) が p - 1 を割り切ることが知られている. p = 41 のときには, A(41) = 5 であり, 40は5で割り切れる.非常に少ないのだが, 合成数においても上が成立する場合がある. 最初の5つの例は 91, 259, 451, 481, 703 である.GCD(n, 10) = 1 かつ A(n) が n - 1 を割り切るような最初の25個の合成数 n の総和を求めよ."},"131":{"title":"素数と立方数の関係","body":"いくつかの素数pでは, ある正の整数nが存在して, n3+pn2が立方数になる.例えば, p = 19のときには, 83+19×82=123である.このような性質を持つ各素数について, nの値は一意に定まる. また, 100未満の素数では4つしかこの性質を満たさない.この性質を持つ100万未満の素数は何個あるだろうか?"},"132":{"title":"巨大なレピュニットの因数","body":"1のみからなる数をレピュニットという. R(k) を長さ k のレピュニットとする.例えば, R(10) = 1111111111 = 11×41×271×9091 となり, 素因数の和は9414となる.R(109) の最初の40個の素因数の和を求めよ."},"133":{"title":"レピュニットの非因数","body":"1のみからなる数をレピュニットという. R(k) を長さ k のレピュニットとする. 例えば, R(6) = 111111 となる.R(10n) というレピュニットについて考える.R(10), R(100), R(1000) は 17 では割り切れないが, R(10000) は 17 で割り切られる. さらに, R(10n) が 19 で割り切られるような n は存在しない. 驚くべきことに, R(10n) の因数となりうる100未満の素数は 11, 17, 41, 73 の4個のみである.R(10n) の因数となりえない100000未満の素数の和を求めよ."},"134":{"title":"素数ペアの結合","body":"連続する素数 p1 = 19, p2 = 23 について考える. 1219 は末尾の桁が p1 からなり p2 で割り切られる最小の数であることが確かめられる.実際, p1 = 3, p2 = 5 を除けば, 全ての p2 > p1 なる連続する素数のペアについて, 末尾の桁が p1 からなり p2 で割り切られる数 n が存在する. S を n の最小のものであるとする.5 ≤ p1 ≤ 1000000 を満たす連続する素数のペア全てに対し ∑ S を求めよ."},"135":{"title":"同一差分","body":"正の整数x, y, z が等差数列として与えられたとき, x2 - y2 - z2 = n がちょうど2個の解を持つような最小の正の整数 n は, n = 27である.342 − 272 − 202 = 122 − 92 − 62 = 27n = 1155 は, 方程式がちょうど10個の解を持つ最小の値である.ちょうど10個の解を持つような n は, 100万までにいくつ存在するか?"},"136":{"title":"単体差分","body":"x, y, z を等差数列となるような正の整数とする. 正の整数 n が n = 20 と与えられたときに, 方程式 x2 - y2 - z2 = n は唯一つの解を持つ.132 - 102 - 72 = 20実のところ100未満のnについて方程式が唯一つの解を持つようなnは25個存在する.5000万未満のnについて方程式が唯一つの解を持つようなnは何個存在するか?"},"137":{"title":"フィボナッチ金塊","body":"フィボナッチ数列 Fk = Fk-1 + Fk-2, F1 = 1, F2 = 1 (Fk = 1, 1, 2, 3, 5, 8, ...) によって与えられる無限級数 AF(x) = xF1 + x2F2 + x3F3 + ... を考える.この問題では, AF(x) が正の整数となるような x の値について考える.\n驚くべきことに,\nAF(1/2) = (1/2).1 + (1/2)2.1 + (1/2)3.2 + (1/2)4.3 + (1/2)5.5 + ... = 1/2 + 1/4 + 2/8 + 3/16 + 5/32 + ... = 2である.最初の5つの自然数に対する x の値を下表に示す.xが有理数のときのAF(x)の値を, 非常に稀なので, \"金塊\" (golden nugget) と呼ぶ. 実際, 10番目の\"金塊\"は74049690である.15番目の\"金塊\"を求めよ."},"138":{"title":"特殊な二等辺三角形","body":"底の長さbが16, 脚の長さLが17の二等辺三角形を考える.ピタゴラスの定理より, 三角形の高さh = √(172 − 82) = 15となる. 高さは底の長さより1だけ短い.b = 272, L = 305とすると, h = 273となり, これは底の長さより1だけ長い. この三角形はh = b ± 1という性質を持つ二等辺三角形の中で二番目に小さい.h = b ± 1, b, Lが全て正の整数であるとし, そのような二等辺三角形の中で小さい順に12個取ったときの∑Lを求めよ."},"139":{"title":"ピタゴラスタイル","body":"(a, b, c)で各辺の長さが整数の直角三角形の三辺を表す. 一辺の長さがcの正方形中に先ほどの三角形を4つ配置することが可能である.例えば (3, 4, 5)-三角形は5×5の正方形に4つ配置される. このとき, 中央部に1×1の穴が空いている. また, 5×5の正方形は25個の1×1の正方形で敷き詰めることが出来る.しかし, (5, 12, 13)-三角形を使った場合は穴のサイズが7×7になり, 7×7の正方形では13×13の正方形を敷き詰めることが出来ない.では, 108未満の周囲長を持つ直角三角形を考え, 上のような敷き詰め方を許す直角三角形の数を答えよ."},"140":{"title":"変形フィボナッチ金塊","body":"3項間漸化式 Gk = Gk-1 + Gk-2, G1 = 1, G2 = 4 (Gk = 1, 4, 5, 9, 14, 23, ...) によって与えられる無限級数 AG(x) = xG1 + x2G2 + x3G3 + ... を考える.この問題では, AG(x) が正の整数となるような x の値について考える.最初の5つの自然数に対する x の値を下表に示す.x が有理数となるときの AG(x) の値を\"金塊\" (golden nugget) と呼ぶことにする. \"金塊\"は次第に稀になっていき, 20番目の\"金塊\"は 211345365 となる.最初の30個の\"金塊\"の和を求めよ."},"141":{"title":"平方数でもある累進数 n の調べ上げ","body":"正の整数nをdで割った商と余りをそれぞれqとrで表す. d, q, rを適当に並び替えたときに正の項からなる等比数列（幾何数列）になる場合がある.例えば58を6で割ると商が9で余りが4である. 4, 6, 9は公比3/2の幾何数列になっている. 以下, このような n を累進数と呼ぶ. (訳者注: progressive numberの定訳が分からないので適当な名前にしておく.)いくつかの累進数 9や10404=1022は平方数になっている.\n100000未満の累進平方数の和は124657である.1012未満の累進平方数の総和を答えよ."},"142":{"title":"完全平方数コレクション","body":"x + y, x - y, x + z, x - z, y + z, y - zが全て平方数となる整数の組 x > y > z > 0で, 最小の x + y + z を求めよ."},"143":{"title":"三角形のトリチェリ点の調べ上げ","body":"ABCを全ての内角が120度未満の三角形とする. Xを三角形の内点とし, XA = p, XB = q, XC = rとする.フェルマーは「p+q+rを最小にするXを探す方法はあるか?」とトリチェリに問題を出した.正三角形 AOB, BNC, AMC がABCの各辺に構成できるならば, AOB, BNC, AMCに外接する3つの円が三角形の内部の1点 T で交わることをトリチェリは示した. さらに, トリチェリ-フェルマー点と呼ばれる T が, p + q + r を最小化することも示した. 更には, 和が最小となるときには, AN = BM = CO = p + q + r であり, AN, BM, COもまた T と交わることも示せる.和が最小化されているとして, a, b, c, p, q, r が全て正の整数であるとき, 三角形 ABC をトリチェリ三角形と呼ぶ. 例えば, a = 399, b = 455, c = 511 は p + q + r = 784 のトリチェリ三角形である.トリチェリ三角形について 異なる値をとる p + q + r ≤ 120000 の総和を求めよ.注: この問題は最近変更された. 正しいパラメータを用いているかどうかチェックしてほしい."},"144":{"title":"レーザービームの多重反射の調べ上げ","body":"レーザー物理学では, \"white cell\"とはレーザー光線を遅延させるための鏡の装置のことである. 光線はcellに入り, 鏡で反射して, 最終的には飛び出す.特定のwhite cellは, 方程式 4x2 + y2 = 100 で表される楕円と考えることができる.−0.01 ≤ x ≤ +0.01 に対応する上部に穴が空いていて, 光線が出入りできるようになっている.この問題では, 光線はwhite cellの外側 (0.0,10.1) から始まり, 最初に (1.4,-9.6) で鏡に反射するものとする.光線は, 楕円の表面に当たるごとに, 反射の法則に従う. つまり, 入射する光線と反射する光線は入射する点の法線に対して同じ角度をなす.上の左の図では, white cellと赤線で光線の最初に反射する2点を, 青線で最初に反射する点の接線を示している.与えられた楕円に対する点 (x,y) での接線の傾きmは, m = -4x/y となる.法線とは, 反射する点での接線に垂直な線である.右側のanimationは光線の最初の10回の反射を示している.光線はwhite cellから出るまでに何回反射するか?"},"145":{"title":"10億未満に存在するreversibleな数はいくつか?","body":"ある正の整数nについて, [n + reverse(n)]が奇数のみで表されるようなnが存在する. 例えば, 36 + 63 = 99, 409 + 904 = 1313 のように. この性質を持つ数を, reversibleと呼ぶことにする. つまり, 36, 63, 409, 904はrevesibleである. 先頭の0はnでもreverse(n)でも許されない.1000未満には120個のreversibleな数が存在する.10億(109)未満では, いくつのreversibleな数が存在するか."},"146":{"title":"ある素数パターンの調べ上げ","body":"n2+1, n2+3, n2+7, n2+9, n2+13, n2+27 が連続する素数になる最小の正整数 n は 10 である. 100万未満の n の総和は 1242490 である.それでは, 1億5000万未満の n の総和を求めよ."},"147":{"title":"斜交平行格子内の長方形","body":"3x2 の斜め線が引かれた格子には, 下図で示されるように全部で37個の異なった長方形が存在する.3x2 より横にも縦にも小さい5個の格子(つまり, 1x1, 2x1, 3x1, 1x2, 2x2)を考えると, それらに存在する長方形の数は以下のようになる.1x1: 1\n2x1: 4\n3x1: 8\n1x2: 4\n2x2: 18これらに3x2の格子の37を加えると, 全部で72個の異なった長方形が3x2以下の格子について存在する.47x43以下の格子について存在する異なった長方形の数を求めよ."},"148":{"title":"パスカルの三角形の探査","body":"パスカルの三角形の最初の7列には7で割り切れる要素は一つもないことが簡単に分かる.しかし最初の100列を調べると, 5050個の要素の内, 7で割り切れないものは2361個しかない.パスカルの三角形の最初の10億列 (109列) の要素で7で割り切れないものの数を答えよ."},"149":{"title":"和が最大となる部分列の探索","body":"下の表において, 任意の方向(縦横斜め)に隣り合うものの和の最大値は16 (= 8 + 7 + 1)となることは簡単に確かめられる.いま, 同じ探索をより大きなものについてもしてみることにする.まず, 400万個の擬似乱数を\"Lagged Fibonacci Generator\"によって生成する.1 ≤ k ≤ 55 について, sk = [100003 - 200003k + 300007k3] (modulo 1000000) - 500000 \n56 ≤ k ≤ 4000000 について, sk = [sk-24 + sk-55 + 1000000] (modulo 1000000) - 500000つまり, s10 = -393027 , s100 = 86613 となる.s の項は, 最初の2000個を最初の行に(順番に), 次の2000個を2番目の行に, というように, 2000x2000の表に並べ替えられる.任意の方向(縦横斜め)に隣り合うものの和の最大値を求めよ.\n(連続して足す領域は３マス以上でもよい, 斜め４マス等も認める)"},"150":{"title":"三角形配列から和が最小となる部分三角形の探索","body":"三角形配列において, 含まれる要素の和が最小となるような部分三角形を求めたい.下図では, マークされた三角形が, 和が -42 となり, この条件を満たすことは簡単に確かめられる.1000行の三角形配列を作りたいので, 500500個の値の範囲が±219の擬似乱数 sk を以下のような線形合同法によって生成する.t := 0\nfor k = 1 up to k = 500500:{\nt := (615949*t + 797807) modulo 220\nsk := t−219\n}よって, s1 = 273519, s2 = −153582, s3 = 450905 ...となる.三角配列は, 以下のように配置される.部分三角形は, ある要素から始めて下にいくにつれ広くなっていくようなものを考える. (最初の要素の次の行は2つの要素を含む, その次の行は3つの要素を含む, といったように)\n\"部分三角形の和\"はそれが含む全ての要素の和とする. \n最小の部分三角形の和を求めよ."},"151":{"title":"規格寸法用紙 : 期待値問題","body":"とある印刷屋では毎週16回の定期的な仕事がある. 毎回 A5 サイズの特殊な色校正用紙 (special colour-proofing paper) を1枚使う.月曜日の朝になると, 主任はA1サイズの特殊紙が入った新しい封筒を開ける.彼はA1の紙を半分に切る. するとA2の紙が2枚出来上がる. 片方を半分に切りA3の紙が2枚出来上がる. 以下繰り返し, A5の紙を得るまで繰り返し, 1枚をその週の最初の仕事に使う.使われなかった紙は全て元の封筒に収める.さて, 各仕事の際に, 主任は封筒からランダムに紙を1枚取り出す. もしA5の紙を取り出したならそのまま仕事に使う. そうでない場合は 半分に切る ことを繰り返し, A5の紙を1枚使い, 残りは元の封筒に戻す.週の最初と最後の仕事以外で, 封筒に紙が1枚だけ入っている回数の期待値を求めよ.回答は, 四捨五入し小数点以下6桁で答えること (x.xxxxxxという形)."},"152":{"title":"平方の逆数の和としての 1/2 の表記","body":"1/2 を異なる整数の平方の逆数の和として書き表す方法はいくつかある.例えば, {2,3,4,5,7,12,15,20,28,35}を使うと,実際, 2から45までの整数を使うと, ちょうど3通りの方法がある. 残りの方法は, {2,3,4,6,7,9,10,20,28,35,36,45} か {2,3,4,6,7,9,12,15,28,30,35,36,45} を使う方法である.2から80までの異なる整数の平方の逆数の和として 1/2 を書き表す方法は何通りあるか求めよ."},"153":{"title":"ガウス整数の調べ上げ","body":"方程式 x2 = -1 が実数 x について解が存在しないことは誰もが知っている. \nしかし, 虚数 i を導入することで方程式は2つの解 x = i , x = -i を持つ. \nさらに, 方程式 (x - 3)2 = -4 は二つの複素数の解 x = 3+2i , x = 3-2i を持つ. \nx = 3+2i と x = 3-2i は他方の共役複素数と呼ばれる. \na + bi という形の数は複素数と呼ばれる. \n一般に, a + bi と a - bi は他方の共役複素数である.ガウス整数とはaとbがともに整数である複素数 a + bi のことである. \n普通の整数はまた, ガウス整数である. (b = 0 のケース)\nb ≠ 0 のガウス整数と区別するために, 普通の整数を\"有理整数\"と呼ぶことにする. \n有理整数 n をあるガウス整数で割った結果がガウス整数である場合, そのガウス整数は約数と呼ばれる. \n例として, 5 を 1+2i で割ると, は以下のように簡略化できる. \n分子と分母に1+2iの共役複素数(1-2i)を掛ける. \n結果は, となる. \nよって, 1+2i は 5 の約数である. \n1+i はなので 5 の約数でないことに注意. \nさらに, ガウス整数(a+bi)が有理整数 n の約数ならば, その共役複素数(a-bi)もまた n の約数となることにも注意.実際, 5 は実部が正となる約数を, {1, 1 + 2i, 1 - 2i, 2 + i, 2 - i, 5}の6個持つ. \n以下に最初の5個の正の有理整数の約数の表を示す.正の実部を持つ約数について, を得る.1 ≤ n ≤ 105 について, ∑s(n) = 17924657155 となる.1 ≤ n ≤ 108 について, ∑s(n) を求めよ."},"154":{"title":"パスカルのピラミッドの探査","body":"1つの球が下の層の3つの球の上に乗るように作られた三角錐がある.頂上から各球への経路の数を計算することにする.経路は, 頂上から始まって, すぐ下の3つのいずれかへと下向きに進む.したがって, ある位置への経路の数はすぐ上のものの和となる. (位置に依るが, 最大で3つが上にある)結果はパスカルのピラミッドとなり, 深さnの層に含まれる数は (x + y + z)n を展開したものの係数である.(x + y + z)200000 を展開したものの係数で, 1012の倍数となるものはいくつあるか?"},"155":{"title":"キャパシタ回路の数え上げ","body":"静電容量が等しい理想的なキャパシタのみを使った電気回路がある.複数のキャパシタを直列または並列に接続してサブユニットを形成し, そのサブユニットを他のキャパシタやサブユニットと直列または並列に接続してより大きなサブユニットを形成し, そのようにして最終的な回路を形成する.この単純な手続きをn個以下の理想的なキャパシタに適用し, 全体の静電容量が異なる複数の回路を構成することができる. 例えば, 60μFのキャパシタでn=3の場合は, 以下のように7通りの異なる静電容量を得ることができる.n個以下の等価なキャパシタと上で述べた単純な手続きから得られる全体の静電容量が異なる組み合わせの数をD(n)と書くとすると, D(1)=1, D(2)=3, D(3)=7, ... となる.D(18)を求めよ.注意：キャパシタC1, C2, ...を並列に接続したときの全体の静電容量はCT = C1 + C2 + ... ,\n直列に接続したときの全体の静電容量は  で求められる."},"156":{"title":"桁の数え上げ","body":"以下のように, 10進法で自然数を0から書いていく. \n0 1 2 3 4 5 6 7 8 9 10 11 12....ある桁の数が d = 1 について考える. 数nを書いた後, 1が出現する回数を更新する. この数を f(n,1) とする. f(n,1) の最初の値は以下のようになる.f(n,1) は決して3にならないことに注意. \nつまり, f(n,1) = n の最初の2つの解は, n = 0 と n = 1 となる. 次の解は n = 199981 である.同様にして, f(n,d) はある桁の数dがnまでに何回現れたか, と定義する. \n実は, d ≠ 0 の全てのdについて, 0 が f(n,d)=n の最初の解となる.s(d) を, f(n,d) = n の解の総和として定義する.\ns(1) = 22786974071 となる.1 ≤ d ≤ 9 について, ∑ s(d) を求めよ.注意: もし, f(n,d) = n となるnが異なったdについて存在した場合, このnは重複して数えるものとする."},"157":{"title":"ディオファントス方程式 1/a + 1/b = p/10n を解く","body":"ディオファントス方程式 1/a + 1/b = p/10n (a, b, p, n は正の整数で, a ≤ b) について考える. \nn = 1 について, この方程式は以下に挙げられる20個の解を持つ.1 ≤ n ≤ 9 について, この方程式の解はいくつ存在するか?"},"158":{"title":"左隣の文字より辞書順で後になる文字がちょうど1個となる文字列の探査","body":"26文字のアルファベットから3個の異なった文字を取ると, 長さ3の文字列を作ることができる. \n例えば, 'abc', 'hat', 'zyx'となる. \nこの3つの例について調べると, 'abc'は左隣の文字より辞書順で後になる文字が2個ある. \n'hat'では, 左隣の文字より辞書順で後になる文字がちょうど1個となり, 'zyx'では0個となる. \n左隣の文字より辞書順で後になる文字がちょうど1個となるような長さ3の文字列は全部で10400個存在する.いま, n ≤ 26 個の異なったアルファベットからなる文字列について考える. \nnについて, p(n) を左隣の文字より辞書順で後になる文字がちょうど1個となるような長さnの文字列の個数であるとする.p(n) の最大値を求めよ."},"159":{"title":"因数分解の数字根和","body":"合成数は多くの異なった方法で因数分解することができる. 例えば, 1 を含めないとすると, 24 は以下の 7 通りに因数分解される.24 = 2x2x2x3\n24 = 2x3x4\n24 = 2x2x6\n24 = 4x6\n24 = 3x8\n24 = 2x12\n24 = 24ある数について, 各桁の数字を足し合わせることを 10 未満になるまで繰り返したときに得られる数を, 数字根 (digital root) と呼ぶことにする. つまり, 467 の数字根は 8 となる.それぞれの因数の数字根の和を数字根和 (Digital Root Sum , DRS) と呼ぶことにする. \n以下の表に 24 の DRS を示す.24 の数字根和の最大値は 11 となる. \nmdrs(n) を, n の数字根和の最大値と定義する. つまり, mdrs(24) = 11 となる. \n1 < n < 1,000,000 について ∑mdrs(n) を求めよ."},"160":{"title":"階乗の下位桁","body":"任意の N に対して, f(N) を N! の末尾の 0 の前にある最後の5桁とする.例えば,9! = 362880, f(9)=3628810! = 3628800, f(10)=3628820! = 2432902008176640000, f(20)=17664である.f(1,000,000,000,000) を求めよ."},"161":{"title":"トリオミノ","body":"トリオミノとは3つの正方形を辺で繋げたものである. 以下は2つの基本形.すべての方向を可能性に入れると, 以下の6つがある.n x m が3で割り切れるならば, どのn x m の格子もトリオミノによって埋めることができる. \n反転, 回転によって得られる埋めかたを別の埋め方とすると, 2 x 9 の格子では41通りの埋め方がある.9 x 12 の格子では何通りの埋め方があるか?"},"162":{"title":"16進数","body":"16進法では, 数は以下の16個の数字によって表される0,1,2,3,4,5,6,7,8,9,A,B,C,D,E,F16進数の AF は, 10進法での 10x16 + 15 = 175 と等しい.3桁の16進数 10A, 1A0, A10, A01 には, 0, 1, A の全てが現れている. \n10進数で書くときと同様に, 先頭の0は書かないことにする.0, 1, A がそれぞれ少なくとも1回は現れるような16桁までの16進数はいくつ存在するか?\n16進数で答えよ.(A,B,C,D,E,F は大文字とし, 先頭や末尾の16進数であることを表す記号や先頭の0は許されない. つまり, 1A3F ならOK. 1a3f, 0x1a3f, $1A3F, #1A3F, 0000001A3Fは許されない. )"},"163":{"title":"斜交平行模様の三角形","body":"各頂点から対辺の中点に足を下ろした正三角形を考える. 以下に大きさ1の三角形を示す.この三角形には形, 大きさ, 方向, 位置のいずれかが異なる三角形が16個含まれる. 大きさ1の三角形をブロックとして, 大きい三角形が作れる. 大きさ2の三角形を上図に示す. 大きさ2の三角形には形, 大きさ, 方向, 位置のいずれかが異なる三角形が104個含まれる.大きさ2の三角形は4個の大きさ1の三角形のブロックを含み, 大きさ3の三角形は9個の大きさ1の三角形のブロックを含む. 大きさnの三角形は n2 個の大きさ1の三角形のブロックを含む.T(n) を大きさnの三角形に含まれる三角形の数とすると,T(1) = 16\nT(2) = 104 となる.T(36) を求めよ."},"164":{"title":"どの連続した3桁の和も与えられた数を超えない数","body":"どの連続した3桁の和も9以下のような(9以下は9を含む)20桁の数(先頭の0は認めない)はいくつあるか?"},"165":{"title":"交点","body":"線分は二つの端点によって一意に決まる. \n平面上の2つの線分を考えると以下の3つの可能性がある, \n共有点が0個のケース, 共有点が1個のケース, 無限に多くの共有点を持つケース.さらに, 2つの線分が共有点を1つのみ持つとき, 共有点がどちらかまたは両方の線分の端点である場合がある. もし共有点がどちらの線分の端点でもないなら, その点は両方の線分の内部の点である. \nもし, 線分 L1 と L2 の共有点Tが L1 と L2 の唯一の共有点であり, 両方の線分の内部の点であるとき, Tを真の交点と呼ぶことにする.3つの線分 L1, L2, L3 を考える.L1: (27, 44) から (12, 32)\nL2: (46, 53) から (17, 62)\nL3: (46, 70) から (22, 40)L2 と L3 は真の交点を持つことが確かめられる. L3 の1つの端点の(22,40)は L1 上にあるが, これは真の交点とならないことに注意. L1 と L2 は共有点を持たない. つまり上の, 3つの線分では, 真の交点は1つとなる.いま, 同じことを5000個の線分に対して行うことにする. そのために, 20000個の数を\"Blum Blum Shub\"と呼ばれる擬似乱数生成法によって生成する.s0 = 290797sn+1 = sn×sn (modulo 50515093)tn = sn (modulo 500)それぞれの線分を4つの連続する tn によって決める. つまり, 最初の線分は,(t1, t2) から (t3, t4) と与えられる.最初の4つの数は上の生成法によって, 27, 144, 12, 232 となる. 最初の線分は, (27,144) から (12,232) となる.上の5000個の線分に対して, いくつの相異なった真の交点が存在するか?"},"166":{"title":"十字","body":"0 ≤ d ≤ 9 なる d で埋められた 4x4 の格子がある.以下の格子では, それぞれの行, 列の和が12となる. さらに, 斜めの和も12となる.0 ≤ d ≤ 9 なる d で 4x4 の格子を, それぞれの行, 列, 斜めの和が同じとなるように埋める方法は何通りあるか?"},"167":{"title":"Ulam数列について調べ上げよ","body":"正の整数a,bについて, Ulam数列 U(a,b)は以下のように定義される. U(a,b)1 = a , U(a,b)2 = b , k > 2については, U(a,b)kは二つの異なったU(a,b)のそれまでの値の和としての表し方が一通りである数のU(a,b)k-1を超える最小値となる.例えば, 数列U(1,2)は, \n1, 2, 3 = 1 + 2, 4 = 1 + 3, 6 = 2 + 4, 8 = 2 + 6, 11 = 3 + 8; となる. \n5は, 5 = 1 + 4 = 2 + 3 というように二つの和の表し方があるのでこの数列に含まれない. 7 = 1 + 6 = 3 + 4 も同様である.∑U(2,2n+1)1e11を 2 ≤ n ≤10 について求めよ."},"168":{"title":"数の循環","body":"自然数 142857 を考える. 最後の桁 (7) を一番前に持っていく, すなわち, 右に循環させると 714285 を得る.714285 = 5 × 142857 が確認できる.これは142857の珍しい性質を示している. つまり, 右に循環させた数の約数になっている.10 < n < 10100 の n について, この性質をもつ数の総和の下 5 桁を答えよ."},"169":{"title":"ある数を2のべき乗の和で表せる方法の数の探査","body":"整数nを2のべき乗の和で表すことを考える. ただし各数は高々2回しか使ってはいけないものとする. この表し方の数をf(n)とする. ただしf(0)=1と定義する.例として n=10 を考える.と5通りの異なる表し方があるので, f(10)=5 である.f(10^25)を求めよ."},"170":{"title":"連結された積が0から9を網羅する数の最大値を求めよ","body":"6を1273と9854に掛けると,6 × 1273 = 7638\n6 × 9854 = 59124\nとなる.これらの積をつなげることで, 1から9を網羅するパンデジタル数, 763859124を得る. 763859124を\"6と(1273,9854)の連結された積\"と呼ぶことにする. 元の数をつなげた 612739854も1から9を網羅する数であることに注意.同じことが0から9を網羅する数にたいしてもできる.元の数をつなげた数も0から9を網羅する数となるような, ある整数と二つ以上の整数の連結された積が0から9を網羅する数の最大値を求めよ."},"171":{"title":"各桁の平方の和が平方数となる数を求める","body":"正の整数nについて, f(n)を各桁の数字(10進数)の平方の和と定義する. 例えば,f(3) = 32 = 9,\nf(25) = 22 + 52 = 4 + 25 = 29,\nf(442) = 42 + 42 + 22 = 16 + 16 + 4 = 360 < n < 1020について, f(n)が平方数となるようなnの和の末尾9桁を求めよ."},"172":{"title":"桁の繰り返しが少ない数の調べ上げ","body":"どの数字も3回を超えて現れないような18桁の数(先頭の0は許されない)はいくつあるか?"},"173":{"title":"最大100万個のタイルを使っていくつの穴あき正方形laminaを作れるか?","body":"輪郭が正方形で, 正方形の穴を持ち, 縦にも横にも対称性をもつようなものをlaminaeと定義する. 例えば, 32個のタイルを使うと以下の二つの異なったlaminaeが作れる.100個以下のタイルを使うと, 41種類のlaminaeが作れる.100万個以下のタイルを使うと何種類のlaminaeが作れるか?"},"174":{"title":"1つ, 2つ, 3つ... と明確に異なる配置を形作ることができる穴あき正方形laminaの数え上げ","body":"輪郭が正方形で, 正方形の穴を持ち, 縦にも横にも対称性をもつようなものをlaminaと定義する.8個のタイルが与えられると, 3x3の1x1の穴をもつlaminaしか作れないが, 32個のタイルならば2つの異なったlaminaeが作れる.t で何個のタイルを使うかを表すとすると, t = 8 は L(1)型, t = 32 なら L(2)型であるといえる.N(n) をL(n)型となるような t (≤ 1000000) の数であるとする. 例えば, N(15) = 832 となる.∑ N(n) (1 ≤ n ≤ 10) を求めよ."},"175":{"title":"ある数を2のべき乗の和として表せる方法の数に関する分数","body":"f(0) = 1 とし, f(n) = [nを2のべき乗の和(ただし, 同じ数を2回より多く使ってはいけない)として書き表す方法の数], と定義する.例えば, 10には異なった5通りの方法があるので, f(10) = 5 である. \n10 = 8+2 = 8+1+1 = 4+4+2 = 4+2+2+1+1 = 4+4+1+1全ての分数 p/q (p>0, q>0) について, f(n)/f(n-1) = p/q となるようなnが少なくとも一つ存在することが示せる.例えば, f(n)/f(n-1) = 13/17 となるような最小のnは241であり, 241の二進表現は11110001である. \nこの二進数を上の位から下の位に読んでいくと, 4つの1, 3つの0, 1つの1となる. 4,3,1を241の\"短縮された二進表現\"と呼ぶ.f(n)/f(n-1) = 123456789/987654321 となるような最小のnの\"短縮された二進表現\"を求めよ.スペースを含まないカンマで区切られた整数で答えよ."},"176":{"title":"隣辺を共有する直角三角形","body":"辺の長さが(9,12,15), (12,16,20), (5,12,13), (12,35,37)の4つの直角三角形は, 全て隣辺(catheti [単数形 cathetus], 最長ではない辺, 直角に隣接する2つの辺のこと)として12を持っている. 他に隣辺が12であるような辺の長さが整数の直角三角形は存在しないことが示せる.ちょうど47547個の相異なった整数辺の直角三角形の隣辺となる最小の整数を求めよ."},"177":{"title":"整数角の四角形","body":"ABCDを, ACとBDを対角線とする凸な四角形とする. 各頂点で対角線は2つの角をつくり, 合計で8つの角をつくる.例えば, 頂点AではCADとCABが2つの角である.全ての8つの角が度数法で整数となる角度を持つ四角形を, \"整数角の四角形\"と定義する. 例えば, 正方形は8つの角が45°となる. 他の例では, DAC = 20°, BAC = 60°, ABD = 50°, CBD = 30°, BCA = 40°, DCA = 30°, CDB = 80°, ADB = 50°となる四角形がある.相似でない整数角の四角形はいくつ存在するか?注: 計算時に, 角度が整数値から10-9以内ならば, その角を整数角とみなしてもよい."},"178":{"title":"ステップ数","body":"45656を考えよう. 連続する2桁の数は全て差の絶対値が 1 である.連続する2桁の数の差の絶対値が全て 1 である数をステップ数と呼ぶ.パンデジタル数では0から9の各数が少なくとも 1 回出現する.1040未満の数でパンデジタル数かつステップ数であるものの個数を答えよ."},"179":{"title":"連続する正の約数","body":"n と n + 1 の正の約数の数が同じになる 1 < n < 107 の整数は幾つあるか. 例として, 14 の正の約数は 1, 2, 7, 14 であり, 15 の正の約数は 1, 3, 5, 15 である."},"180":{"title":"3変数をもつ関数の有理数の零点","body":"あるnについて, 以下の三つの関数を定義する.f1,n(x,y,z) = xn+1 + yn+1 - zn+1\nf2,n(x,y,z) = (xy + yz + zx)*(xn-1 + yn-1 - zn-1)\nf3,n(x,y,z) = xyz*(xn-2 + yn-2 - zn-2)そしてそれらの組み合わせで以下を定義する.fn(x,y,z) = f1,n(x,y,z) + f2,n(x,y,z) - f3,n(x,y,z)x,y,zの全てがa / b (0 < a < b ≤ k)という形の有理数であり, かつfn(x,y,z) = 0となる整数nが（少なくとも一つ）存在するときに, (x,y,z)の組を\"オーダーkの黄金の三つ組\"と呼ぶことにする.s(x,y,z) = x + y + zとして, オーダー35の黄金の三つ組について, 全ての相異なるs(x,y,z)の和をt = u / vとする. ただし, s(x,y,z)と t は既約であるとする.u + vを求めよ."},"181":{"title":"2色の物体をグループ分けする場合の数の調べ上げ","body":"3つの黒い物 B と1つの白い物 W を持っているとき, これらは7通りにグループ分け出来る.60個の黒い物 B と40個の白い物 W は何通りにグループ分け出来るか?"},"182":{"title":"RSA暗号","body":"RSA暗号は以下のアルゴリズムに基づいている:さてあるeとmについてme mod n=mとなることがある. 以下, me mod n=mとなるmを公然の平文と呼ぶことにする.公開鍵の一部 e を選ぶときには, 公然の平文が多くならないという点が重要である.\n例えば, p = 19, q = 37 とする. このとき, n = 19 * 37 = 703でありφ = 18 * 36 = 648 である. もし e = 181 とすると, gcd(181, 648) = 1 であるが, 全ての平文m (0≤m≤n-1)が公然の平文となってしまう. eについてどのような選び方をしても, 必ずいくつかは公然の平文が存在する. 従って, 公然の平文の数を最小化するようにeを選ぶのは重要である.さて, p = 1009, q = 3643とする. このとき, 公然の平文の個数が最小となる全てのeの総和を求めよ (ただし1<e<φ(1009,3643)かつgcd(e,φ)=1)."},"183":{"title":"分割した積の最大値","body":"Nを正整数とし, Nをk個に等分する. 即ち, r=N/kとし, N = r + r + ... + rである.\nPをその分割数の積とする. 即ち, P = r × r × ... × r = rk.例えば, 11を5つに分割すると, 11 = 2.2 + 2.2 + 2.2 + 2.2 + 2.2となる. このとき, P = 2.25 = 51.53632である.M(N)=Pmaxとする.N=11の場合には4つに分けた場合がPmax=(11/4)4で最大となる. M(11) = 14641/256 = 57.19140625であり, 有限小数である.しかし, N=8の場合には最大値は3に分けられたときに得られ, M(8)=512/27となる. これは無限小数 (循環小数) である.さて, M(N)が無限小数のときD(N)=Nに, M(N)が有限小数のときにD(N)=-Nとする.5 ≦ N ≦ 100のとき, ΣD(N) = 2438となる.5 ≦ N ≦ 10000のとき, ΣD(N) を求めよ."},"184":{"title":"原点を含む三角形","body":"原点を中心とした半径rの円の内部に含まれる点 (x,y), すなわちx2 + y2 < r2, の座標が整数となる集合Irを考える.半径2の場合, I2 は(0,0), (1,0), (1,1), (0,1), (-1,1), (-1,0), (-1,-1), (0,-1), (1,-1) の9点を要素に持つ. I2 を頂点とし, 原点を内部に含むような三角形は8個存在する. そのうち2つを下図に示す. 残りは回転で得られる.半径3の場合は, I3 を頂点とし, 原点を内部に含むような三角形は360個存在し, I5 では10600個存在する.I105 を頂点とし, 原点を内部に含むような三角形はいくつ存在するか?"},"185":{"title":"Number Mind","body":"Number Mind は, 有名なゲームMaster Mindの変種である.色つきのペグの代わりに, 秘密の数字を推理する. 推理するごとに, 正しい桁がいくつあったかのみが伝えられる. つまり, 答えが1234で, 2036と推理した場合, 1つの桁が正しいと伝えられる. 数字は正しいが場所が違うということは伝えられない.例えば, 以下の5桁の推理では,90342 ;2 桁正しい\n70794 ;0 桁正しい\n39458 ;2 桁正しい\n34109 ;1 桁正しい\n51545 ;2 桁正しい\n12531 ;1 桁正しい答えの数字は39542の唯一つとなる.以下の推理に基づいて,5616185650518293 ;2 桁正しい\n3847439647293047 ;1 桁正しい\n5855462940810587 ;3 桁正しい\n9742855507068353 ;3 桁正しい\n4296849643607543 ;3 桁正しい\n3174248439465858 ;1 桁正しい\n4513559094146117 ;2 桁正しい\n7890971548908067 ;3 桁正しい\n8157356344118483 ;1 桁正しい\n2615250744386899 ;2 桁正しい\n8690095851526254 ;3 桁正しい\n6375711915077050 ;1 桁正しい\n6913859173121360 ;1 桁正しい\n6442889055042768 ;2 桁正しい\n2321386104303845 ;0 桁正しい\n2326509471271448 ;2 桁正しい\n5251583379644322 ;2 桁正しい\n1748270476758276 ;3 桁正しい\n4895722652190306 ;1 桁正しい\n3041631117224635 ;3 桁正しい\n1841236454324589 ;3 桁正しい\n2659862637316867 ;2 桁正しい16桁の唯一つの答えの数字を答えよ."},"186":{"title":"あるネットワークの連結性","body":"今, 100万人のユーザをもつ電話システムの通信記録がある.n番目の記録の掛けた側と掛けられた側の電話番号は Caller(n) = S2n-1 と Called(n) = S2nで与えられる. S1, S2, ...は“ラグ付きフィボナッチ生成器”で定義される.1 ≤ k ≤ 55については, Sk = [100003 - 200003k + 300007k3] (modulo 1000000)56 ≤ kでは, Sk = [Sk-24 + Sk-55] (modulo 1000000)である.もしCaller(n) = Called(n)であれば, ユーザは間違って電話を掛けたとされ通信は切断される. そうでない場合には, 通信は成功している.XがYに電話を掛けるかその逆のときに, ユーザXとユーザYが友達であると呼ぶ. 同様に, XがYの友達であるかつYがZの友達であるとき, XがZの友達の友達であると呼ぶ. 同様にして長い連鎖が得られる.首相の電話番号は524287である. 何回電話を掛けると99%のユーザ (首相自身も含む) が首相の友達になるだろうか?(注: 切断された通信は数えない.)"},"187":{"title":"半素数","body":"合成数とは2つ以上の素因数を含む整数のことである.　例えば15 = 3 × 5, 9 = 3 × 3, 12 = 2 × 2 × 3が合成数である.30以下には丁度2つの素因数を含む合成数  (異なる素因数でなくてもよい) が, 10個存在する. 4, 6, 9, 10, 14, 15, 21, 22, 25, 26がそうである.合成数n < 108について, 丁度2つの素因数を含む合成数 (異なる素因数でなくてもよい) はいくつあるか."},"188":{"title":"ある数のハイパーべき乗","body":"数 a の正整数 b による ハイパーべき乗 (hyperexponentiation) または テトレーション (tetration) を a↑↑b または ba と書き, 以下のように再帰的に定義する.定義によれば 3↑↑2 = 33 = 27であり, 3↑↑3 = 327 = 7625597484987となる. また, 3↑↑4は大体103.6383346400240996*10^12となる.1777↑↑1855の最後の8桁を求めよ."},"189":{"title":"三角形格子の三色塗り分け","body":"以下の64個の三角形の配置を考えよう.今, 隣り合う三角形が同じ色にならないように, 各三角形の内部を赤, 緑, 青で塗り分ける. このような色の塗り分け方を「有効」と呼ぶ. ただし三角形が隣り合っているの意味は, 辺を共有していることとする. (頂点を共有しているだけの場合には, 隣り合うとは呼ばない.)上の三角形の配置については, 例えば以下の有効な塗り分け方がある.塗り分けCから回転または反転によって得られた塗り分け方C'はCとC'が同じでない場合には, 異なるものとして数え上げる.上の三角形の配置について, 異なる有効な塗り分け方は何通りか?"},"190":{"title":"加重積の最大化","body":"Sm = (x1, x2, ..., xm)をx1 + x2 + ... + xm = mかつ, Pm = x11 * x22 * ... * xmmを最大にするm項の正の実数の組とする.例えば, [P10] = 4112であることが分かる (ただし[ ]は実数の整数部分を取り出す関数).2 ≤ m ≤ 15についてΣ[Pm]を求めよ."},"191":{"title":"賞を貰える文字列","body":"ある学校では出席率が高く遅刻率が低い生徒に褒賞金を出している. 3日連続で休む, または, 2回以上遅刻した生徒は褒賞金を得る権利を失う.n日間の各生徒の出席状況を3進の文字列で表す. 文字はL (late, 遅刻), O (on time, 出席), A (absent, 欠席) である.4日間の場合, 81通りの3進の文字列が考えられる. そのうち賞を貰えるのは以下の43個の文字列である.30日間の場合, 賞を貰える文字列は何通りか?"},"192":{"title":"最適近似値","body":"x を実数とする. \n分母の範囲が d での x の最適近似値とは次の条件を満たす既約の有理数 r/s である:\ns ≤ d で, r/s より x に近い全ての既約の有理数は分母が d より大きい, つまり:例えば分母の範囲が 20 での √13 の最適近似値は 18/5 であり,\n分母の範囲が 30 での √13 の最適近似値は 101/28 である.1 < n ≤ 100000 で平方数でない n に対して,\n分母の範囲が 1012 での √n の最適近似値の全ての分母の合計を求めよ."},"193":{"title":"平方因子を含まない数","body":"正の整数 n が, 任意の素数の2乗によって割り切れないとき, n を\"平方因子を含まない\"(squarefree)と呼ぶ. 1, 2, 3, 5, 6, 7, 10, 11 は平方因子を含まないが, 4, 8, 9, 12 は含む.250 未満で平方因子を含まない数はいくつあるか?"},"194":{"title":"着色配置","body":"ユニットA\n\nとユニットB\n\nからなるグラフについて考える.\nユニット同士を垂直方向の辺に沿ってくっつけてグラフにする. 下図はグラフの一例である.(a,b,c)タイプの配置とは, 以下を満たすグラフのことである:上のグラフは(2,2,6)タイプの配置の例である. 正確には c≥4 を満たす全ての c に対し, (2,2,c)タイプの配置となる.N(a,b,c)を, (a,b,c)タイプの配置の数とする.\n例えば N(1,0,3) = 24, N(0,2,4) = 92928, N(2,2,3) = 20736 である.N(25,75,1984)の最下位8桁を求めよ."},"195":{"title":"60度角の三角形の内接円","body":"辺が整数の三角形で, 60度の角を1つだけ持つ三角形を\"60度角の三角形\"と呼ぶことにする. \nr を60度角の三角形の内接円の半径とする.r≤100 では60度角の三角形は1234個ある. \nT(n) を r≤n を満たす60度角の三角形の数とする. \nT(100) = 1234, T(1000) = 22767,  T(10000) = 359912 である.T(1053779) を求めよ."},"196":{"title":"三つ子素数","body":"正の整数全てを使って下の図のような三角形を作る:  1\n  2　  3\n  4　  5　  6\n  7　  8　  9　10\n 11　12　13　14　15\n 16　17　18　19　20　21\n 22　23　24　25　26　27　28\n 29　30　31　32　33　34　35　36\n 37　38　39　40　41　42　43　44　45\n 46　47　48　49　50　51　52　53　54　55\n 56　57　58　59　60　61　62　63　64　65　66\n .　.　.各正の整数は三角形の中で最大8個まで隣接した数字がある.次の条件を満たす 3 つの素数の組を\"三つ子素数\"(prime triplet)と呼ぶ:\n3 つの素数のうちの 1 つが他の 2 つと三角形の中で隣接する.例えば 2 行目では 2 と 3 が三つ子素数の要素となる.8 行目を見ると, 2 つの素数が三つ子素数の要素である. 29 と 31 のことである. \n9 行目を見ると, たった 1 つの素数が三つ子素数の要素である. 37 のことである. S(n) を n 行目の三つ子素数の要素の合計と定義する. \nS(8)=60, S(9)=37 となる.S(10000)=950007619 である.S(5678027) + S(7208785) を求めよ."},"197":{"title":"再帰的に定義された数列のふるまいの調べ上げ","body":"f(x) = ⌊230.403243784-x2⌋ × 10-9 (⌊ ⌋ は床関数)とし, \n数列 un を, u0 = -1, un+1 = f(un) と定義する.n = 1012 で un + un+1 を求めよ. \n解答は小数点以下9 桁まで記載せよ."},"198":{"title":"曖昧数","body":"実数xに対して, 分母がd以下になるような既約分数による最も正確な近似をr/s（s ≤ d, rとsは互いに素）とすると, r/sよりxに近いいかなる有理数p/qについても, q > dとなる.ほとんどの場合, 実数に対する最も正確な近似は, 任意の分母の上限dに対して一意に定まる. しかし, 中には9/40のような例外もある. 9/40は, 分母の上限が6のとき, 最も正確な近似が1/4と1/5の2つ定まる.\nこのように, 少なくとも一つの分母の上限dに対して, 最も正確な近似が2つ以上定まる実数xを「曖昧数」と呼ぶことにする. 明らかに, 曖昧数は有理数でなければならない.0 < x < 1/100 かつ q ≤ 108 なる x = p/qについて, 曖昧数は全部でいくつ存在するか."},"199":{"title":"反復円充填","body":"3つの半径の等しい円が, 1つのもっと大きい円の中にあり, 各円は他の円とお互い接している. ただし中の円はお互いが重ならない. 4つのすき間があり, これを繰り返し接する円で埋めていく.各ステップで, 全てのすき間にそれぞれ最大の円を置いていき, 結果として次のステップにはさらにすき間が増えていく. 3ステップ後には上の図のようになる. 108のすき間ができ, 円で埋められていない面積の比率は10進8桁に四捨五入して 0.06790342 となる.10ステップ後に円で埋まっていない面積の比率はいくらか？\n10進数8桁に四捨五入し, x.xxxxxxxx という形で回答を入力せよ."},"200":{"title":"連続する部分文字列に \"200\" を持つ 200 番目の耐素数性スキューブを求めよ","body":"p2q3 (p, q は異なる素数)で表せる数をスキューブ(sqube)と定義する.\n例えば, 200 = 5223, 120072949 = 232613 である.最初の5つのスキューブは 72, 108, 200, 392, 500 である.面白いことに, 200はどの1桁の数字を変更しても素数とならない最小の数である.\nこの特徴をもつ数字を\"耐素数性のある\"(prime-proof)数と呼ぶ.\n連続する部分文字列に \"200\" を持つ次の耐素数性のあるスキューブは 1992008 である.連続する部分文字列に \"200\" を持つ 200 番目の耐素数性のあるスキューブを求めよ.[訳注: sqube(スキューブ): square(平方数)とcube(立方数)からの造語]"},"201":{"title":"唯一の和を持つ部分集合","body":"数の集合Aについて, sum(A)でAの要素の和を表す.\n集合B = {1,3,6,8,10,11}を考えよう. Bの3要素の部分集合は20個あり, それぞれ和は以下になる.これらの和は1つしか現れない場合もそうでない場合もある.\n集合Aについて, U(A,k)で, Aのk要素の集合全体について和を取ったときに1回のみ現れる和の集合を表す.\n上の例をとると, U(B,3) = {10,12,14,18,21,25,27,29}であり, sum(U(B,3)) = 156となる.今, 100個の要素を持つ集合 S = {12, 22, ..., 1002}を考える.\nSの50要素の部分集合は100891344545564193334812497256個ある.50要素の部分集合の和の中で1回のみ現れる和の集合の総和を求めよ.\nすなわち, sum(U(S,50))を求めよ."},"202":{"title":"レーザービーム","body":"正三角形ABCの内側に鏡が張られている. 各頂点にはレーザーが通れるような微小の穴がある.Cから入ったレーザーが, 内側の辺で11回反射し頂点Cから出て行くような経路は2つ存在する. 1つを下に示す. もう1つはこの逆である.1000001回反射し出て行くような経路は80840通り存在する.Cから入ったレーザーが, 内側の辺で12017639147回反射し, 元の頂点Cから出て行くような経路はいくつ存在するか."},"203":{"title":"無平方二項係数","body":"二項係数nCkは三角形の形に並べることができる. すなわちパスカルの三角形である. 以下を見よ.上から8行見るとパスカルの三角形は12個の異なる数を含む. 1, 2, 3, 4, 5, 6, 7, 10, 15, 20, 21, 35である.任意の素数の二乗がnを割り切らないとき, 正整数nが平方因子を持たないと言う. 先ほどの12個の数字を見ると, 4, 20以外は平方因子を持たない. 従って, 最初の8行の平方因子を持たない異なる数の和は105になる.パスカルの三角形の最初の51行に含まれる平方因子を持たない異なる数の和を答えよ."},"204":{"title":"一般化ハミング数","body":"ハミング数とは, どの素因数も5以下であるような正整数のことである.\n最初から順に並べると, 1, 2, 3, 4, 5, 6, 8, 9, 10, 12, 15となる.\n108以下のハミング数は1105個ある.素因数がn以下の正整数を, type nの一般化ハミング数と呼ぶことにする. するとハミング数はtype 5の一般化ハミング数である.109以下のtype 100の一般化ハミング数の個数を答えよ."},"205":{"title":"サイコロゲーム","body":"ピーターは4面のサイコロを9つ持っている. サイコロの各面には1, 2, 3, 4と書いてある.\nコリンは6面のサイコロを6つ持っている. サイコロの各面には1, 2, 3, 4, 5, 6と書いてある.ピーターとコリンはサイコロを投じ, 出た目の合計を比べる. 合計が多い方が勝ちである. もし出た目の合計が等しければ勝負は引き分けになる.ピーターがコリンに勝つ確率はいくつだろうか? 10進7桁にroundし, 0.abcdefgという形で回答欄に入力せよ."},"206":{"title":"覆面平方数","body":"二乗すると「1_2_3_4_5_6_7_8_9_0」の形となるような唯一の正整数を求めよ. ただし, 「_」は1桁の数である."},"207":{"title":"整数分割方程式","body":"いくつかの正整数 k は, 整数の分割式 4t = 2t + k が成り立つ.\n4t, 2t, k は全て正の整数, t は実数とする.最初の 2 つの分割は 41 = 21 + 2 と\n41.5849625... = 21.5849625... + 6 である.t も整数である分割を完全と呼ぶ. \nm≥1を満たす m に対して P(m) を k≤m で分割が完全である割合と定義する.\nつまり P(6) = 1/2 である.次の表はいくつかの m に対する P(m) の例である.P(m) < 1/12345 を満たす最小の m を求めよ."},"208":{"title":"ロボットの散歩","body":"ロボットは 1/5 の円弧(72°)を描き続けながら動く. 各ステップでは, 次の円弧を時計回りにするか反時計回りにするか好きに選べるが, その場では曲がらない.北向きから始めて25回の円弧を経て, 閉路を描く道筋は70932通りあり, 下図はその一例である.ロボットが北向きから始めて, 70回の円弧を経て, 最後は元の位置に戻る道筋は何通りあるか. \n(円弧は何度交差してもよい)"},"209":{"title":"堂々巡り","body":"k 入力の2進真理値表は k 個の入力ビット(2進数, 0(偽)または1(真))から\n1 個の出力ビットへの写像である.\n例えば, 論理和(AND)と排他的論理和(XOR)の 2 入力真理値表は以下の通り:6ビットの入力(a,b,c,d,e,f)に対し, 以下の式を満たす6入力の2進真理値表 τ\nはいくつあるか."},"210":{"title":"鈍角三角形","body":"|x| + |y| ≤ r を満たす整数の座標 (x,y) の集合 S(r) について考える. \nO を点 (0,0) とし, C を点 (r/4, r/4) とする. \nN(r) を次の条件を満たす S(r) 中の点 B の数とする: 三角形 OBC が鈍角を持つ, つまり\n最大角 α が 90<α<180 を満たす. \n例えば N(4)=24, N(8)=100 である.N(1,000,000,000) を求めよ."},"211":{"title":"約数の2乗の和","body":"正の整数 n に対して, σ2(n)を約数の2乗の和とする. 例えば,σ2(10) = 1 + 4 + 25 + 100 = 130である. \n0 < n < 64,000,000 で, σ2(n) が平方数である全ての n の和を求めよ."},"212":{"title":"結合直方体の体積","body":"座標軸に平行な直方体 (axis-aligned cuboid) は {(x0, y0, z0), (dx, dy, dz)} で与えられ, x0 ≤ X ≤ x0 + dx,\ny0 ≤ Y ≤ y0 + dy,\nz0 ≤ Z ≤ z0 + dz,\nを満たす点で構成される.\n直方体の体積は dx × dy × dzで求められる.\n複数の直方体を結合したものの体積を考えた場合, 直方体に重なりがあれば, 結合直方体の体積は\nそれぞれの直方体の体積の和より小さくなる.C1, …, C50000 を以下のパラメータで与えられる座標軸に平行な直方体とする.S1,…,S300000 はラグ付きフィボナッチ法により生成される.したがって, C1 は {(7, 53, 183), (94, 369, 56)}, C2 は {(2383, 3563, 5079), (42, 212, 344)} となるC1, …, C100 の結合直方体の体積は 723581599 である.C1, …, C50000 の結合直方体の体積を求めよ."},"213":{"title":"ノミのサーカス","body":"30×30の格子状に並んだ正方形の中に900匹のノミがいる. 初期状態では, 1つの正方形に1匹のノミが入っている.\n一回ベルが鳴るたびに, 各ノミはランダムに隣の正方形にジャンプする (殆どの場所では4方向を選べる. ただし, 端や角にいるノミは除く.)50回ベルが鳴ったときに, 空っぽの正方形の数の期待値はいくつだろうか?\n10進小数点以下6桁に四捨五入して答えよ."},"214":{"title":"トーティエント鎖","body":"φ をオイラーのトーティエント関数とする, つまり自然数 n に対して φ(n) を\ngcd(k,n) = 1 を満たす k (1 ≤ k ≤ n)の数とする.繰り返し φ を適用することで, 正の整数は段々値が減っていき, 最後は 1 となる鎖を作る. \n例えば 5 から始めると, 5,4,2,1 という数列ができる. \n長さ 4 の数列を全て以下に列挙する.このうち素数から始まるのは2つだけであり, 合計は 12 である.40000000未満で長さ 25 の数列を作る素数全ての合計を求めよ."},"215":{"title":"亀裂のない壁","body":"2x1 と 3x1 のレンガ(水平x垂直方向)を使って壁を建てる.\nただし追加条件として, 水平方向に隣接したレンガ間の隙間が上下の層にまたがってはならない.\nつまり, \"伝播亀裂(running crack)\"がないようにする.例として, 下図の9x3の壁は条件を満たしていない. 赤線が伝播亀裂だからである.9x3の亀裂のない壁は8通りの建て方がある. これを W(9,3)=8 と表す.W(32,10) を計算せよ."},"216":{"title":"2n2-1 で表される数の素数性の調べ上げ","body":"式 t(n) = 2n2-1 (n>1)で表される数 t(n) について考える. \n最初の数個を挙げると, 7, 17, 31, 49, 71, 97, 127, 161 となる. \nこの中では 49 = 7*7 と 161 = 7*23 だけが素数でないことがわかる. \nn ≤ 10000 では 2202 個の t(n) が素数である. n ≤ 50,000,000 で素数である t(n) はいくつあるか."},"217":{"title":"バランスした数","body":"次の条件を満たす(10進数で) k 桁の正の整数を\"バランスした\"(balanced)と呼ぶ: 最上位 ⌈k/2⌉\n桁の和と最下位\n⌈k/2⌉\n桁の和が等しい. \n⌈x⌉\nは\"xのシーリング\"(天井, ceiling of x)と呼び, x以上の最小の整数を表す. 例えば\n⌈π⌉=4, ⌈5⌉=5\nである.例を挙げると, 全ての回文数はバランスしており, 13722 もバランスしている.T(n) を 10n 未満の全てのバランスした数の合計とする. \n例えば, T(1) = 45, T(2) = 540, T(5) = 334795890 である.T(47) mod 315 を求めよ."},"218":{"title":"完全な直角三角形","body":"a=7, b=24, c=25 の直角三角形について考える. この三角形の面積は84であり, 完全数6と28で割り切れる. \nさらに, この三角形は原始(primitive)直角三角形である: つまり, gcd(a,b)=1, gcd(b,c)=1 を満たす. \nさらに, c は平方数である.以下の条件を満たす直角三角形を\"完全\"(perfect)と呼ぶ:以下の条件を満たす直角三角形を\"超完全\"(super-perfect)と呼ぶ:c≤1016を満たす完全な直角三角形のうち, 超完全でないものはいくつあるか."},"219":{"title":"非対称コスト符号化","body":"AとBをビット列(0と1の連続列)とする. \nBの左端から\"Aの長さ\"ビットがAと一致する時, AをBの\"接頭部\"(prefix)と呼ぶ. \n例えば 00110 は 001101001 の接頭部だが, 00111 や 100110 の接頭部ではない.サイズnの\"接頭符号\"(prefix-free code)とは, 次の条件を満たす n 個の異なるビット列の集合である: どのビット列も他のビット列の接頭部ではない. 下の例はサイズ6の接頭符号である.ここでビット0を送るのに1ペニー, ビット1を送るのに4ペンスかかると仮定する. \n上で挙げた接頭符号にかかる総計は35ペンスとなる.\nこの例は非対称なコスト分布となるが, なんと(同じサイズの中で)もっとも安い符号の１つである. 短く書くと, Cost(6)=35 となる.Cost(109)を求めよ.[訳注  ペンス: ペニーの複数形]"},"220":{"title":"Heighwayのドラゴン","body":"D0 を2文字の文字列\"Fa\"とする. n≥1では, DnはDn-1から以下の変換ルールに従い作られる.つまり, D0=\"Fa\", D1 = \"FaRbFR\", D2 = \"FaRbFRRLFaLbFR\",...となる.これらの文字列はコンピューターグラフィックスプログラムへの命令と解釈できる:\n\"F\"を\"1ユニット前へ描け\", \"L\"を\"90度左を向け\", \"R\"を\"90度右を向け\", \"a\"と\"b\"は無視する. カーソルの初期位置は(0,0), 向きは(0,1)方向, つまり上とする.Dnは n次の\"Heighwayのドラゴン\"(Heighway Dragon)として知られる奇妙な図となる. 例えば, 下図はD10である. 各\"F\"を1ステップとして数えると, 500ステップ目で図中で強調してある(18,16)に到達する.D50において1012ステップ後の座標を求めよ. \n回答は x,y という形式でスペースを入れずに入力せよ."},"221":{"title":"アレクサンダー整数","body":"次の式を満たす整数p,q,rが存在するとき, 正整数 A をアレクサンダー整数(Alexandrian integer)と呼ぶ.例えば, 630はアレクサンダー整数である(p=5,q=-7,r=-18). 630は6番目のアレクサンダー整数であり, 6番目まで並べると 6, 42, 120, 156, 420, 630 となる.150000番目のアレクサンダー整数を求めよ."},"222":{"title":"球の梱包","body":"内半径が50mmのパイプを考える. このパイプの中に半径が30mm, 31mm, ..., 50mmの21個の球を収めたい. 最短のパイプの長さを求めよ.μm (10-6 m)単位で一番近い整数に丸めて答えよ."},"223":{"title":"だいたい直角三角形 I","body":"三辺(a≤b≤c)が全て整数の三角形で, 三辺が次の式を満たしているものを\"わずかに鋭角(barely acute)\"と呼ぶ. \na2+b2=c2+1.周辺の長さが 25,000,000 以下のわずかに鋭角な三角形はいくつあるか."},"224":{"title":"だいたい直角三角形 II","body":"三辺(a≤b≤c)が全て整数の三角形で, 三辺が次の式を満たしているものを\"わずかに鈍角(barely obtuse)\"と呼ぶ. \na2+b2=c2-1.周辺の長さが 75,000,000 以下のわずかに鈍角な三角形はいくつあるか."},"225":{"title":"トリボナッチを割り切らない数","body":"数列 1, 1, 1, 3, 5, 9, 17, 31, 57, 105, 193, 355, 653, 1201 ...は, T1=T2=T3=1およびTn=Tn-1+Tn-2+Tn-3によって定義される.27はこの数列の任意の項を割り切らないことが証明できる.\n27はこの性質を持つ最初の奇数である.この数列の任意の項を割り切らない124番目の奇数を求めよ."},"226":{"title":"ブラマンジェのスコップ","body":"ブラマンジェ曲線(高木曲線, blancmange curve)は0 ≤ x ≤ 1,\n\nを満たす(x,y)の集合である.\ns(x)は x から最も近い整数への距離を表す.ブラマンジェ曲線より下の面積は 1/2 であり, 下図のピンク色の部分である.C を (1/4, 1/2)を中心とする半径 1/4 の円とする. 上図の黒線が C である.C 内に含まれかつブラマンジェ曲線下部の面積を求めよ. \n10進数8桁に四捨五入し, 0.abcdefgh という形で解答を入力せよ."},"227":{"title":"The Chase","body":"\"The Chase\"とは2つのサイコロと偶数人のプレイヤーによって行われるゲームである.各プレイヤーはテーブルの周りに座っている．対面にいる2人のプレイヤーがそれぞれ1つのサイコロを持っているところからゲームを開始する. 各ターンにサイコロを持っている2人のプレイヤーがそれぞれサイコロを振る. もしプレイヤーが1を出した場合は, そのプレイヤーは自分のサイコロを左隣の人に渡す. 6を出した場合には, 右隣の人に渡す. それ以外の数字が出た場合には, サイコロは移動しない. サイコロを振りサイコロの移動を終えたときに1人のプレイヤーが2つのサイコロを持っていた場合, そのプレイヤーは負けとなりゲームは終了する.100人のプレイヤーでゲームを行ったとき, ゲームが終了するターンの期待値はいくつか?11桁目を四捨五入し, 上位10進10桁を答えよ."},"228":{"title":"ミンコフスキー和","body":"Snを正n角形とし, 各頂点の座標が以下の式で表せるとする.各Snは辺上と内部の全ての点からなる, 塗りつぶされた図形とする.2つの図形S,Tのミンコフスキー和(Minkowski sum)S+T は, S上の全ての点とT上の全ての点を足した結果である. 点の足し算は (u, v) + (x, y) = (u+x, v+y) で求める.例として, S3とS4の和は下図のピンク色の六角形で表せる.S1864+S1865+...+S1909はいくつ辺を持つか."},"229":{"title":"平方数による4通りの表し方","body":"3600 は特殊な数字である, というのは以下の特徴があるからである.同様に, 82201 = 992 + 2802 = 2872 + 2×542 = 2832 + 3×542 = 1972 + 7×842 である.1747年, オイラーはどのような数が平方数の和で表せるか証明した. 我々は以下のような4通りの式で表せる数nに着目する.ak,bkは正整数とする.107以下ではこれを満たす整数は75373個ある. \n2×109以下ではいくつあるか."},"230":{"title":"フィボナッチ列","body":"任意の2つの数字列 A,B に対し, FA,Bを (A,B,AB,BAB,ABBAB,...) という数列で定義する. 各項は前の２つの項をつなげたものである.さらに DA,B(n) を FA,B の中で最初に少なくても n 桁ある項の, n 番目の数字と定義する.例:A=1415926535, B=8979323846 とする. ここで DA,B(35) を求めたい.FA,B の最初の数項は以下の通り:\n1415926535\n8979323846\n14159265358979323846\n897932384614159265358979323846\n14159265358979323846897932384614159265358979323846DA,B(35) は 5項目の 35番目の数字となり, 9 である.A を円周率πの小数点に続く100桁とする. \n14159265358979323846264338327950288419716939937510\n58209749445923078164062862089986280348253421170679Bをさらに続く100桁とする. \n82148086513282306647093844609550582231725359408128\n48111745028410270193852110555964462294895493038196Σn=0,1,...,1710n× DA,B((127+19n)×7n)を求めよ."},"231":{"title":"二項係数の素因数分解","body":"二項係数 10C3 = 120 は\n120 = 23 × 3 × 5 = 2 × 2 × 2 × 3 × 5, 2 + 2 + 2 + 3 + 5 = 14 を満たす. \nつまり, 10C3 を素因数分解した項の和は 14 となる.20000000C15000000を素因数分解した項の和を求めよ."},"232":{"title":"The Race","body":"2人のプレイヤーが偏りのないコインを使用して\"The Race\"というゲームを交代で行う.\nプレーヤー1のターンでは, 彼はコインを1回投げる. 表が出たら1ポイントを獲得する. 裏がでたらポイントは得られない. プレイヤー2のターンでは, まず彼女は正整数 T を選び, そしてコインを T 回投げる. もし全て表だったら彼女は 2T-1ポイントを得る. それ以外の場合はポイントは得られない. プレイヤー1が先手である. 勝者は先に100以上のポイントを得たプレイヤーである.各ターンでプレイヤー2は自分が最も勝つ確率の高い T(コインを投げる回数)を選択する.プレイヤー2の勝つ確率を求めよ.10進数8桁に四捨五入し, 0.abcdefghという形で解答を入力せよ."},"233":{"title":"円上の格子点","body":"(0,0),(N,0),(0,N),(N,N) を通る円上にある, 整数の座標を持つ点の数を f(N) とする.f(10000) = 36 である.f(N) = 420 を満たす正の整数 N (≤ 1011)全ての合計を求めよ."},"234":{"title":"半分割可能数","body":"整数n(≥4)に対して, 最大の素数(≤√n)を n の\"下位素数平方根\"(lower prime square root)とし, lps(n)であらわす.\n同様に最小の素数(≥√n)を n の\"上位素数平方根\"(upper prime square root)とし, ups(n)であらわす.例えば, lps(4) = 2 = ups(4), lps(1000) = 31, ups(1000) = 37 である. \nlps(n) と ups(n) のどちらかが n を割り切るが, 両方ではないとき,\n整数n(≥4)を\"半分割可能\"(semidivisible)と呼ぶ.15 を超えない半分割可能な数は8, 10, 12で, それらの合計は 30 である. \n15 は lps(15) = 3 と ups(15) = 5の両方の倍数なので, 半分割可能でない. \nさらに例を挙げると, 1000 までの半分割可能な整数 92 個の合計は 34825 である.999966663333 を超えない半分割可能な数全ての合計を求めよ."},"235":{"title":"等差等比数列","body":"等差と等比を用いた次の数列を考える: u(k) = (900-3k)rk-1\ns(n) = Σk=1...nu(k) とする.s(5000) = -600,000,000,000 を満たす r を求めよ.小数点以下 12 桁に四捨五入して解答を入力せよ"},"236":{"title":"豪華ギフトセット","body":"仕入れ業者'A'と'B'が豪華ギフトセット販売用に次の商品と品数を準備する.仕入れ業者は商品を完全な状態で輸送するよう懸命に努力するが, いくつかは損傷してしまう.\nつまり, 商品が駄目になってしまう.業者は実績を次の2種類の統計で比較する.驚いたことに, 5 つの各商品ごとの損傷率は A よりも B が悪く(高く), その係数(損傷率を比較した比率)m>1 は同じであった. さらに, 矛盾して見えるが, 全体損傷率は B よりも A が悪く, その係数は m であることが業者の調べでわかった.この驚くべき結果が起こるケースでは, 35 通りの m>1 が存在する. 最小の m は 1476/1475 である.最大の m を求めよ. \n各項が最小になるように約分した分数で u/v の形にして入力せよ."},"237":{"title":"4 × n のゲーム盤上を進む順路","body":"T(n) を以下のルールに従い 4 × n のゲーム盤上を進む順路の数と定義する:下の図は 4 × 10 の盤上の順路の一例である:T(10) は 2329 である. T(1012) を 108 で割った余りを求めよ."},"238":{"title":"無限長列ツアー","body":"この問題の文章は前のエラーを直すため修正された. \"Blum Blum Shub\" 擬似乱数生成器を用いて数列を作る:s0 = 14025256sn+1 = sn2 mod 20300713これらの数 s0s1s2... を連結して無限長の数列 w を作る. \nすなわち w = 14025256741014958470038053646... となる.正の整数 k に対し, もし数字の合計が k となる w の部分文字列が存在しないなら, p(k) を 0 と定義する.\nもし数字の合計が k となる w の部分文字列が少なくとも一つ存在するなら, z をそのような部分文字列の中で最も前に出てくる部分文字列の先頭の位置とすると,\np(k)=z と定義する.例えば:部分文字列 1, 14, 1402, ...\nはそれぞれ数字の合計が 1, 5, 7, ... であり, \n1 番目で始まるので p(1)=p(5)=p(7)=...=1 となる.部分文字列 4, 402, 4025, ...\nはそれぞれ数字の合計が 4, 6, 11, ... であり, \n2 番目で始まるので p(4)=p(6)=p(11)=...=2 となる.部分文字列 02, 0252, ...\nはそれぞれ数字の合計が 2, 9, ... であり, \n3 番目で始まるので p(2)=p(9)=...=3 となる.部分文字列 025 は 3 番目で始まり, 数字の合計は 7 だが, より前にある(1 番目から始まる)部分文字列が数字の合計が 7 である為,\np(7) = 1 であって 3 ではないことに注意せよ.0 < k ≤ 103 では Σp(k) = 4742 であることがわかる.0 < k ≤ 2⋅1015 において Σp(k) を求めよ."},"239":{"title":"22個の場違いな素数たち","body":"それぞれ 1 から 100 まで番号の書かれたディスクが 1 列に無作為に並んでいる.ちょうど 22 個の素数の番号のディスクが, 番号順の位置と異なる場所にある確率を求めよ. \n(素数でない番号のディスクはどれも番号順の位置にあってもなくてもよい)解答は小数点以下12桁に四捨五入し, 0.abcdefghijkl の形で入力せよ."},"240":{"title":"上位のサイコロ","body":"6面のサイコロ(各面は 1 から 6)を 5 個振って, 上位 3 個の合計が 15 となる場合は 1111 通りある. いくつか例を挙げる:D1,D2,D3,D4,D5 = 4,3,6,3,5\nD1,D2,D3,D4,D5 = 4,3,3,5,6\nD1,D2,D3,D4,D5 = 3,3,3,6,6\nD1,D2,D3,D4,D5 = 6,6,3,3,312面のサイコロ(各面は 1 から 12)を 20 個振って, 上位 10 個の合計が 70 となる場合は何通りあるか."},"241":{"title":"完全商","body":"正整数 n に対し, σ(n) を n の約数全ての和とする, 例えば\nσ(6) = 1 + 2 + 3 + 6 = 12 となる.おそらく知っているだろうが, 完全数とは σ(n) = 2n となる数である.正整数の完全商(perfection quotient)を p(n) = σ(n)/n と定義する.n ≤ 1018 に対し, p(n) が k + 1/2 (k は整数)となる正の整数全ての和を求めよ."},"242":{"title":"三つ子奇数","body":"集合 {1,2,...,n} に対し, f(n,k) を要素の合計が奇数となるような k 個からなる部分集合の数と定義する. 例えば, f(5,3) = 4 である. なぜなら集合 {1,2,3,4,5} は合計が奇数となる要素 3 個からなる部分集合は 4 つあるからである: すなわち {1,2,4}, {1,3,5}, {2,3,4}, {2,4,5} である.n, k, f(n,k) が全て奇数であるとき, [n,k,f(n,k)] を三つ子奇数(odd-triplet)と呼ぶことにする.n ≤ 10 ではちょうど 5 個の三つ子奇数が存在する:\n[1,1,f(1,1) = 1], [5,1,f(5,1) = 3], [5,5,f(5,5) = 1], [9,1,f(9,1) = 5], [9,9,f(9,9) = 1]n ≤ 1012 に対し三つ子奇数はいくつあるか."},"243":{"title":"弾性","body":"分子が分母より小さい正の分数を真分数と呼ぶ. \n任意の分母 d に対し, 真分数は d-1 個ある. たとえば, d = 12 では:\n1/12 , 2/12 , 3/12 ,\n4/12 , 5/12 , 6/12 ,\n7/12 , 8/12 , 9/12 ,\n10/12 , 11/12 である.約分できない分数を弾性分数(resilient fraction)と呼ぶことにしよう. \nさらに分母に対し弾性(resilience)を真分数のうち弾性分数の比率と定義し, R(d)で表す.\n例えば, R(12) = 4/11 である. \nちなみに d = 12 は弾性が R(d) < 4/10 を満たす最小の分母である.R(d) < 15499/94744 を満たす最小の分母 d を求めよ."},"244":{"title":"スライダー","body":"おそらく15パズルはご存知だろう. ここでは, 数字の書かれたタイルの代わりに, 7枚の赤いタイルと8枚の青いタイルを使用する.移動は, タイルの動いた方向(Left, Right, Up, Down)の大文字のイニシャルで表す.\nすなわち, 最初の状態 (S) から文字列 LULUR を経て状態 (E) にたどり着く.各経路は, 以下に示す擬似コードによってチェックサムが計算される:checksum = 0\nchecksum = (checksum × 243 + m1) mod 100 000 007\nchecksum = (checksum × 243 + m2) mod 100 000 007\n…\nchecksum = (checksum × 243 + mn) mod 100 000 007mk は移動の文字列の k 番目の文字のアスキーコードの値である. アスキーコードは以下の通り:上で例に挙げた文字列 LULUR の場合, チェックサムは 19761398 になるだろう.では, 状態 (S) から始めて, 状態 (T) に到達する最短の経路を全て求めよ.最小の長さとなる経路のチェックサム全ての合計を求めよ."},"245":{"title":"共役弾性","body":"約分できない分数を弾性分数(resilient fraction)と呼ぶことにする. \nさらに分母に対し弾性(resilience)を真分数のうち弾性分数の比率と定義し, R(d)で表す.\n例えば, R(12) = 4/11 である.数字 d > 1 の弾性は φ(d)/d-1 となる. φ はオイラーのトーティエント関数である.さらに数字 n > 1 に対し 共役弾性(coresilience)を C(n) = n-φ(n)/n-1 と定義する.素数 p の共役弾性は C(p) = 1/p-1 である.C(n) が単位分数であるような, 1 < n ≤ 2×1011 を満たす合成数 n 全ての合計を求めよ.注意: 上限が最近変更された. 正しい上限を使用しているか確認せよ."},"246":{"title":"楕円の接線","body":"楕円の定義は以下の通り:\n中心 M と半径 r を持つ円 c と, d(G,M)<r を満たす点 G が与えられた場合,\nc と G から等距離にある点の軌跡が楕円となる.楕円上の点の作成手順を下に示す.点 M(-2000,1500), G(8000,1500) とする. \n円 c は中心が M, 半径 15000 とする. \nG と c から等距離にある点の軌跡を楕円 e とする. \ne の外の点 P から楕円に対し 2 本の接線 t1, t2 を描く. \nt1, t2 が楕円に接する点を R, S とする.角 RPS が 45 度より大きくなるような格子点 P はいくつあるか."},"247":{"title":"双曲線下の正方形","body":"1 ≤ x, 0 ≤ y ≤ 1/x の領域について考える.S1 をこの曲線の下に入る最大の正方形とする. \nS2 を残りの空間に入る最大の正方形とし, これを繰り返す. \nSn のインデックスを (left, below) とする. left は Sn の左にある正方形の数を, below は Sn の下にある正方形の数を表す.これらの正方形に番号を記したものを上の図に示す. \nS2 は左に 1 個, 下に 0 個の正方形があるので, S2 のインデックスは (1,0) である. \nS32 のインデックスは (1,1) であることがわかる. S50 のインデックスも同じである. \n50 は (1,1) をインデックスに持つ Sn の中で, 最大の n である.(3,3) をインデックスに持つ Sn の中で, 最大の n を求めよ."},"248":{"title":"オイラーのトーティエント関数が13!となる数","body":"φ(n)=13! となる数 n は 6227180929 が 1 番目である.この性質を持つ 150,000 番目の数を求めよ.注意: 答の数字が最近変更された, 正しい数字を計算しているか確認してほしい."},"249":{"title":"素数の部分集合和","body":"S = {2, 3, 5, ..., 4999} を 5000 より小さい素数の集合とする.要素の合計が素数となるような, S の部分集合の数を求めよ. \n最下位の 16 桁を答えとして入力せよ."},"250":{"title":"250250","body":"要素の合計が 250 で割り切れるような, {11, 22, 33,..., 250250250250} の空でない部分集合の数を求めよ. 最下位の 16 桁を答えとして入力せよ."},"251":{"title":"カルダノトリプレット","body":"3 個の正整数の組 (a,b,c) が次の式を満たすときこれをカルダノトリプレット(Cardano Triplet) と呼ぶ:例えば, (2,1,5) はカルダノトリプレットである.a+b+c ≤ 1000 を満たすカルダノトリプレットは 149 ある.a+b+c ≤ 110,000,000 を満たすカルダノトリプレットはいくつあるか.注意: この問題は最近変更があった, 正しいパラメータを使用しているか確認してほしい."},"252":{"title":"凸ホール","body":"平面上に与えられた点の集合に対し, 以下を満たす凸多角形を凸ホール(convex hole)と定義する:\n頂点は与えられた点のいくつかから成り, 内部に与えられた点を含まない(頂点以外に, 多角形の辺上に与えられた点があっても構わない)例として, 下の図は 20 個の点とそれに対するいくつかの凸ホールを示している. 赤い多角形で示した凸ホールは 1049694.5 の単位正方形と面積が等しく, この点の集合に対し最大の凸ホールである.この例では, 次の擬似乱数によって生成された 最初の 20 個の点 (T2k−1, T2k) (k = 1,2,…,20) を使用した.S0 = 290797Sn+1 = Sn2 mod 50515093Tn = (Sn mod 2000 ) − 1000すなわち, (527, 144), (−488, 732), (−454, −947), ... である.この擬似乱数生成器による最初の 500 個の点を使用する凸ホールの中で, 最大の面積を求めよ. \n小数点以下に1桁をつけて回答を入力せよ."},"253":{"title":"お片づけ","body":"小さい子供が\"数字イモムシ\"を持っている. これは 40 のジグソーピースからなり, それぞれのピースは 1 つ数字が書いてあり, 一列につなげると 1 から 40 まで順番に並ぶ.毎夜, 子供の父親は遊戯室にばらまかれたイモムシのピースを拾い集めなければならない. 父親は無作為にピースを拾っていき, 正しい順序に並べていく. \nこのようにイモムシを組み立てていくと, 徐々にくっついていっていくつかの断片が出来上がっていく. \n断片の数は0(何もない状態)から始まり, だいたい 11 か 12 まで増えた後, やがてまた減っていき 1 (全部くっついた状態)で終わる.例えば,M を無作為にイモムシを片づける過程で起こった最大の断片の数とする. \n10 ピースのイモムシの場合では, 各 M が起こる場合の数はつまり M の最頻値は 3 で平均値は 385643/113400 = 3.400732 である(小数点以下6桁に四捨五入).40 ピースのイモムシの場合は M の最頻値は 11 である. では M の平均値は?小数点以下6桁に四捨五入し回答せよ."},"254":{"title":"桁の階乗の和","body":"f(n) を n の各桁の階乗の和とする. 例えば, f(342) = 3! + 4! + 2! = 32 である.sf(n) を f(n) の各桁の和とする. つまり sf(342) = 3 + 2 = 5 である.g(i) を sf(n) = i を満たす最小の正整数 n とする. sf(342) は 5 だが, sf(25) も 5 であり, g(5) = 25 であることがわかる.sg(i) を g(i) の各桁の和とする. つまり sg(5) = 2 + 5 = 7 である.さらに, g(20) は 267 であり, 1 ≤ i ≤ 20 において Σsg(i) は 156 であることがわかる.1 ≤ i ≤ 150 において Σsg(i) を求めよ."},"255":{"title":"丸め平方根","body":"正整数 n の丸め平方根(rounded-square-root)を, n の平方根を一番近い整数に丸めたものと定義する.次の方法(本質的には整数論に適用したヘロンの方法)で n の丸め平方根が求まる:d を数 n の桁数とする. \nもし d が奇数なら, x0 = 2 × 10(d-1)/2\nもし d が偶数なら, x0 = 7 × 10(d-2)/2xk+1 = xk になるまでを繰り返す.例えば, n = 4321 の丸め平方根を求めてみよう. \nn は4桁である, だから x0 = 7 × 10(4-2)/2 = 70 である.x2 = x1 だから, ここで止める. \nつまり, たった 2 回の繰り返しで, 4321 の丸め平方根は 66 であることがわかる\n(実際の平方根は 65.7343137... である)この方法を使うと繰り返しの回数は意外に少ない.\n例えば, 5 桁の整数(10,000 ≤ n ≤ 99,999) では平均 3.2102888889 である\n(平均は小数点以下 10 桁に四捨五入した).上記の方法を用いて, 14 桁の数(1013 ≤ n < 1014)の丸め平方根を求めるのに必要な繰り返しの回数の平均を求めよ. \n回答は小数点以下 10 桁に四捨五入せよ.注意: 記号 ⌊x⌋ と ⌈x⌉ はそれぞれ床関数と天井関数を表す."},"256":{"title":"畳禁止の部屋","body":"畳とは, 部屋の床を重なりなく敷き詰めるのに使われる長方形の敷物である.手に入る畳の寸法を 1ｘ2 のみと仮定すると, 敷き詰める部屋の形や大きさには明らかにいくらかの制約がある.本問では, 整数の寸法 a, b, 偶数の大きさ s = a･b をもつ長方形の部屋のみを考える. 「大きさ」という言葉は部屋の表面積を表すのに用い, また一般性を失わないよう a ≦ b という条件を加える.畳を並べるに当たって１つのルールがある：4 枚の異なる畳の角が合う箇所があってはならない. 例えば, 4ｘ4 の部屋に対し下記の二つの並べ方を考える：左の並べ方は条件を満たすが, 右は満たさない：中央の赤 \"X\" は, 4枚の畳が合う箇所を示している.このルールにより, いくらかの偶数の大きさの部屋は畳を敷くことができない：これらを畳禁止の部屋と呼ぶ.\nさらに, 大きさが s となる畳禁止の部屋の数を T(s) と定義する.最も小さな畳禁止の部屋は, 大きさが s = 70 で寸法が 7ｘ10 である.\n大きさが s = 70 の他の部屋はすべて畳を敷くことができる；1ｘ70, 2ｘ35, 5ｘ14 である. ゆえに T(70) = 1 である.同様に, 大きさが s = 1320 の畳禁止の部屋はちょうど 5 つあるため, T(1320) = 5 であることが確かめられる：20ｘ66, 22ｘ60, 24ｘ55, 30ｘ44, 33ｘ40 である.\n実際, s = 1320 は T(s) = 5 となる最も小さな部屋の大きさ s である.T(s) = 200 となる最も小さな部屋の大きさ s を求めよ."},"257":{"title":"角の二等分線","body":"辺の長さが整数である三角形 ABC について考える. 辺は a ≤ b ≤ c とする(AB = c, BC = a, AC = b). \n三角形の角の二等分線は辺と E, F, G で交わる(下の図を参照).線分 EF, EG, FG は三角形 ABC を 4 つの三角形 AEG, BFE, CGF, EFG に分ける.\nこれら 4 つの三角形において, 比率 (ABCの面積)/(小三角形の面積)が有理数になることが証明されている.\nしかし, いくつかまたは全ての比率が整数になるような場合が存在する.ABCの面積/AEGの面積 の比率が整数となるような, 周辺の長さ ≤ 100,000,000 を満たす三角形 ABC はいくつあるか."},"258":{"title":"ラグ付フィボナッチ数列","body":"数列を以下のように定義する.k = 1018 に対して gk mod 20092010 を求めよ."},"259":{"title":"到達可能数","body":"以下の規則に従った数式の答えとなるような正整数を到達可能と定義する:例えば, (1/23) * ((4*5)-6) * (78-9) = 42 なので, 42 は到達可能である.全ての到達可能な正整数の合計を求めよ.正答者注(123456789も式として認められる)"},"260":{"title":"石取りゲーム","body":"3 つの石の山と 2 人のプレイヤーでゲームを行う. \n彼女のターンでは, プレイヤーは 1 個以上の石を山から取る. しかし, 2 つ以上の山から取る場合は, 選んだそれぞれの山から同じ数の石を取らないといけない.つまり, プレイヤーは N>0 を選んで取る:最後の石を取ったプレイヤーが勝者である.勝利状態 とは最初のプレイヤーが勝つ状態のことである. \n例えば, (0,0,13), (0,11,11), (5,5,5) は, 最初のプレイヤーが全ての石を一度に取れるから勝利状態である.敗北状態 とは最初のプレイヤーがどんなことをしても 2 人目のプレイヤーが勝つ状態のことである. \n例えば, (0,1,2) と (1,3,3) は敗北状態である: ルール上のどんな手を取っても 2 人目のプレイヤーの勝利状態となる.xi ≤  yi ≤ zi ≤ 100 を満たす全ての敗北状態 (xi,yi,zi) について考える. \nこの場合 Σ(xi+yi+zi) = 173895 であることがわかる.xi ≤  yi ≤ zi ≤ 1000 を満たす全ての敗北状態を表す (xi,yi,zi) について Σ(xi+yi+zi) を求めよ."},"261":{"title":"ピボット平方数の和","body":"次の条件を満たすとき, 正整数 k を平方ピボット(square-pivot)と呼ぶことにしよう.\nk まで連続する (m+1) 個の平方の和と (n+1)\nから連続する m 個の平方の和が等しいような, m > 0 と n ≥ k の整数の組がある, つまり:いくつか小さい平方ピボットの例を挙げる.全ての異なる平方ピボット(≤ 1010)の合計を求めよ."},"262":{"title":"山脈","body":"次の式は山岳地帯の連続した地形図を示し, 各ポイント (x,y) の標高 h を表す:蚊が領域 0 ≤ x,y ≤ 1600 を抜けずに A(200,200) から B(1400,1400) まで飛ぼうとする.邪魔する山岳のために, 最初に蚊は標高 f のポイント A' までまっすぐ上へ飛ぶ. 次に, 同じ高さ f を保ったまま, 障害をよけて飛び B の真上にあたるポイント B' まで飛ぶ.最初に, 決められた領域をでないように A から B へ上記のように移動できる最小の fmin を決める. \n次に, 標高 fmin を保ったまま飛ぶ上で, A' と B' の最短の経路を求める.小数点以下 3 桁に四捨五入した経路の長さを答えとして入力せよ.注意: 簡単のため, 上に示した標高の関数をほとんどのプログラム言語に適した形で下に記す:\nh=( 5000-0.005*(x*x+y*y+x*y)+12.5*(x+y) ) * exp( -abs(0.000001*(x*x+y*y)-0.0015*(x+y)+0.7) )"},"263":{"title":"エンジニア念願の夢","body":"6 という数を考える. 6 の約数は 1, 2, 3, 6 である. \n1 以上 6 以下の数はいずれも 6 の異なる約数の和として表すことができる:\n1=1, 2=2, 3=1+2, 4=1+3, 5=2+3, 6=6.\n数 n について, 1 以上 n 以下の数のいずれもが n の異なる約数の和として表せるなら, n をプラクティカル数（practical number）と呼ぶ.差が 6 となる連続した素数の対をセクシー対（\"six\" はラテン語で \"sex\" だから）と呼ぶ. 最初のセクシー対は (23, 29) である.三個対が見つかることがある. 三個対とは, 3 個の連続したセクシー対のことである. つまり, 各対の二番目の要素が次の対の一番目の要素となる.次のような数 n を, エンジニアパラダイス（engineers' paradise）と呼ぶ.最初の四個のエンジニアパラダイスの和を求めよ."},"264":{"title":"三角形の『心』","body":"以下の条件をすべてみたす三角形を考える.周の長さが50以下であり上記の条件を満たす三角形は全部で9個ある.\n周の長さが小さい順に列挙すると以下のようになる：これらの三角形の周の長さの合計を四捨五入して小数点以下4桁で表すと291.0089となる.上記の条件を満たす三角形であって周の長さが105以下であるようなものをすべて求め,\nこれらの三角形の周の長さの合計を四捨五入して小数点以下4桁で表した値を答えよ."},"265":{"title":"2進円","body":"2N の2進数の数字は, 時計回りに N 桁連続する数字全てで網羅するように円状に並べることができる.例えば N=3 では, 回転を無視すると2 つの円状の配置が可能である.最初の配置では, 時計回りの3桁の数列は: 000, 001, 010, 101, 011, 111, 110, 100 である.それぞれの円形の配置は, 全部が 0 であるような数列を最上位にして時計回りに数字をつなげることで, 1 つの数に変換できる. \nN=3 の 2つの配置は 23 と 29 になる:S(N) を異なる変換した数の合計とすると, S(3) = 23 + 29 = 52 となる.S(5) を求めよ."},"266":{"title":"擬似平方根","body":"12 の約数は: 1,2,3,4,6,12 である. \n12 の平方根を超えない最大の 12 の約数は 3 である. \n整数 n に対し, その平方根を超えないような n の最大の約数を n の擬似平方根(PSR) と呼ぶことにしよう. \nPSR(3102)=47 であることがわかる.p を 190 未満の素数の積とする. \nPSR(p) mod 1016 を求めよ."},"267":{"title":"億万長者","body":"あなたに変わった投資の機会が与えられる.£1 の資産から始めて, 固定した比率 f を選び, 資産の中でその比率を公正なコイントスに賭け, 1000 回繰り返す.賭け金は表の時は倍戻り, 裏の時は失う.例えば, f=1/4 のとき, 最初のトスでは £0.25 賭け, 表が出たら £0.5 を勝ち取り, £1.5 の手持ちとなる. 次に £0.375 を賭け, 2 回目のトスで裏が出たら, £1.125 となる.1,000 回後に, 少なくとも £1,000,000,000 を持っている確率が最大になる f を選ぶと, £1,000,000,000 獲得できる確率はいくらか?全ての計算は正確(丸めなし)に行うとする. ただし, 答は小数点以下 12 桁に四捨五入し, 0.abcdefghijkl の形式で入力せよ."},"268":{"title":"少なくとも4つの異なる100未満の素数を因数に持つ数を数え上げろ","body":"少なくとも 4 つの異なる 100 未満の素数で割り切れる  1000 未満の正の整数は 23 あることがわかる.少なくとも 4 つの異なる 100 未満の素数で割り切れる 1016 未満の正の整数はいくつあるか答えよ."},"269":{"title":"少なくとも1つの整数の根を持つ多項式 ","body":"多項式 P(x) の根または零点(A root or zero)とは等式 P(x)=0 の解のことである. \nPn を n の各桁が係数となるような多項式と定義する. \n例えば, P5703(x)=5x3 + 7x2 + 3 である.以下のことがわかる:Z(k) を, 多項式 Pn が少なくとも1つの整数の根を持つような, k を超えない正の整数 n の数とする.Z(100 000) は 14696 であることが確かめられる.Z(1016) は?"},"270":{"title":"正方形の切断","body":"寸法が N×N (整数)の正方形の紙 1 枚を, 角を原点に, 2辺を x 軸と y 軸に沿って置く. そして, 次のルールに従ってそれを切っていく:反転や回転したものを全て区別して数えた時, C(N) を N×N の正方形を何通り切れるかを表すとする. 例えば, C(1) = 2, C(2) = 30 である(下を参照).C(30) mod 108 を求めよ."},"271":{"title":"モジュラー立方数 その1","body":"正の整数 n に対し, S(n) を 1<x<n で x3≡1 mod n を満たすような整数 x の和と定義する.n=91 の時, x は 8 つの値を取りうる, すなわち: 9, 16, 22, 29, 53, 74, 79, 81 である. \nつまり, S(91)=9+16+22+29+53+74+79+81=363 である.S(13082761331670030) を求めよ."},"272":{"title":"モジュラー立方数 その2","body":"正の整数 n に対し, C(n) を 1<x<n で x3≡1 mod n を満たすような整数 x の数と定義する.n=91 の時, x は 8 つの値を取りうる, すなわち: 9, 16, 22, 29, 53, 74, 79, 81 である. \nつまり, C(91)=8 である.C(n)=242 を満たす正整数 n≤1011 の合計を求めよ."},"273":{"title":"平方数の和","body":"次の等式について考える: a2 + b2 = N, 0 ≤ a ≤ b, a,b,N は整数.たとえば N=65 では 2 つ解がある:a=1, b=8 と a=4, b=7 である.S(N) を a2 + b2 = N (0 ≤ a ≤ b, a,b,N は整数) の全ての解の a の値の和とする.つまり S(65)=1+4=5 である.平方因子を持たなく, 150 未満の 4k+1 で表せる素数でしか割りきれない全ての N について ΣS(N) を求めよ."},"274":{"title":"整除乗数","body":"10 と互いに素な整数 p > 1 に対し, 次のような性質がある正の整除乗数(divisibility multiplier) m < p が存在する: 任意の正の整数 n に対し次の関数と p で割り切れるかどうかが同じである:f(n) = (n の最後の桁以外) + (n の最後の桁) * mつまり, もし m が p の整除乗数であるなら, f(n) が p で割り切れる必要十分条件は n が p で割り切れることである.(n が p より十分大きければ, f(n) は n より小さくなり, f を繰り返し適用することで p の整除乗数のテストに使用できる)例えば, 113 の整除乗数は 34 である.f(76275) = 7627 + 5 * 34 = 7797 : 76275 と 7797 は共に 113 で割り切れる. \nf(12345) = 1234 + 5 * 34 = 1404 : 12345 と 1404 は共に 113 で割り切れない.1000 未満で 10 と互いに素な素数の整除乗数の合計は 39517 である. 107 未満で10 と互いに素な素数の整除乗数の合計は?"},"275":{"title":"均整の取れた彫像","body":"位数 n の均整の取れた彫像を次のように定義する:彫像を数えるとき, y 軸に対称なだけの図形は別のものと考えない. 例えば, 位数 6 の 18 個の均整の取れた彫像は以下の通りである. (y 軸に対し)鏡像のペアは 1 つの彫像として数えていることに注意せよ:位数 10 の均整の取れた彫像は 964 あり, 位数 15 では 360505 ある. \n位数 18 の均整の取れた彫像はいくつかるか?(*)ポリオミノ : 同じ形の正方形を共有する辺でつなげた図形. 穴は許される."},"276":{"title":"原始的な三角形","body":"辺の長さ a, b, c が整数で a ≤ b ≤ c となるような三角形について考える. \n整数である辺の長さ (a,b,c) の三角形が gcd(a,b,c)=1 を満たすとき, 原始的であると言われる. \n周長が 10 000 000 を超えない辺の長さが整数で原始的な三角形はいくつあるか."},"277":{"title":"修正コラッツ列","body":"整数の修正コラッツ列は値 a1 から始めて次のようにして得られる:an が 3 で割り切れるならば an+1 = an/3. これを大きな下ステップ \"D\" と表す.an を 3 で割った余りが 1 ならば an+1 = (4an + 2)/3. これを大きな上ステップ \"U\" と表す.an を 3 で割った余りが 2 ならば an+1 = (2an - 1)/3. これを小さな下ステップ \"d\" と表す.数列は an = 1 となれば終了する.任意の整数が与えられたとき, ステップの列を書き出すことができる.\n例えば a1=231 なら, 数列 {an}={231,77,51,17,11,7,10,14,9,3,1} はステップ \"DdDddUUdDD\" に対応する.もちろん, 同じ列 \"DdDddUUdDD....\" から始まる列は他にもある.\n例えば, a1=1004064 なら, ステップの列は DdDddUUdDDDdUDUUUdDdUUDDDUdDD である.\n実際, 1004064 は, 列 DdDddUUdDD から始まる最小の可能な a1 > 106 である.列 \"UDDDUdddDDUDDddDdDddDDUDDdUUDd\" から始まる最小の a1 > 1015 は何か？"},"278":{"title":"半素数の線型結合","body":"いくつかの整数 1 < a1 < a2 < ... < an に対し, 次の線形の組み合わせについて考える. q1a1 + q2a2 + ... + qnan = b, ただし qk ≥ 0 は整数のみとする.与えられた ak に対して, b は全ての値を網羅しないかもしれないことに注意せよ. \n例えば, a1 = 5, a2 = 7 なら, b が 1, 2, 3, 4, 6, 8, 9, 11, 13, 16, 18 または 23 であるような q1 ≥ 0, q2 ≥ 0 は存在しない. \n実際, 23 は　a1 = 5, a2 = 7　に対して b の値とならない最大の数である. \nこれを f(5, 7) = 23 とする. \n同様に, f(6, 10, 15) = 29, f(14, 22, 77) = 195 であることを示せる.p, q, r が素数で p < q < r < 5000 であるとき, Σf(p*q,p*r,q*r) を求めよ."},"279":{"title":"整数の辺と整数の角を持つ三角形","body":"辺の長さが整数で, 少なくとも 1 つの角が整数(度で計測)な三角形のうち, 周長が 108 を超えないものはいくつあるか."},"280":{"title":"アリと種","body":"勤勉なアリが 5x5 の格子をランダムに歩く. 中央の正方形から歩き始める. 各ステップにおいて, アリは元のマス目にとどまらず, 近接する正方形にランダムに移動する; ゆえに各ステップではアリの位置に応じて 2, 3, 4 通りの移動の仕方がある.歩き始める際に, 種が最下列の各正方形に置かれる. アリが種を運んでおらず, かつ種を含む最下列の正方形に到達した場合, アリは種を運び始める. アリは, やがて到達する最上列の最初の空白の正方形に種を落とす.すべての種が最上列に落とされるまでに期待されるステップ数は何か.\n答を小数第 6 位に丸めて求めよ."},"281":{"title":"ピザトッピング","body":"完全に円形のピザを m・n のピースに等分割にし, 各カットにちょうど 1 つずつトッピングを載せたい.m (m ≥ 2)種の異なるトッピングをのせ, 各トッピングがちょうど n (n ≥ 1)カットからなるピザを何通り作れるかを f(m,n) で表す. \n反転は異なるが, 回転は同じものと考える.つまり, 例えば, f(2,1) = 1, f(2,2) = f(3,1) = 2, f(3,2) = 16 である.\nf(3,2) を下に示す.f(m,n) ≤ 1015 を満たす全ての f(m,n) の合計を求めよ."},"282":{"title":"アッカーマン関数","body":"負ではない整数 m, n に対し, アッカーマン関数 A(m, n) は次のように定義される:例えば A(1, 0) = 2, A(2, 2) = 7, A(3, 4) = 125 である.Σ0 ≤ n ≤ 6A(n, n) を求め, 148 で割った余りを入力せよ."},"283":{"title":"面積/周囲の長さの比が整数となる整数辺三角形","body":"辺の長さが6,8,10の三角形を考えた場合, 周囲の長さと面積は共に24である. だから, 面積/周囲の長さの比は1になる.辺の長さが13,14,15の三角形を考えた場合, 周囲の長さは42であり, 面積は84である. この三角形の面積/周囲の長さの比は2になる.辺の長さが整数で, 面積/周囲の長さの比が1000以下の正整数になるようなすべての三角形の周囲の長さの和を求めよ."},"284":{"title":"平方安定","body":"10 進数で 3 桁の数字 376 は 2 乗の末尾が自身と一致するという特徴を持つ数の一つである: 3762 = 141376. このような特徴を持つ数を平方安定(steady square)と呼ぶことにしよう.平方安定は他の進数でも見られる. 14 進数では, 3 桁の c37 は平方安定である: c372 = aa0c37, そしてその桁の合計は 14 進数で c+3+7=18 である. 文字 a,b,c,d はそれぞれ 10, 11, 12, 13 を表すのに使われる. これは 16 進数とまったく同じ方法である.1 ≤ n ≤ 9 では, 14 進数で全ての n 桁の平方安定な数の各桁の合計は 2d8 (10進数で 582) である. 最上位桁が 0 の平方安定は含まない.14 進数で 1 ≤ n ≤ (10進数で)10000 の n 桁の平方安定な数の各桁の合計を求め, 答を 14 進数で入力せよ. 必要であれば文字は小文字を使用せよ."},"285":{"title":"ピタゴラス・オッズ","body":"Albert は正整数 k を選び, さらに二つの実数 a, b を区間 [0,1] の一様分布からランダムに選ぶ.\nさらに和 (k･a+1)2+(k･b+1)2 の平方根を計算し, 最も近い整数に丸める. もし結果が k に等しければ, 彼は k 点を得る; それ以外は 0 点である.例えば, k=6, a=0.2, b=0.85 なら, (k･a+1)2+(k･b+1)2=42.05 である.\n42.05 の平方根は 6.484... で, 最も近い整数は 6 になる.\nこの値は 6 に等しいため, 彼は 6 点を得る.k=1, k=2, ..., k=10 で 10 回プレイした場合, 小数第６位で四捨五入した合計点の期待値は 10.20914 であることが分かる.k=1, k=2, k=3, ..., k=105 で 105 回プレイした場合, 小数第６位で四捨五入した合計点の期待値はいくらか？"},"286":{"title":"得点確率","body":"Barbara は数学者でありバスケットボール選手である. 彼女は, 距離 x からシュートしたときに得点できる確率がちょうど (1-x/q) であることに気づいた. ここで q は 50 よりも大きな実定数である.各予行練習では, 彼女は 距離 x=1, x=2, ..., x=50 からシュートする. 記録によると, 合計点が 20 点ぴったりになる確率はちょうど 2 ％である.q を求め, 小数第11位を四捨五入して答えよ."},"287":{"title":"4分木符号化(シンプルな圧縮アルゴリズム)","body":"4分木による符号化を用いて, 2N×2N の白黒の画像を(0 と 1 の)ビット列で表すことができる. このビット列は左から右へ以下のようにして解読する:下の 4×4 の画像について考える(色のついた印はどこで分割が起こるかを表す)この画像はいくつかの文字列で表すことができる, 例えば:\n\"001010101001011111011010101010\" は長さ 30 であり, または\n\"0100101111101110\", は長さ 16 であり, これはこの画像を表す最短のビット列である.正の整数 N に対し, DN を次の条件を満たす 2N×2N の画像と定義する:D24 を表す最短のビット列の長さを求めよ."},"288":{"title":"巨大階乗","body":"任意の素数 p に対し N(p,q) = Σn=0 to q Tn*pn とする. \nTn は以下の乱数生成器で生成する:S0 = 290797\nSn+1 = Sn2 mod 50515093\nTn = Sn mod pNfac(p,q) を N(p,q) の階乗とする. \nNF(p,q) を Nfac(p,q) 内の因数 p の数とする.NF(3,10000) mod 320=624955285 であることがわかる.NF(61,107) mod 6110 を求めよ."},"289":{"title":"オイラー閉路","body":"C(x,y) を (x,y), (x,y+1), (x+1,y), (x+1, y+1) を通る円とする.正の整数 m, n に対し, E(m,n) を以下のm⋅n の円からなる図形とする:\n{C(x,y): 0≤x<m, 0≤y<n, xとyは整数}E(m,n) 上のオイラー閉路とは, 全ての弧をちょうど1度ずつ通る経路のことである. \nE(m,n) 上に多数のそのような経路があるが, ここでは自身と交わらないものだけを考える: 交差のない経路では格子点上で自身の経路に触れるが, 決して交差しない.下の図は E(3,3) とその上の交差のないオイラー閉路の一例である.L(m, n) を E(m, n) 上の交差のないオイラー閉路の数とする. \n例えば, L(1,2)=2, L(2,2)=37, L(3,3)=104290 である.L(6,10) mod 1010 を求めよ."},"290":{"title":"デジタル・シグネチャー(数字の特徴)","body":"0 ≤ n < 1018 であり n の桁の合計が 137n の桁の合計と等しいような整数 n はいくつあるか."},"291":{"title":"Panaitopol素数","body":"素数 p がある正の整数 x, y に対して  を満たすとき, p を Panaitopol素数 と呼ぶ.5×1015 未満のPanaitopol素数はいくつあるか."},"292":{"title":"ピタゴラス多角形","body":"以下の性質を持つ凸多角形をピタゴラス多角形(pythagorean polygon)と呼ぶことにする:与えられた整数 n に対し, P(n) を周長≤ n を満たす異なるピタゴラス多角形の数と定義する. \nピタゴラス多角形は平行移動で一致しないならば異なるとみなす.P(4) = 1, P(30) = 3655, P(60) = 891045 である. \nP(120) を求めよ."},"293":{"title":"擬似フォーチュン数","body":"偶数の正整数 N は 2 の累乗であるか素因数が全て連続した素数である場合, 許容的(admissible)と呼ぶ. \n最初の 12 個の許容的な数は 2,4,6,8,12,16,18,24,30,32,36,48 である.N が許容的であれば, N+M が素数である最小の整数 M > 1 を N の擬似フォーチュン数(pseudo-Fortunate number)と呼ぶ.例えば, N=630 は許容的である, 630 は偶数でその素因数は連続する素数 2, 3, 5, 7 であるからだ. \n631 より大きい次の素数は 641 である, つまり 630 の擬似フォーチュン数は M=11 である. 16 の擬似フォーチュン数は 3 であることがわかる.109 未満の許容的な数 N に対して, 全ての異なる擬似フォーチュン数の合計を求めよ."},"294":{"title":"桁の合計 - 23の場合","body":"正の整数 k に対し, k を通常の10進数で表したときの桁の合計を d(k) と定義する. つまり d(42) = 4+2 = 6 である.正の整数 n に対し, S(n) を次の性質を満たす正の整数 k < 10n の個数と定義する:S(9) = 263626, S(42) = 6377168878570056 であることがわかる.S(1112) を求め, mod 109 を入力せよ."},"295":{"title":"レンズホール","body":"次の条件を満たす時, 2つの円に囲まれた凸状の領域をレンズホール(lenticular hole)と呼ぶ:次の円について考える:\nC0: x2+y2=25\nC1: (x+4)2+(y-4)2=1\nC2: (x-12)2+(y-4)2=65円 C0, C1, C2 は以下の図で示す.C0 と C1 はレンズホールを形成する. C0 と C2 も同様である.正の実数のペア (r1, r2) が次の条件を満たす時, これをレンズペア(lenticular pair)と呼ぶ:\nレンズホールを形成するような半径 r1 と半径 r2 の2つの円が存在する.\n(1, 5) と (5, √65) は共にレンズペアであることが上の例から確かめられる.L(N) を 0 < r1 ≤ r2 ≤ N を満たす異なるレンズペア (r1, r2) の数とする.\nL(10) = 30, L(100) = 3442 であることが確かめられる.L(100 000)を求めよ.注意: 最近上限を変更した. 正しい上限を使用しているか確認せよ."},"296":{"title":"角二等分線と接線","body":"辺の長さが整数で BC ≤ AC ≤ AB を満たす三角形 ABC がある. \nk は角 ACB の二等分線である. \nm は ABC の外接円に対する C での接線である. \nn は B を通る m に平行な線である. \nn と k の交点を E とする.BE の長さが整数で周長が 100 000 を超えない三角形 ABC はいくつあるか?"},"297":{"title":"ゼッケンドルフ表記","body":"フィボナッチ数列の各項は前の2つの項を足して生成される. \n1 と 2 から始めて, 最初の 10 項は: 1, 2, 3, 5, 8, 13, 21, 34, 55, 89 である.全ての正整数はフィボナッチ数列の連続しない項の合計で一意に表せる. 例えば, 100 = 3 + 8 + 89 である. \nそのような合計はゼッケンドルフ表記(Zeckendorf representation)と呼ばれる.整数 n>0 に対し, z(n) を n のゼッケンドルフ表記中の項数とする. \nつまり z(5) = 1, z(14) = 2, z(100) = 3 となる. \nまた, 0<n<106 に対し, Σz(n) = 7894453 である.0<n<1017 に対し Σz(n) を求めよ."},"298":{"title":"選択的健忘","body":"ラリーとロビンが次のような記憶ゲームを行う. 1回ごとに 1 から 10 までの数のうちどれか 1 つがランダムに告げられていく.\n各プレイヤーは前に呼ばれた数字を 5 つまで覚えることができる.\nもし告げられた数字を記憶していたら, 1 ポイントを得る.\nもし記憶していなかった数字ならば, プレイヤーは呼ばれた数字を記憶に加え, もし記憶が一杯であれば他の数字を取り除く.両プレイヤー共に空の記憶から始める. 各プレイヤーは共に記憶していなかった新たな数字を必ず記憶していくが, どの数字を忘れていくかを決める戦略が異なる. ラリーの戦略は一番長く呼ばれなかった数字を忘れる. ロビンの戦略は一番長く記憶していた数字を忘れる.ゲームの例を挙げる:ラリーの得点を L で, ロビンの得点を R で表すとすると, 50 ターン後の |L-R| の期待値を求めよ. 小数点以下 8 桁に四捨五入し, x.xxxxxxxx の形式で回答せよ."},"299":{"title":"3つの相似三角形","body":"整数の座標をもつ４点が選ばれる:\nA(a, 0), B(b, 0), C(0, c), D(0, d) (0 < a < b かつ 0 < c < d) である.\n線 AC 上に, 整数の座標をもつ点 P を, ３つの三角形 ABP, CDP, BDP が全て相似となるように選ぶ.a=c のときにのみ３つの三角形が相似となり得ることは, 容易に証明できる.そこで, a=c とし, ３つの三角形 ABP, CDP, BDP が全て相似となる点 P (整数の座標をもつ) が少なくとも１つ存在するような３数の組 (a,b,d) を探すことにする.例えば, (a,b,d)=(2,3,4) ならば, 点 P(1,1) が上の条件を満たすことが容易に確かめられる. ３数の組 (2,3,4) と (2,4,3) は, 点 P(1,1) は両者で共通ではあるが, 異なるものとしてみなすことに注意.b+d < 100 の場合, 点 P が存在する異なる３数の組 (a,b,d) は 92 個ある.\nb+d < 100,000 の場合, 点 P が存在する異なる３数の組 (a,b,d) は 320471 個ある.\nb+d < 100,000,000 の場合, 点 P が存在する異なる３数の組 (a,b,d) は何個あるか."},"300":{"title":"タンパク質の畳込み","body":"タンパク質は, 非常に単純化した形で, 疎水性要素 (H) と極性要素 (P) からなる文字列として考えることができる. 例えば HHPPHHHPHHPH である.\n本問では, タンパク質の方向は重要である. たとえば HPP は PPH と区別して考える. したがって, n 個の要素からなる異なるタンパク質は 2n 通りある.自然に遭遇するこれらの文字列は, エネルギー的に有利であるため, 常にいつでも, H-H の接触点の数ができるだけ大きくなるよう折りたたまれている.\nその結果, H 要素は内側に集まり, P 要素は外側になる傾向がある.\n自然のタンパク質はもちろん三次元に折りたたまれているが, われわれは二次元に折りたたまれたタンパク質のみを考える.下図は, 例のタンパク質を折りたたむやり方を二通り示している (H-H の接触点を赤い点で示している).左の折りたたみ方は H-H の接触点が 6 個しかないため, 自然に起こることは決してない.\n一方, 右の折りたたみ方は接触点が 9 個あり, この文字列では最適である.H と P 要素は文字列の任意の位置において等しい可能性で起こると仮定すると, 長さ 8 のランダムなタンパク質の文字列の最適な折りたたみ方における H-H の接触点の数は, 平均して 850 / 28 = 3.3203125 となることが分かる.長さ 15 のランダムなタンパク質の文字列の最適な折りたたみ方における H-H の接触点の平均数は何か.\n厳密な結果に対し, 必要な数の小数位を用いて答えを与えよ."},"301":{"title":"Nim","body":"Nimは2人のプレイヤーがいくつかの山に分かれた石を交互にとっていくゲームである.ここでは以下のようなNimについて考える.(n1,n2,n3)がそれぞれの山に残っている石の数を表すとするとを返す関数 X(n1,n2,n3) が定義できる.例えば, X(1,2,3) = 0 である. \nなぜなら先手がどのように石をとっても, 後手は二つの山に同じ数の石が残るようにとることができ, \nその後は先手と同じように他方の山から石をとっていけば勝てるからである. \n具体的に書くと以下ようになる正の整数 n ≦ 230 のうち X(n,2n,3n) = 0 となるものはいくつあるか."},"302":{"title":"強アキレス数","body":"ある自然数nがそのすべての素因数pについてp2で割り切れるとき多冪数と呼ぶ. また, ある自然数nが別の自然数の累乗であるとき累乗数と呼ぶ. 多冪数のうち塁乗数でないものをアキレス数と呼ぶ. \n例えば, 864(=25・33)や1800(=23・32・52)はアキレス数である.ここでSとφ(S)*1が共にアキレス数となるような自然数Sを強アキレス数と呼ぶことにする. \n例えば, 864は強アキレス数だが(φ(864)=288=25・32), 1800は強アキレス数ではない(φ(1800)=480=25・31・51).強アキレス数は104以下には7個, 108以下には656個存在する.1018以下に強アキレス数はいくつ存在するか."},"303":{"title":"小さい桁を持つ倍数","body":"正の整数 n に対し, f(n) を, n の倍数であり 10 進数で表すと 2 以下の数字のみが用いられる最小の数と定義する.ゆえに, f(2)=2, f(3)=12, f(7)=21, f(42)=210, f(89)=1121222 である.また,  である. を求めよ."},"304":{"title":"Primonacci","body":"任意の自然数nについて関数next_prime(n)はp>nとなるような最小の素数pを返す.数列a(n)は\na(1)=next_prime(1014), a(n)=next_prime(a(n-1)) for n>1\nで定義される.フィボナッチ数列f(n)は\nf(0)=0, f(1)=1, f(n)=f(n-1)+f(n-2) for n>1\nで定義される.数列b(n)はf(a(n))で定義される.1 ≦ n ≦ 100000 について Σb(n) mod 1234567891011 を求めよ."},"305":{"title":"再帰的位置","body":"Sを10進で表した(1から始まる)自然数を連続してつなげた(無限に続く)文字列とする. \nすなわち S = 1234567891011121314151617181920212223242... となる.いかなる数もこの文字列の中に無限回現れることは容易にわかる.f(n)をnがSの中でn回目に現れた先頭の場所とする. \n例えば, f(1)=1, f(5)=81, f(12)=271, f(7780)=111111365 となる.1 ≦ k ≦ 13 について Σf(3k) を求めよ."},"306":{"title":"紙テープゲーム","body":"次のゲームは, 組み合わせゲーム理論の古典的な例である:２人のプレイヤーが, 一列に並んだ n 個の白い正方形から開始して, 交互にターンを行う.\n各ターンでは, プレイヤーは２つの隣り合う白い正方形を選び, 黒で塗る.\n最初に色を塗ることができなくなったプレイヤーが負けとなる.したがって, 1≦n≦5 に対し, 先手必勝となる n の値は 3 個ある.\n同様に, 1≦n≦50 に対し, 先手必勝となる n の値は 40 個ある.1≦n≦1 000 000 に対し, 先手必勝となる n の値は何個あるか."},"307":{"title":"チップの欠陥","body":"ある工場で製造するICチップn個あたりk箇所の欠陥がランダムに生じる. \n（一つのチップにつき複数の欠陥が生じ得る）少なくとも3箇所以上の欠陥を持つチップができる確率を p(k,n) と置く\n例えば p(3,7) = 0.0204081633...p(20 000, 1 000 000) を小数点以下10桁に丸めて 0.abcdefghij の形で答えよ."},"308":{"title":"脅威の素数生成オートマトン","body":"プログラミング言語 Fractran で書かれたプログラムは, 分数のリストから構成される.Fractran の仮想マシンの内部状態は正の整数であり, あるシード値が初期にセットされる. Fractran の各反復では, リストのうち, 状態の整数との積が整数となる初めの分数が状態の整数に掛けられる.例えば, John Horton Conway が書いた素数生成に対する Fractran のプログラムの一つは, 次の 14 の分数から構成される:シードの整数 2 から始めると, プログラムの反復計算を行うと次の数列が得られる: 15, 825, 725, 1925, 2275, 425, ..., 68, 4, 30, ..., 136, 8, 60, ..., 544, 32, 240, ...この数列に現れる 2 のべき乗は 22, 23, 25, ... である.\nこの数列のすべての 2 のべき乗は素数の指数を持ち, かつすべての素数は 2 のべき乗の指数として, 適切な順序で現れることが示せる.上の Fractran のプログラムを用いて Project Euler の Problem 7（10001 番目の素数を求めよ）を解くと, プログラムが 210001 番目の素数 を生成するまでに何回の反復が必要になるか."},"309":{"title":"整数はしご","body":"古典的な「はしごの交差」問題では, 狭く平らな通路の両壁に立てかけられた二本のはしごの長さ x と y が与えられる. 二本のはしごが交差する場所の通路からの高さ h がさらに与えられ, 通路の幅 w を求めることが要求される.ここで, 四つの変数すべてが正の整数となる場合のみを対象にする. 例えば, x = 70, y = 119, h = 30 なら, w = 56 と計算できる.実際, 0 < x < y < 200 となる整数 x, y, h に対し, w が整数解となる組み合わせ (x,y,h) は 5 つのみである:\n(70, 119, 30), (74, 182, 21), (87, 105, 35), (100, 116, 35), (119, 175, 40).0 < x < y < 1 000 000 となる整数 x, y, h に対し, w が整数解となる組み合わせ (x,y,h) はいくつあるか."},"310":{"title":"ニム・スクエア","body":"アリスとボブは「ニム・スクエア」で遊んでいる. \n「ニム・スクエア」とは3つの山で行う普通のニムと似ているが, プレイヤーは平方数の石だけを山から取れる. \n3つの山の石の数を (a,b,c) として表す. \n0 ≤ a ≤ b ≤ c ≤ 29 では先手が負ける状態は 1160 ある.0 ≤ a ≤ b ≤ c ≤ 100 000 の場合に先手が負ける状態の数を求めよ."},"311":{"title":"biclinic整数四角形","body":"四角形ABCDは各辺の長さが整数で 1 ≦ AB < BC < CD < AD をみたす凸四角形である. \nBDの長さは整数である. OはBDの中点で, AOの長さも整数である. \nAO = CO ≦ BO = DOとなるこのような四角形ABCDをbiclinic整数四角形と呼ぶ.例えば以下の四角形はbiclinic整数四角形である. \nAB = 19, BC = 29, CD = 37, AD = 43, BD = 48, AO = CO = 23 となっている.B(N)を\nAB2+BC2+CD2+AD2 ≦ N\nをみたす, 異なるbiclinic整数四角形ABCDの数とする. \nB(10 000) = 49, B(1 000 000) = 38239 であることが確かめられる.B(10 000 000 000) を求めよ."},"312":{"title":"シェルピンスキーグラフの循環路","body":"C(n)をSnのすべての頂点を一度だけ通るような閉路の数とする. \n例えば, S3については下図のように8つの閉路が描けるため C(3) = 8 となる.C(1) = C(2) = 1\nC(5) = 71328803586048\nC(10 000) mod 108 = 37652224\nC(10 000) mod 138 = 617720485\nであることが確認できる.C(C(C(10 000))) mod 138 を求めよ."},"313":{"title":"スライドパズル","body":"スライドパズルでは, カウンタを空白のスペースに向けて横または縦へスライドさせることができる. ゲームの目的は, 赤のカウンタを盤の左上角から右下角へ動かすことである；スペースはつねに右下角にある状態から始まる. 例えば次の一連の図は, 2×2の盤にて５手でゲームを完了させる様子を示している.S(m,n) を, m×n の盤でゲームを完了させる最小の手数を表すとする. \n例えば, S(5,4) = 25 であることが確かめられる.100 未満の素数 p について, S(m,n)=p2 となる盤はちょうど 5482 個ある.106 未満の素数 p について, S(m,n)=p2 となる盤は何個あるか."},"314":{"title":"小鼠 月世界を征服","body":"月が開拓され, 土地はただで手に入るようになったが, 困ったことがある. 確保した土地の周りに壁を作らなければならないのだが, 月に壁を作るにはお金がかかるのだ. 各国には 500 m × 500 m の正方形の土地が割り当てられているが, 壁の内側にある領域だけ保有することになる. 251001 本の杭が１メートル間隔で格子状に設置されている. 壁は閉じた一つながりの直線であり, 各直線は杭どうしを結んでいなければならない.大きな国はもちろん 250 000 m2 の土地全体を囲うよう 2000 m の壁を建てた. \nグランドフェンウィック大公国は予算が厳しく, あなた（皇室プログラマ）に, 囲われた面積／壁の長さ の比が最大となる形はどのようなものか計算するよう依頼した.あなたは紙の上で予備計算を行った. 2000 メートルの壁で 250 000 m2 の土地を囲うと, 囲われた面積／壁の長さの比は 125 となる. \n認められてはいないが, いくらか良いかもしれないアイデアを試してみよう：正方形の内部に, 四辺に接するように円を置けば, 面積は π*2502 m2 に等しく, 周囲の長さは π*500 m となり, したがって囲われた面積／壁の長さの比はこれも 125 となる.しかしながら, 三辺が 75 m, 75 m, 75√2 m の三角形を四つ正方形から切り離すと, 総面積は 238750 m2 で, 周囲の長さは 1400+300√2 m となる. したがって囲われた面積／壁の長さの比は 130.87 と著しく良くなる.囲われた面積／壁の長さの比の最大値を求めよ. \n答えを小数第９位で四捨五入し abc.defghijk の形で答えよ."},"315":{"title":"デジタルルート時計","body":"Sam と Max は, ２個のデジタル時計を「デジタルルート（数字根）時計」に作り変えるよう依頼されている. \nデジタルルート時計は, 数字根をステップごとに計算するデジタル時計である.時計に数字が与えられると, 時計は数字を表示し計算を開始する. 結果にたどりつくまでの途中の値がすべて表示される. \n例えば, 時計に 137 という数が与えられると, \"137\"→\"11\"→\"2\" と表示してから真っ黒になり, 次の数を待つ.各デジタル数字はセグメント状のライトから構成される：横セグメントが３本（上, 中, 下）と縦セグメントが４本（左上, 右上, 左下, 右下）である. \n数 \"1\" は右上と右下の縦セグメントでできており, 数 \"4\" は中の横セグメントと, 左上, 右上, 右下の縦セグメントからできている. 数 \"8\" はすべてのセグメントが点灯する.時計はセグメントを点灯/消灯させるときに限りエネルギーを消費する. \n\"2\" を点灯させるには 5 回の遷移を要する. \"7\" は 4 回だけ遷移を要する.Sam と Max は２個の異なる時計を作る.Sam の時計は 137 のような数を与えられると, \"137\" を表示し, パネルを消灯してから次の数（\"11\"）を点灯し, 再び消灯してそして最終的に最後の数（\"2\"）を点灯, しばらくして消灯する. \nたとえば, 137 では, Sam の時計は次のように動く. 合計で 40 回の遷移である.Max の時計は異なる動きをする. パネル全体を消灯するのではなく, 次の数に必要のないセグメントのみを消灯するという賢いやり方である. \n数 137 に対して, Max の時計は次のように動く. 合計で 30 回の遷移である.もちろん, Max の時計のほうが Sam より電力の消費が少ない. \n２つの時計に A = 107 から B = 2×107 の間の素数が与えられる. \nSam の時計で必要な遷移の総数と Max の時計で必要な遷移の総数の差を求めよ."},"316":{"title":"10進小数展開に現れる数字","body":"p = p1 p2 p3 ... を, {0,1,2,3,4,5,6,7,8,9} から等確率で選んだランダムな数字からなる無限数列とする. \np は実数 0.p1 p2 p3 ... に対応することが分かる. \nまた, 区間 [0,1) からランダムに実数を選ぶことは, {0,1,2,3,4,5,6,7,8,9} から等確率で選んだランダムな数字からなる無限数列を選ぶことと等価であることが分かる.任意の d 桁の正の整数 n に対して, pk, pk+1, ...pk+d-1 が n の十進数と同じ順序で一致するような最小の添字を k とする. \nまた, g(n) を k の期待値とする；g(n) は常に有限であり, 面白いことに, 常に整数であることが示せる.たとえば, n = 535 なら, \np = 31415926535897... に対して, k = 9 である. \np = 355287143650049560000490848764084685354... に対して, k = 36 である. \n他も同様にして, g(535) = 1008 となることが分かる. である.  を求めよ.注： は床関数を表す."},"317":{"title":"爆竹","body":"爆竹が地上100mの高さで爆発する. 爆竹は爆発すると非常に細かい破片となり四方八方に初速20m/sで広がる.破片は空気抵抗を受けず, g=9.81 m/s2で一定の重力場において動くものと仮定する.破片が地面に到達するまでに動いた領域の体積(m3)を小数点以下4桁に丸めて答えよ."},"318":{"title":"2011個の9","body":"実数√2+√3について考える. \n√2+√3の偶数乗を計算すると以下が得られる. \n(√2+√3)2 = 9.898979485566356...\n(√2+√3)4 = 97.98979485566356...\n(√2+√3)6 = 969.998969071069263...\n(√2+√3)8 = 9601.99989585502907...\n(√2+√3)10 = 95049.999989479221...\n(√2+√3)12 = 940897.9999989371855...\n(√2+√3)14 = 9313929.99999989263...\n(√2+√3)16 = 92198401.99999998915...これらの小数部分の先頭から連続している9の数は非減少であるように見える. \n実際に(√2+√3)2nの小数部分はnを大きくすると1に近づいていくことが証明できる.p,qを正の整数でp<qとしたときに, (√p+√q)2nの小数部分が1に近づいていくような全ての実数√p+√qについて考える.C(p,q,n)を(√p+√q)2nの小数部分の先頭から連続する9の数とする.N(p,q)をC(p,q,n)≧2011となる最小のnとする.p+q≦2011についてΣN(p,q)を求めよ."},"319":{"title":"有界数列","body":"x1, x2,..., xn を以下のような長さnの数列とする.長さ2のこのような数列は {2,4}, {2,5}, {2,6}, {2,7}, {2,8} の5つのみである. \n長さ5のこのような数列は293ある. 以下がそのうちの3つの例である. \n{2,5,11,25,55}, {2,6,14,36,88}, {2,8,22,64,181}t(n)を長さnのこのような数列の数とする. \nt(10) = 86195, t(20) = 5227991891 である.t(1010) を modulo 109 で求めよ."},"320":{"title":"巨大整数で割り切れる階乗","body":"N(i) を, n! が (i!)1234567890 で割り切れるような最小の整数 n とする.S(u) を, 10≦i≦u に対し S(u)=ΣN(i) とする.S(1000)=614538266565663 である.S(1 000 000) mod 1018 を求めよ."},"321":{"title":"カウンタの交換","body":"2n+1 個の正方形からなる水平方向の列に, 中央の空白の正方形をへだてて, 片側に n 個の赤のカウンタがあり, もう一方の側に n 個の青のカウンタがある. 例えば, n=3 では次のとおりである.カウンタは, ある正方形から隣に移動させる（スライド）か, 隣のカウンタのさらにその隣が空いていれば, そのカウンタを飛び越える（ジャンプ）ことができる.カウンタの色の位置を完全に逆にするのに必要なスライド／ジャンプの最小の回数を M(n) で表すとする. つまり, 赤のカウンタを全て右に移し, 青のカウンタを全て左に移す.M(3)=15 であることが確かめられる. この数は三角数でもある.M(n) が三角数となる n で数列を作ると, 最初の五つの項は次のとおりになる：\n1, 3, 10, 22, 63.　これらの和は 99 である.この数列の最初の 40 個の項の和を求めよ."},"322":{"title":"10で割り切れる二項係数","body":"n≦i<m（i,m,n は正の整数）に対し, 10で割り切れる二項係数 iCn の個数を T(m,n) とする. \nT(109, 107-10) = 989697000 である. \nT(1018, 1012-10) を求めよ."},"323":{"title":"ランダムな整数のビット論理和演算","body":"y0, y1, y2,... を, ランダムな 32 ビット符号なし整数からなる数列とする. \n（つまり 0≦yi＜232 で全ての値が同様に確からしい. ）数列 xi に対し次の反復が与えられる:すべての i≧N に対し xi = 232-1（ビットがすべて1となるパターン）となるような添え字 N が最終的に存在することが分かる.N の期待値を求めよ. \n答を小数点以下 10 桁に四捨五入して求めよ."},"324":{"title":"塔の建造","body":"3x3xn の塔を 2x1x1 のブロックで埋める場合の数を f(n) とする. \nブロックは好きな方向に回転することができる；しかし, 塔自身を回転・反転等させたものは区別して数える.たとえば (q=100000007 として) :\nf(2) = 229,\nf(4) = 117805,\nf(10) mod q = 96149360,\nf(103) mod q = 24806056,\nf(106) mod q = 30808124.f(1010000) mod 100000007 を求めよ."},"325":{"title":"石取りゲーム その2","body":"2 つの石の山と 2 人のプレイヤーでゲームをプレイする. 各ターンでは, プレイヤーは大きいほうの山から石を取り除く. 取り除く石の個数は, 小さい方の山の石の個数の整数倍でなくてはならない.例えば, 順序つきの対 (6,14) で, 小さいほうの山に 6 個の石, 大きいほうの山に 14 個の石がある状態を表すとすると, 先手は大きいほうの山から 6 または 12 個の石を取り除くことができる.いずれかの山から石を全て取り除いたプレイヤーが勝利する.先手が必勝となる状態を勝利状態と呼ぶ. 例えば, (1,5), (2,6), (3,12) は, 先手は二つ目の山から即座に全ての石を取り除けるため, 勝利状態である.先手がどうしようとも後手が必勝となる状態を敗北状態と呼ぶ. 例えば, (2,3) や (3,4) は敗北状態である：どのような手をとっても後手が勝利状態となる.0＜xi＜yi≦N について, すべての敗北状態 (xi,yi) に対する (xi+yi) の和を S(N) と定義する. S(10) = 211, S(104) = 230312207313 となることが確かめられる.S(1016) mod 710 を求めよ."},"326":{"title":"モジュロ総和","body":"an を, によって再帰的に定義される数列とする.従って, an 最初の10個の要素は, 1,1,0,3,0,3,5,4,1,9 となる.下記を満たす対 (p,q) の個数を f(N,M) で表す.f(10,10)=4 であることが分かる. （(3,3), (5,5), (7,9), (9,10) の４個. ）また, f(104,103)=97158 である.f(1012,106) を求めよ."},"327":{"title":"運命の部屋","body":"3つの部屋が自動ドアをへだてて互いにつながっている.各ドアはセキュリティカードによって操作される. いったん部屋に入ると, ドアは自動で閉まり, セキュリティカードは二度と使えなくなる. スタート地点にあるカード発行機からカードを無制限に出すことができるが, （スタートの部屋を含む）各部屋には検知機があり, もし 3 枚を超える枚数のカードを持っていたり, 所有されていないカードが床にあることが検知されると, 全てのドアは永久的にロックされる. しかし, 各部屋には保管ボックスがあり, 後で使うために任意の枚数のセキュリティカードを安全に蓄えておくことができる.単純に部屋を一つずつ通り抜けようとすると, 部屋 3 に入った時点で 3 枚のカードを使い切ってしまい, 永久に部屋に閉じこめられてしまうことになるだろう.しかし, 保管ボックスを利用すると, 脱出は可能である. 例えば, 1 枚目のカードを用いて部屋 1 に入り, 保管ボックスにカードを 1 枚置き, 3 枚目のカードを使って部屋を出てスタートに戻る. そしてさらに 3 枚のカードをカード発行機から出せば, 1 枚を使って部屋 1 に入り, 先ほどボックスに置いたカードを回収する. これで再びカードは 3 枚になるので残りの 3 つのドアを通り抜けることができる. このやり方だと, 計 6 枚のセキュリティカードを使って 3 つの部屋を通り抜けることができる.最大 3 枚のカードを持てるとき, 計 123 枚のセキュリティカードを用いれば 6 つの部屋を通り抜けることが可能である.一度に持つことができるカードの最大の枚数を C とする.通り抜ける部屋の数を R とする.一度に持てるカードの枚数が最大 C 枚のときに R 個の部屋を通り抜けるのにカード発行機から出すべきカードの最小数を M(C,R) とする.たとえば, M(3,6)=123 と M(4,6)=23 である.\nまた, 3≦C≦4 に対し, ΣM(C,6)=146 である.3≦C≦10 に対し, ΣM(C,10)=10382 である.3≦C≦40 に対し, ΣM(C,30) を求めよ."},"328":{"title":"最低コスト探索","body":"整数の集合 {1, 2, ..., n} から選ばれた秘密の数を, 質問により当てようとしている. 数（質問）を尋ねる際は, 尋ねた数に等しいコストがかかり, 次の三つのいずれかの答えを得る：n の値が与えられたとき, 最適な戦略をとると, 起こり得る最悪の場合に対し, 総コスト（尋ねた質問の全ての和）が最小になる. 例えば,n=3 の場合, とり得る最良の方法はもちろん \"2\" と尋ねることである. 答えによりたちどころに秘密の数が分かるだろう（総コスト=2）.n=8 の場合, 「二分探索」型の戦略を用いようとするかもしれない：最初の質問は \"4\" となり, もし秘密の数が 4 より大きければ, 追加で１または２回の質問をする必要があるだろう. \n２番目の質問を \"6\" としよう. 秘密の数がなおも 6 より大きければ, 7 と 8 を見分けるため３番目の質問を必要とするだろう. \nこのようにして３番目の質問は \"7\" となり, この最悪の場合のシナリオに対する総コストは 4+6+7=17 となる.最初の質問として \"5\" を尋ねれば, n=8 に対する最悪の場合のコストを大幅に改善することができる. \nもし秘密の数は 5 より大きいと告げられた場合は, ２番目の質問を \"7\" とすれば, 秘密の数が何であるか確実に分かる（総コストは 5+7=12）. \nもし秘密の数は 5 より小さいと告げられた場合は, ２番目の質問を \"3\" とすれば, もし秘密の数が 3 より小さければ３番目の質問は \"1\" となり, 総コストは 5+3+1=9 となる. \n12＞9 なので, この戦略に対する最悪の場合のコストは 12 となる. これは先ほどの「二分探索」の戦略の結果より優れている；また他のいかなる戦略より優れているか, 同コストである. \n以上の通り, n=8 に対する最適な戦略を述べた.上述のように, n に対し最適な戦略をとることで得られる最悪の場合のコストを C(n) とする. \nC(1) = 0, C(2) = 1, C(3) = 2, C(8) = 12 である. \n同様に, C(100) = 400, C(n) = 17575 である.C(n) を求めよ."},"329":{"title":"素数カエル","body":"Susan は素数カエルを飼っている. \nこのカエルは, 1 から 500 までの番号がつけられた 500 個の正方形の上を跳びまわる. 左右のいずれかの正方形に等確率で跳ぶことができ, 範囲 [1;500] の外に跳ぶことはできない. \n（いずれかの端に着地したなら, 次は自動的に移動可能な正方形に跳ぶ. ）素数である数が書かれた正方形にいる場合, 次の正方形に跳ぶ直前に, カエルは 2/3 の確率で 'P' (PRIME) と鳴き, 1/3 の確率で 'N' (NOT PRIME) と鳴く. \n素数でない数が書かれた正方形にいる場合, 次の正方形に跳ぶ直前に, カエルは 1/3 の確率で 'P' と鳴き, 2/3 の確率で 'N' と鳴く. カエルの開始位置は全ての正方形に対し等確率でランダムであり, また最初の 15 回の鳴き声を聞いたとすると, PPPPNNPPPNPPNPN と聞こえる確率は何か.約分済みの分数 p/q の形で答えを入力せよ."},"330":{"title":"オイラー数","body":"全ての整数 n に対し, 実数の無限数列 a(n) は次のように定義される.例えば, \n\nここで e = 2.7182818... はオイラーの定数である.a(n) は整数 A(n) と B(n) に対しの形となることが示せる. \n例えば a(10) = である.A(109)+B(109) を求め, 答えを 77 777 777 で割った余りを入力せよ."},"331":{"title":"十字返し","body":"N×N の円盤が正方形のゲーム盤に置かれている. 円盤にはそれぞれ黒面と白面がある.各手番では, 円盤を１枚選び, 同じ横列と同じ縦列にある円盤をすべて裏返す：ゆえに 2×N-1 枚の円盤が裏返される. すべての円盤が白面となればゲームは終了する. \n次の例は 5×5 の盤でのゲームを示している.このゲームを終わらせる最小の手数は 3 であることが示せる.N×N の盤の左下の円盤を座標 (0,0) とする. \n右下の円盤は座標 (N-1,0) で左上の円盤は座標 (0,N-1) である.N×N 枚の盤での次の配置を CN とする：\nを満たす (x,y) の円盤は黒面である；さもなくば白面である. C5 は上に示されている.配置 CN から始めてゲームを終わらせる最小の手数を T(N) とする. 配置 CN が解けない場合は T(N) は 0 である. \nT(5)=3 であることが分かる. また T(10)=29, T(1 000)=395253 である. を求めよ."},"332":{"title":"球面三角形","body":"球面三角形とは, 球面上で, ３頂点の各対で交わる３本の大円弧によって作られる図形である.中心 (0,0,0), 半径 r の球を C(r) とする. \n整数の座標をもつ C(r) の面上の点の集合を Z(r) とする. \nZ(r) を頂点とする球面三角形の集合を T(r) とする. 縮退した球面三角形, すなわち同一の大円弧上の３点から作られる球面三角形は T(r) に含まれない. \nT(r) のうち最小の球面三角形の面積を A(r) とする.例えば A(14) は小数第７位で丸めると 3.294040 である.A(r) を求めよ. 答えを小数第７位で丸めて入力せよ."},"333":{"title":"特殊分割","body":"あらゆる正の整数は, 各項がいずれも 2ix3j（i,j≧0）と表されるように分割することができる.いずれの項も他の任意の項を割り切らないような分割のみを考えよう. \n例えば, 17 = 2 + 6 + 9 = (21x30 + 21x31 + 20x32) という分割は, 2 が 6 を割り切るので有効でない. 17 = 16 + 1 = (24x30 + 20x30) という分割も, 1 が 16 を割り切るので有効でない. 17 の唯一の有効な分割は 8 + 9 = (23x30 + 20x32) である.多くの整数は, １つより多くの有効な分割がある. そのような最初の数である 11 は次の２つの分割がある. \n11 = 2 + 9 = (21x30 + 20x32)\n11 = 8 + 3 = (23x30 + 20x31)n の有効な分割の数を P(n) としよう. 例えば, P(11)=2 である.P(17) のように, 有効な分割が１つのみとなる素数 q だけを考えよう.P(q)=1 となる素数 q<100 の和は 233 に等しい.P(q)=1 となる素数 q<1000000 の和を求めよ."},"334":{"title":"豆くずし","body":"プラトンの天国には, 直線状に無限の枚数のボウルが存在する. \n各ボウルは０個以上の有限個の豆が含まれている. \n子供がゲームをプレイする. このゲームでは, １種類の手だけが許される：どれかのボウルから豆を２個取り除き, 両隣の２個のボウルに１個ずつ入れる. \nどのボウルも１個ないしは０個の豆を含んでいれば, ゲームは終了する.例えば, それぞれ２個と３個の豆を含んだ隣り合う２枚のボウルを考えよう. 他のボウルはすべて空である. 次の８手でゲームは終了する：次の数列が与えられる：最後の数列の最初の２項は b1 = 289 と b2 = 145 である. \n２枚の隣り合うボウルに b1 と b2 個の豆がある状態から始めると, ゲームを終えるのに 3419100 手が必要である.1500 枚の隣り合うボウルにそれぞれ b1, b2,..., b1500 個の豆がある状態を考えよう. 他のボウルはすべて空である. ゲームを終えるのにかかる手の数を求めよ."},"335":{"title":"豆集め","body":"ピーターは退屈するといつも, 何枚かボウルを円状に置き, １個ずつ豆を入れる. 次に, ある１枚のボウルから豆をすべて取り出し, 時計回りにボウルに１個ずつ落とし入れていく. 最後の豆を落とし入れたボウルから始めて, 最初の状況が再び現れるまでこれを繰り返す. 例えば５枚のボウルでは次のように動かす：したがって５枚のボウルではピーターは最初の状況に戻るのに 15 手かかる.\nx 枚のボウルから始めて, 最初の状況に戻るのに必要な手の数を M(x) と表そう. ゆえにM(5) = 15 である. また M(100) = 10920 であることが確かめられる.M(2k+1) を求めよ. 答えを modulo 79 で入力せよ."},"336":{"title":"maximix 配置","body":"汽車を使って, 4 個の貨物を ABCD の順に輸送する. しかし, 汽車が荷物を集めに来た際, ときに貨物が正しい順でないことがある. \n並び替えのために貨物はすべて大きな回転台に移される. 特定の点で貨物が切り離されると, 汽車は自身につながったままの貨物ごと回転台から離れる. 残された貨物は 180 度回転する. 貨物はすべて再びつなげられ, 回転台を使う回数がなるだけ少なくなるようにこの手続きが繰り返される. \nADCB のような配置は簡単に解くことができる：貨物を A と D の間で切り離し, DCB を回転すると正しい順が得られる.\nしかし, 汽車の操縦者であるシンプル・サイモンは効率があまりよくなく, いつも最初に貨物 A を正しい位置に移し, 次に貨物 B を移し, 以下これを繰り返すというやり方でこの問題を解く.４個の貨物を使うと, Simon にとってあり得る最悪の配置（maximix 配置と呼ぶ）は DACB と DBAC である；それぞれ 5 回の回転を要する（最も効率的なアプローチを使うと 3 回の回転のみで解くことができるが）. DACB に対する彼の手順を以下に示す.6 個の貨物に対する maximix 配置は 24 個あることが確かめられる. そのうち辞書順で 10 番目の maximix 配置は DFAECB である.11 個の貨物に対し辞書順で 2011 番目の maximix 配置を求めよ."},"337":{"title":"トーティエント階段数列","body":"{a1, a2,..., an} を次のような長さ n の 整数列とする.an ≤ N となる数列の数を S(N) とする. \n例えば, S(10) = 4 である：{6}, {6, 8}, {6, 8, 9}, {6, 10}.\nS(100) = 482073668 と S(10 000) mod 108 = 73808307 であることが確かめられる.S(20 000 000) mod 108 を求めよ.1 φはオイラーのトーティエント関数を表す."},"338":{"title":"長方形方眼紙の切断","body":"整数の寸法 w × h をもつ長方形の方眼紙がある. 罫線の間隔は 1 である. \n罫線に沿って方眼紙を二つに切り離し, 二つを重なりなく並び替えると, 別の寸法の長方形を新たに作ることができる.例えば, 9 × 4 の寸法の方眼紙からは, 下のように切って並び替えると, 寸法 18 × 2, 12 × 3, 6 × 6 の長方形を作ることができる.同様に, 寸法 9 × 8 の方眼紙からは, 寸法 18 × 4, 12 × 6 の長方形を作ることができる.w と h の組に対し, 寸法 w × h の方眼紙から作ることができる異なる長方形の数を F(w,h) とする. \n例えば, F(2,1) = 0, F(2,2) = 1, F(9,4) = 3, F(9,8) = 2 である. \n始めの長方形と合同な長方形は F(w,h) に数えないことに注意しよう. \nまた寸法 w × h と寸法 h × w の長方形は別とみなさないことに注意しよう.整数 N に対し, 0 < h ≤ w ≤ N を満たす全ての w と h の組に対する F(w,h) の和を G(N) とする. \nG(10) = 55, G(103) = 971745, G(105) = 9992617687 であることが確かめられる.G(1012) を求めよ. 答えを 108 で割った値を入力せよ."},"339":{"title":"エヴラウクの息子ペレドゥル","body":"やがてペレドゥルは川の流れる谷にやってきた. そのへりには木々が生い茂り, 川の両岸には平らな牧草地があった. \nそしてこちらの岸には白い羊の群れ, 向こう岸には黒い羊の群れがいた. \n白い羊の一匹がメェと鳴くと, 黒い羊の一頭が川を渡って, 白い羊となった. \n黒い羊の一匹がメェと鳴くと, 白い羊の一頭が川を渡って, 黒い羊となった. \n(「マビノギオン」 エヴラウグの息子ペレドゥルの物語より)初期状態として, 黒い羊 n 頭の群れと白い羊 n 頭の群れが存在する. \n羊全体の中からランダムで一頭が相手の群れに呼びかけ, 呼びかけられた群れの羊が一頭だけ色を変えて呼ばれた群れに合流する. \nこの合流のあと, ペレドゥルは任意の数の白羊を除去してよい. 彼の目標は最後に残った黒羊の数を最大化することである.うまく最大化できる戦略をとったときの, 最後の黒羊の期待値をE(n)とする.E(5) = 6.871346 であることがわかっている (小数点下6桁になるよう四捨五入してある)E(10000)を求めよ (同様に小数点下6桁になるよう四捨五入すること)"},"340":{"title":"クレイジー関数","body":"固定小数点整数 a, b, c に対し, クレイジー関数 F(n) を次のように定義する：\nF(n) = n - c （n > b のとき） \nF(n) = F(a + F(a + F(a + F(a + n)))) （n ≤ b のとき）また, S(a, b, c) =  と定義する.例えば, a = 50, b = 2000, c = 40 なら, F(0) = 3240 および F(2000) = 2040 である. \nまた, S(50, 2000, 40) = 5204240 である.S(217, 721, 127) の下 9 桁を求めよ."},"341":{"title":"Golomb の自己記述的数列","body":"Golomb の自己記述的数列 {G(n)} は, n が数列にちょうど G(n) 回現れるような, 自然数の非減少の数列である. 最初のいくつかの n に対する G(n) の値は次の通りである.G(103) = 86, G(106) = 6137 である.\nまた, 1 ≤ n < 103 に対し, ΣG(n3) = 153506976 である.1 ≤ n < 106 に対し, ΣG(n3) を求めよ."},"342":{"title":"平方数のトーティエントが立方数となる数","body":"50 という数を考える. \n502 = 2500 = 22×54 のため, φ(2500) = 2×4×53 = 8×53 = 23×53  である. 1\nよって 2500 は平方数, かつ φ(2500) は立方数である.φ(n2) が立方数となる 1＜n＜1010 の範囲の n の和を求めよ.1 φはオイラーのトーティエント関数を表す."},"343":{"title":"分数数列","body":"ある正の整数 k において, 分数 xi/yi による有限数列 ai は次のように定義される :a1 = 1 / k\nai = (xi-1+1)/(yi-1-1)　[ ただし, i>1 のとき, 約分可能な場合は約分する ]ai がある整数 n になったとき, 数列はそこで終了とする. (つまり, yi=1になった時)\nここで関数 f(k) = n と定義する. \n例えば, k = 20 のとき,1/20 → 2/19 → 3/18 = 1/6 → 2/5 → 3/4 → 4/3 → 5/2 → 6/1 = 6したがって f(20) = 6 となる.同様に, f(1) = 1, f(2) = 2, f(3) = 1, そして 1 ≤ k ≤ 100 のとき, Σf(k3) = 118937 となる.1 ≤ k ≤ 2×106 のときの Σf(k3) を求めよ."},"344":{"title":"銀貨ゲーム","body":"N.G. de Bruijn の銀貨ゲームの一変種は次のように説明される :四角いマスが帯状に並んだ盤面があり, そこにある個数の硬貨が最大一マスに一個で置かれている.\n銀貨と呼ばれる硬貨がひとつだけ任意の位置にあり, 二人のプレイヤーは交互に硬貨の移動を繰り返す. プレイヤーはそれぞれの局面で基本移動か特殊移動のどちらかを行わなければならない.基本移動はひとつの硬貨を選択しマスひとつ以上左に移動させる. 硬貨は盤面を出たり, 他の硬貨の上に乗せたり飛び越えたりしてはならない.その一方, プレイヤーは基本移動ではなく, 一番左にある硬貨を手に入れるという特殊移動を選択することができる. もし基本移動が不可能な場合, プレイヤーは強制的に一番左の硬貨を手に入れなければならない.銀貨を手に入れたプレイヤーが勝者となる.後手がどのようにプレイしても, 先手が勝利できる硬貨の配列を「勝利配置」と呼ぶ.仮に n 個のマスの盤面, c 個の普通の硬貨, 1個の銀貨の場合の勝利配置の数を W(n,c) とする.すでに W(10,2) = 324, W(100,10) = 1514704946113500 が求められている.半素数 1 000 036 000 099 (= 1 000 003 · 1 000 033 ) を法とする W(1 000 000, 100) の値を求めよ."},"345":{"title":"行列計","body":"行と列それぞれで1つのみの要素を選択した場合の要素の合計が最も大きくなるものを, その行列の「行列計( Matrix Sum )」と定義する. 例えば, 下記の行列での行列計は3315になる. ( = 863 + 383 + 343 + 959 + 767) :下記行列の行列計を求めよ."},"346":{"title":"強いレピュニット","body":"7という数字は特別な数字である, なぜなら7は2進数では111と表せ, また6進数では11と表せる.\n(すなわち 710 = 116 = 1112).\n別の言い方をすると, 7は少なくとも二種類の1より大きい底の記数法でレピュニット(全ての桁が1である自然数)であるという.ここで上記の特徴を有する正の整数を「強いレピュニット」と呼ぶことにする. 50未満には8つの強いレピュニットが存在する. :{1,7,13,15,21,31,40,43}.\nさらに, 1000未満の強いレピュニットの和は15864になる.1012未満の強いレピュニットの和を求めよ."},"347":{"title":"二つの素数で割り切れる最大の整数","body":"素数 2 と 3 の両方のみで割り切れる最大の整数 ≤ 100 は 96 である. 96 = 32*3 = 25*3 である. \n２つの異なる素数 p と q に対し, p と q の両方のみで割り切れる最大の正の整数 ≤N を M(p,q,N) とする. そのような正の整数が存在しなければ M(p,q,N) = 0 である.例えば, M(2,3,100) = 96 である. \nM(3,5,100) = 75 であって 90 ではない. 90 は 2 と 3 と 5 で割り切れるためである. \nまた M(2,73,100) = 0 である. 2 と 73 の両方で割り切れる正の整数 ≤ 100 は存在しないためである.全ての M(p,q,N) の和を S(N) とする. S(100) = 2262 である.S(10 000 000) を求めよ."},"348":{"title":"平方数と立方数の和","body":"多くの数は平方数と立方数の和として表せる. １通り以上のやり方で表せるものもある.いずれも１より大きな平方数と立方数の和として, ちょうど４通りのやり方で表せる回文数を考えよう. \n例えば, 5229225 は回文数であり, ちょうど４通りの異なるやり方で表せる：このような回文数を小さいものから順に５つ求め, その和を入力せよ."},"349":{"title":"ラングトンの蟻","body":"黒白いずれかで色づけされた正方形の規則的な格子上をアリが動く. \nアリは四方（上下左右）のいずれかを向いており, 次のルールに則って正方形から隣接する正方形へ動く：格子全体が白の状態から始めるとき, アリが 1018 回動いた後の黒い正方形の数は何個あるか."},"350":{"title":"最小の最大と最大の最小による制約","body":"「サイズ n のリスト」とは, n 個の自然数を持つ数列のことである. \n例えば (2,4,6), (2,6,4), (10,6,15,6), (11).リストの最大公約数, gcdとは, リストのすべての数を割り切る最大の自然数を言う. \n例 : gcd(2,6,4) = 2, gcd(10,6,15,6) = 1, gcd(11) = 11.リストの最小公倍数, lcmとは, リストそれぞれの数で割り切ることができる最小の自然数を言う. \n例 : lcm(2,6,4) = 12, lcm(10,6,15,6) = 30, lcm(11) = 11.gcd ≥ G, lcm ≤ L となるサイズ N のリストの個数を f(G, L, N) としよう. \n以下に例を示す:f(10, 100, 1) = 91.\nf(10, 100, 2) = 327.\nf(10, 100, 3) = 1135.\nf(10, 100, 1000) mod 1014 = 3286053.f(106, 1012, 1018) mod 1014 を求めよ."},"351":{"title":"六角形果樹園","body":"次数 n の六角形果樹園(hexagonal orchard)は, 辺の長さ n の正六角形状に配置された三角形格子と定義される. 次数5の六角形果樹園の例を以下に示す :緑色で強調された部分は, 中心から見たときにより近くの点によって隠されてしまう点を示している. 上記の次数5の六角形果樹園の場合, 中心から見て30個の点が隠されることがわかるだろう.次数 n の六角形果樹園において中心から隠される点の個数を H(n) としよう. 以下に例を示す.H(5) = 30. H(10) = 138. H(1 000) = 1177848.H(100 000 000)を求めよ."},"352":{"title":"血液検査","body":"25頭の羊それぞれに, 羊の個体数のうち2%に感染することで知られる希少なウイルスの検査を行うことになった. 血液サンプルを使用する正確で超高感度なPCR(ポリメラーゼ連鎖反応法)検査があり, 明確に陰性, 陽性を判定してくれる. しかし, この検査は非常に時間と費用がかかる.高コストを理由に, 担当の獣医は25頭それぞれを検査するのではなく, 代わりに以下の手続きで行うことを勧めた :羊を5頭ずつの5グループに分ける. それぞれのグループ5頭分の血液サンプルを混合し, 検査を1回行う. それから,感染している確率は0.02なので, グループそれぞれの(混合サンプルにおいての)最初の検査は以下のようになる :このように, それぞれのグループに対しての検査回数の期待数は 1 + 0.0960792032 × 5 = 1.480396016 となる. 結果, 5グループすべてでは平均 1.480396016 × 5 = 7.40198008 回の検査回数でふるい分けすることができ, 70%以上のコスト節約になる！以上のように説明してきた手順はとても効果的に見えるが, まだ改善の余地がある(検査が十分高感度で, サンプルの混合による悪影響がないと仮定すれば). 例を挙げると, :可能性が非常に多岐にわたるのを簡単にするため, 最もコスト効率の高い検査計画を考えるうえで一つの制約を課すこととする：混合したサンプルから始めたとき, このサンプルに関わる羊が完全にふるい分けされる（つまり全ての羊についてウィルスに感染しているかいないかが判明する）まで, 他の羊の調査を始めてはならない.今の例では, 最もコスト効率の高い検査計画(これを「最適戦略」と呼ぼう)は平均でたったの 4.155452 回の検査で済む！最適戦略を使って, ウイルスに確率 p で感染した個体が s 頭いる羊の群れをふるい分けするのに必要な平均検査回数とT(s,p)としよう.\n小数点以下7桁の位で四捨五入すると T(25, 0.02) = 4.155452, T(25, 0.10) = 12.702124 となる.p=0.01, 0.02, 0.03, ... 0.50 のときの ΣT(10000,p) を求めよ. \n小数点以下7桁の位で四捨五入して回答すること."},"353":{"title":"危険な月","body":"月を中心 (0,0,0), 半径 r の球 C(r) として表そう.整数の座標を持つ C(r) の月面上には, 駅が存在している. 座標 (0,0,r) にある駅を北極駅, 座標 (0,0,-r) にある駅を南極駅と呼ぼう.すべての駅は, 他の駅と大きな弧を描いて最短距離となる道路で結ばれている. 2駅間の旅行には危険をともなう. 2駅間の距離を d で表すと, 旅行のリスク測度は (d/πr)2となる (これを道程リスクと呼ぼう). 2駅以上を含む旅行の場合, 利用する道程のリスクの合計がその旅行のリスクとなる.直接北極駅から南極駅へ旅行すると距離は πr となりリスクは1になる. (0,r,0) にある駅を経由して北極駅から南極駅へ旅行すると距離は同じだが, リスクは小さくなる. : (½πr/(πr))2+(½πr/(πr))2=0.5.月 C(r) 上にある北極駅から南極駅への旅行にともなう最小リスクを M(r) としよう.小数点以下11桁で四捨五入すると M(7)=0.1784943998 となる.1≤n≤15 のときの ΣM(2n-1) を求めよ.小数点以下11桁で四捨五入し a.bcdefghijk の形式で回答せよ."},"354":{"title":"蜂の巣の間の距離","body":"すべての部屋が辺の長さ1の完全な正六角形からなるミツバチの蜂の巣を考えよう.\nある特定の部屋に女王蜂が居る.正の実数 L に対し, 女王蜂の部屋から L の距離がある部屋の個数を B(L) としよう(すべての距離は部屋の中心から部屋の中心までを計測したものとする). ここで蜂の巣はどんな距離でも対応できるほど大きいと仮定する.例をあげよう. B(√3) = 6, B(√21) = 12, そして B(111 111 111) = 54.B(L)=450 を満たす距離 L ≤ 5・1011 の個数を求めよ."},"355":{"title":"最大の互いに素な部分集合","body":"集合 {1,2, ..., n} から, 「任意の二つの要素の組がすべて互いに素となる(mutually co-prime)」集合を, 要素の合計が最大になるように選んだとき, その合計を Co(n) と定義する.例えば, Co(10) の値は 30 となり, 最大となる部分集合は {1, 5, 7, 8, 9} となる.Co(30) = 193, ならびに Co(100) = 1356 がすでに与えられている.Co(200000) を求めよ."},"356":{"title":"三次多項式の最大根","body":"多項式 g(x) = x3 - 2n･x2 + n の最大の実根を an とする.例として, a2 = 3.86619826... の最後の8桁を求めよ.注記 :  は床関数(実数aに対して, a以下の最大の整数)を表す."},"357":{"title":"素数生成整数","body":"30の約数について考えよう : 1,2,3,5,6,10,15,30.\n30の約数 d は, そのすべてにおいて d+30/d の値が素数になる.n のすべての約数 d について d+n/d が素数になるような, 100 000 000 以下の正の整数 n の合計を求めよ."},"358":{"title":"巡回数","body":"n 桁の巡回数はとても興味深い特性を持っている :\n1,2,3,4, ... n で乗算すると, すべての積が同じ桁数になり, 同じ順番で現れ, しかも輪状に回転している！最小の巡回数は6桁の数 142857 である :142857 × 1 = 142857\n142857 × 2 = 285714\n142857 × 3 = 428571\n142857 × 4 = 571428\n142857 × 5 = 714285\n142857 × 6 = 857142次の巡回数は16桁の数 0588235294117647 である :0588235294117647 × 1 = 0588235294117647\n0588235294117647 × 2 = 1176470588235294\n0588235294117647 × 3 = 1764705882352941\n...\n0588235294117647 × 16 = 9411764705882352巡回数について留意すべきこととして, 先行ゼロ(数の先頭につくゼロ)が重要である.最左からの11桁が 00000000137, 最右からの5桁が 56789 となる巡回数が唯一存在する. (すなわち, 内部の桁が明かされていない 00000000137...56789 という形をもつ)\nこの数のすべての桁の合計を求めよ."},"359":{"title":"ヒルベルトの新しいホテル","body":"ヒルベルトの最新の無限ホテルに, 無限数の客(1,2,3,...と番号付けされている)が客室を取ろうと列をなしている. \nそのホテルは無限数のフロア(1,2,3,...と番号付けされている)を有し, またそれぞれのフロアは無限の客室(1,2,3,...と番号付けされている)を持つ.当初, ホテルはすべて空室である. ヒルベルトは客 n への客室の割り当て方を次のように発表する :n 番目の客は, 以下の条件のどちらかをみたす一番最小の数のフロアについて, 最初の(訳注:その時点で最小の数となる)空いている客室を取る.客 1 は, フロア 1 が空きなので, フロア 1 の客室 1 を取る. \n客 2 は, 1 + 2 = 3 が完全平方数でないので, フロア 1 の客室 2 は取れない. \n代わりに客 2 は, フロア2が空きなので, フロア 2 の客室 1 を取る. \n客 3 は, 1 + 3 = 4 が完全平方数なので, フロア 1 の客室 2 を取る.最終的には, 列にいたすべての客がホテルの客室を取ることができる.客 n がフロア f の客室 r に泊まっている場合は n, 誰もその客室に泊まっていないときは 0 を返す関数 P(f,r) を定義しよう. 以下に例を示す :\nP(1, 1) = 1\nP(1, 2) = 3\nP(2, 1) = 2\nP(10, 20) = 440\nP(25, 75) = 4863\nP(99, 100) = 19454f × r = 71328803586048 となるようなすべての正の f と r に対し, すべての P(f, r) の合計を求め, その最後の8桁を答えよ."},"360":{"title":"ものすごい球","body":"三次元空間内に (x1,y1,z1) , (x2,y2,z2) の二点が与えられているとき, この二点間のマンハッタン距離は |x1-x2|+|y1-y2|+|z1-z2| と定義される.C(r) を原点 O(0,0,0) を中心とする半径 r の球とする. \nI(r) を球 C(r) の表面上の整数の座標を持つすべての点の集合とする. \nS(r) を原点 O から I(r) のすべての要素へのマンハッタン距離の総和とする.例として, S(45)=34518.S(1010) を求めよ."},"361":{"title":"スー・モース数列の部分数列","body":"スー・モース数列 (Thue-Morse sequence) {Tn} は, 以下の条件を満たす二値数列である.{Tn} の最初のいくつかの項は以下のようになる. \n01101001100101101001011001101001....{Tn} の部分数列として現れる各要素を二進表記の整数とし, それを(小さい方から)並べた数列を {An} を定義する. \nたとえば, 十進数の 18 は二進表記で 10010 と表される. これは {tn} に現れる ( T8 から T12 ). したがって, 18 は {An} の要素となる. \n十進数の 14 は二進表記で 1110 と表される. これは {tn} に現れない. したがって, 14 は {An} の要素ではない.数列 {An} の最初のいくつかの項は以下のようになる.同様に, A100 = 3251, A1000 = 80852364498 となる.の最後の9桁を求めよ."},"362":{"title":"無平方因数","body":"54という数字について考えよう. \n54 は 1 より大きい因数を1つ以上使って7つの異なる方法で因数分解することができる. \n54, 2×27, 3×18, 6×9, 3×3×6, 2×3×9 そして 2×3×3×3.\n無平方(squarefree)の因数のみを使う場合は, 2つが残る: 3×3×6 と 2×3×3×3.1 よりも大きい無平方の1つ以上の因数で n を因数分解する方法の個数を Fsf(n) と呼ぼう, つまり Fsf(54)=2 となる.k=2 から n までの ΣFsf(k) を S(n) としよう.S(100)=193 である.S(10 000 000 000) を求めよ."},"363":{"title":"ベジェ曲線","body":"三次ベジェ曲線は四点 P0, P1, P2, P3 により定義される.曲線は以下のように作られる :\n線分 P0P1, P1P2, P2P3 上の点 Q0, Q1, Q2 を, ([0,1]の範囲内の t に対し) P0Q0/P0P1=P1Q1/P1P2=P2Q2/P2P3=t となるように描く. \n線分 Q0Q1, Q1Q2 上の点 R0, R1 を, 同じ値 t を使って Q0R0/Q0Q1=Q1R1/Q1Q2=t となるように描く. \n線分R0R1 上の点 B を同じ値 t を使って R0B/R0R1=t となるように描く. \n点 P0, P1, P2, P3 によるベジェ曲線は, 線分 P0P1 上に取りうるすべての Q0 による, 点 B の軌跡と定義される. ( 全ての点に対し t の値は同じであることに注意. )右のアプレットで ( ※ 訳注 : こちらには Java アプレットを埋め込められないため, 公式にてご確認ください ) 点 P0, P1, P2, P3 をドラッグし, ベジェ曲線 (緑の曲線) がこれらの点によりどのように定義されるかを見ることができる. 線分 P0P1 の間にある点 Q0も同様にドラッグできる.こうして作られたベジェ曲線は, P0 における線分 P0P1 と, P3 における線分 P2P3 とを接線に持つことがわかるだろう.P0=(1,0), P1=(1,v), P2=(v,1), P3=(0,1) の三次ベジェ曲線は四分の一の円弧に近くなる. \nここで0より大きい値 v は線 OP0, OP3と曲線によって囲まれる面積が π/4 ( 四分の一の円の面積 ) と等しくなるように選ばれる.四分の一の円弧の長さに対しこの曲線の長さとの違いは何パーセントになるだろうか?\nつまり, L を曲線の長さとしたときの 100*(L-π/2)/(π/2) を計算せよ. \n小数点以下11桁の位で四捨五入して答えよ."},"364":{"title":"気楽な距離","body":"N 個の一列に並んだ座席がある. N 人の人たちが以下のルールに従って次々に座席を埋めていく.このルールで N 人の人たちが N 個の座席を取るときの可能性の数を T(N) としよう. \n以下の図により T(4)=8 であることがわかる.T(10) = 61632, そして T(1 000) mod 100 000 007 = 47255094 となることが確かめられる.T(1 000 000) mod 100 000 007 を求めよ."},"365":{"title":"巨大な二項係数","body":"二項係数 C(1018,109) は90億 (9×109) 以上の桁を持つ数である.二項係数 C(n,k) の m を法とする剰余を表す関数を M(n,k,m) としよう.1000<p<q<r<5000, かつ p,q,r が素数のときの ΣM(1018,109,p*q*r) を計算せよ."},"366":{"title":"石取りゲーム その3","body":"2人の対局者, アントンとベルンハルトが次のようなゲームをしている. \nn 個の石が1つの山に積まれている. \n初回, 先手は取りうる正の整数個の石を取る, ただし山全体を取ることは出来ない. \nそれから, 対局者はお互いに, 相手が前回取った数の最大2倍まで石を取れる. \n最後の石を取ったものが勝者となる. n=5 の場合をみてみよう. \nもし先手が2個以上の石を取ったときは後手が残りの石を取ることができる. \nもし先手が1個石を取れば, 残りは4個となり, 後手も1個取ると, 残りは3個になる. \nここで先手は残りの3個の石をすべて取ることはできない, なぜなら 2x1=2, 最大2個の石しか取れないからである. 先手は1個石を取ると残りは2個になる. 後手は残りの2個の石を取ることができ, 勝者となる. \nつまり石の山が5個のときは後手必勝となる. \n先手が勝勢の局面 ( ※ 訳注 : 最善の手を打てば相手がどんな手を打っても勝つことができる局面 ) となる石の取りかたは複数存在することがある. \n例えば n=17 の場合, 先手は最初に1個, または4個の石を取ると勝つことができる. 先手が最初のターンで勝勢の局面に持ち込むことができる石の取り方のうち最大の石の数を M(n) と定義し, 後手必勝のときは M(n)=0 としよう.n≤100 のときの ΣM(n) は 728 となる.n≤1018 のときの ΣM(n) を求め, 108を法として答えよ."},"367":{"title":"ボゾソート","body":"ボゴソート (bogo sort) より若干効率的な別種のソート, ボゾソート (bozo sort) は, 入力数列がソートされているかをチェックし, ソートされていなければランダムに二つの要素を入れ替える. この操作を数列がソートされるまで繰り返す.入力数列を最初の4つの自然数からなるすべての順列として, 入れ替えの回数の期待値を計算すると, 4! 個の入力数列に対する入れ替え回数の平均は 24.75 となる. \nすでに数列がソートされている場合は入れ替え回数を0回とみなす.この問題では, ボゾソートの変種について考える. \n数列がソートされていなければランダムに3個の要素を選び, その3個の要素をランダムにシャッフルして入れ替える. \nこれら3個の要素の置換は 3!=6, つまり6通りあり, 等しく起こりうるとする. \nすでに数列がソートされている場合はシャッフル回数を0回とみなすことにしよう. \n入力数列を最初の4つの自然数からなるすべての順列として, シャッフルの回数の期待値を計算すると, 4! 個の入力数列に対するシャッフル回数の平均は 27.5 となる. \nここで入力数列を最初の11個の自然数からなるすべての順列として考えよう. \n11! 個の入力数列に対するシャッフル回数の平均, すなわちこのソートアルゴリズムが行われた場合のシャッフル回数の期待値はいくらになるだろう?回答は整数になるよう四捨五入して答えよ."},"368":{"title":"ケンプナー様級数","body":"調和級数 1 + 1/2 + 1/3 + 1/4 + ... は発散することで知られている.もし分母に9を含む項すべてを調和級数から削除すると, 驚くべきことにこの級数はおおよそ 22.9206766193 に収束する. \nこのような修正調和級数をケンプナー級数 (Kempner series) と呼ぶ.調和級数から分母に3つ以上の連続する桁がある項を削除する事によってできる別の修正調和級数について考えよう. 調和級数の最初の1200項から削除されるのは20項のみであることが確かめられる. \nその20個の削除される項とは, 以下の通りである.1/111 , 1/222 , 1/333 , 1/444 , 1/555 , 1/666 , 1/777 , 1/888 , 1/999 , 1/1000 , 1/1110 ,\n1/1111 , 1/1112 , 1/1113 , 1/1114 , 1/1115 , 1/1116 , 1/1117 , 1/1118 , 1/1119この級数は同様に収束する.この級数の収束値を求めよ. \n小数点以下11桁の位で四捨五入して答えよ."},"369":{"title":"バドージ","body":"標準的な52枚のトランプから, ペアや同じスートの2枚組を含まない4枚のカードを選んだ時, その4枚のカードの組をバドージ (Badugi) という.4枚のカードの部分集合がバドージとなる n 枚のカードの選びかたの数を f(n) としよう. 例えば, 標準的な52枚のトランプから5枚のカードを取る選び方は 2598960 通りあり, そのうち4枚のカードの部分集合がバドージとなるものは 514800 通りあるので, f(5) = 514800 となる.4 ≤ n ≤ 13 のときの ∑f(n) を求めよ."},"370":{"title":"幾何三角形","body":"整数の辺 a ≤ b ≤ c が幾何数列 (等比数列), すなわち b2 = a・c となる三角形を幾何三角形 (geometric triangle) と定義しよう.例えば, a = 144, b = 156, c = 169 の辺を持つとき, これは幾何三角形となる.周囲の長さが 106 以下となる幾何三角形は 861805 個ある.周囲の長さが 2.5・1013 以下となる幾何三角形は何個あるか."},"371":{"title":"ナンバープレート","body":"オレゴン州の(自動車の)ナンバープレートは, 3つの文字のあとに(各桁が[0..9]の間をとりうる)3桁の数字が続くことで構成されている. \nセスは車で通勤中に以下のようなゲームをする:\n旅程中に見た二つのナンバープレートの数字の合計が1000になったときに勝ちとする.例えば MIC-012 と HAN-988 は勝ちとなり, RYU-500 と SET-500 も同様. (同じ旅程中に見る限りは)勝つために見る必要のあるナンバープレートの数の期待値を求めよ. \n小数点以下9桁の位で四捨五入して答えよ.注記 : 各ナンバープレートを見るということは, 任意の三桁の数字を見るということと同様であると仮定する."},"372":{"title":"光線束","body":"M<x≤N, M<y≤N, さらに  が奇数となる, これらの条件を満たす格子点 (x,y) の個数を R(M, N) と表すとしよう.R(0, 100) = 3019, R(100, 10000) = 29750422 となることが確かめられる. \nR(2·106, 109) を求めよ.注記 :  は床関数(実数xに対して, x以下の最大の整数)を表す."},"373":{"title":"外接円","body":"すべての三角形は3点の頂点を通る外接円を持っている. 整数の辺を持ち, さらに外接円の半径も整数となる三角形について考えよう.半径が n 以下の外接円を持つ上記のような三角形すべてについて, その外接円の半径を合計したものを S(n) としよう.S(100)=4950, そして S(1200)=1653605 となる.S(107)を求めよ."},"374":{"title":"整数分割の最大の積","body":"数 n の整数分割 (interger partition) とは, 正の整数の和が n となるような書き表し方のことである.加える数の順序が違うだけの分割は同じものとみなす. n の成分別分割 (partition of n into distinct parts) とはすべての成分がたかだか1回だけ現れる n の分割を表す.5の成分別分割は以下のようになる:\n5, 4+1, 3+2.n の成分別分割のうちその成分の積が最大となる時, その積を f(n), その分割の要素の数を m(n) としよう.すなわち f(5)=6 そして m(5)=2 となる.n=10 の時, 最大の積となる分割は 10=2+3+5 となり, f(10)=30, m(10)=3 となる. \nまた, それらを掛けた積は, f(10)·m(10) = 30·3 = 90 となる.1 ≤ n ≤ 100 のときの Σf(n)·m(n) = 1683550844462 であることが確かめられる.1 ≤ n ≤ 1014 のときの  Σf(n)·m(n) を求めよ. \n5000万番目の素数, 982451653を法として答えよ."},"375":{"title":"最小限の部分列","body":"以下の擬似乱数生成器により生成される整数の数列を Sn とする. :i ≤ j のときの数列の数 Si, Si+1, ... , Sj のうち一番小さいものを A(i, j) とする.1 ≤ i ≤ j ≤ N のとき, M(N) = ΣA(i, j) とする.M(10) = 432256955, そして M(10 000) = 3264567774119 であることが確かめられる.M(2 000 000 000) を求めよ."},"376":{"title":"サイコロの非推移的集合","body":"以下のような規格外の目を持つサイコロについて考えよう.サイコロ A: 1 4 4 4 4 4\nサイコロ B: 2 2 2 5 5 5\nサイコロ C: 3 3 3 3 3 62人の対局者が順番にサイコロを選びそれを振ってゲームをする. 大きい目を出した対局者が勝者となる.もし先手がサイコロ A を選び, 後手がサイコロ B を選んだ場合, 後手が勝つ確率は以下のようになる. \nP(後手が勝つ) = 7/12 > 1/2もし先手がサイコロ B を選び, 後手がサイコロ C を選んだ場合, 後手が勝つ確率は以下のようになる. \nP(後手が勝つ) = 7/12 > 1/2もし先手がサイコロ C を選び, 後手がサイコロ A を選んだ場合, 後手が勝つ確率は以下のようになる. \nP(後手が勝つ) = 25/36 > 1/2つまり先手がどのサイコロを選んでも, 後手は別のサイコロを選んで50%より大きい勝率を得られる. \nこの性質を持つサイコロの集合のことをサイコロの非推移的集合と呼ぼう.サイコロの非推移的集合がどのぐらいあるのか調査したい. 以下の状況を仮定しよう :N = 7 のとき, そのような集合は 9780 組ある. \nN = 30 のときはいくつあるだろうか?"},"377":{"title":"桁の和, 13の場合","body":"各桁にゼロを持たず, 桁の数の合計が 5 になる正の整数は16個ある. すなわち, :\n5, 14, 23, 32, 41, 113, 122, 131, 212, 221, 311, 1112, 1121, 1211, 2111, 11111.\nこれらの和は 17891 となる.各桁にゼロを持たず, 桁の数の合計が n になる正の整数の和を f(n) としよう.を求めよ.回答を最後の9桁として答えよ."},"378":{"title":"三角数三数","body":"n 番目の三角数を T(n) としよう, すなわち T(n) = n(n+1)/2.T(n) の約数の数を dT(n) としよう. \n例えば, T(7) = 28, dT(7) = 6 となる.1 ≤ i < j < k ≤ n, そして dT(i) > dT(j) > dT(k) が成り立つ三数 (triples) (i, j, k) の個数を Tr(n) としよう. \nTr(20) = 14, Tr(100) = 5772, Tr(1000) = 11174776 となる.Tr(60 000 000) を求めよ. \n回答として最後の18桁を答えよ."},"379":{"title":"最小公倍数計数","body":"x ≤ y かつ, x と y の最小公倍数が n と等しくなる正の整数 x と y の組 (x,y) の個数を f(n) と表すとしよう.f の総和関数を g としよう. すなわち, 1 ≤ i ≤ n に対し, g(n) = Σf(i)g(106) = 37429395 がすでに与えられている.g(1012) を求めよ."},"380":{"title":"迷図と命ず","body":"m×n の迷路とは, 左上の四角から反対の右下の四角へただ一つの通り道を持つ, 格子の間を壁で仕切られた m×n の長方形型格子である. \n9×12 の迷路と 15×20 の迷路の例を以下に示す.異なる m×n の迷路の数を C(m,n) で表すとしよう. 回転や鏡映をさせて作られる迷路は別の迷路であると考える.C(1,1) = 1, C(2,2) = 4, C(3,4) = 2415, and C(9,12) = 2.5720e46 (5桁の有効数字として四捨五入した指数表記) であることが確認できる. \nC(100,500) を求め, 5桁の有効数字として四捨五入した指数表記で表せ.回答の際は, 仮数部と指数部を分けるのに小文字の e を使うこと. 例えば, 答えが 1234567891011 のときは, 回答のフォーマットは 1.2346e12 となる."},"381":{"title":"(素数-k)階乗","body":"素数 p について, 1 ≤ k ≤ 5 の k に対し S(p) = (Σ(p-k)!) mod(p) としよう.例えば, p=7 の場合, \n(7-1)! + (7-2)! + (7-3)! + (7-4)! + (7-5)! = 6! + 5! + 4! + 3! + 2! = 720+120+24+6+2 = 872\n872 mod(7) = 4 となるので, S(7) = 4.5 ≤ p < 100 のとき, ΣS(p) = 480 となる.5 ≤ p < 108 のときの ΣS(p) を求めよ."},"382":{"title":"ポリゴン生成","body":"ポリゴンとは, 閉じた閉路になるよう組み合わされた直線分から成る平面図形のことである. ポリゴンは少なくとも3つの辺から成り, それ自身と交わることはない.正の整数の集合 S が以下の条件を満たすとき ポリゴン P を作る と呼ぼう :例えば :\n集合 {3, 4, 5} は 3, 4, 5, の長さの辺を持つポリゴン(三角形)を作る.\n集合 {6, 9, 11, 24} は 6, 9, 11, 24 の長さの辺を持つポリゴン(四角形)を作る.\n集合 {1, 2, 3} そして {2, 3, 4, 9} からはどんなポリゴンも作られない.以下のように定義される数列 s を考えよう :集合 {s1, s2, ..., sn} を Un としよう. 例えば, U10 = {1, 2, 3, 4, 6, 9, 13, 19, 28, 41}.\n少なくとも一つのポリゴンを作ることができる Un の部分集合の個数を f(n) としよう.\n例えば, f(5) = 7, f(10) = 501, そして f(25) = 18635853 となる.f(1018) の最後の9桁を求めよ."},"383":{"title":"階乗の整除性比較","body":"n を 5x で割り切ることができる最大の整数 x を f5(n) で表すとしよう.\n例えば, f5(625000) = 7 となる.f5((2･i-1)!) < 2･f5(i!),\nかつ 1 ≤ i ≤ n を満たす i の個数を T5(n) で表すとしよう.T5(103) = 68, そして T5(109) = 2408210 であることが確認できる.T5(1018) を求めよ."},"384":{"title":"ルーディン-シャピロ数列","body":"n を二進展開したものに存在する1の隣接ペアの個数を表す数列 a(n) を定義しよう(隣接ペアは7の場合のように重複して存在する可能性がある).\n例えば, a(5) = a(1012) = 0, a(6) = a(1102) = 1, a(7) = a(1112) = 2 となる.数列 b(n) を b(n) = (-1)a(n) と定義しよう.\nこの数列はルーディン-シャピロ数列(Rudin-Shapiro sequence)と呼ばれる.b(n) を順次総和してできる数列(summatory sequence) s(n) を考えよう.: これらの数列の最初の値は以下のようになる.数列 s(n) はすべての要素が正の整数となり, さらにその整数 k はちょうど k 回現れるという注目すべき性質を持っている.数列 s(n) に t が c 回目に現れたときの s(n) における添字を, 1 ≤ c ≤ t のとき g(t,c) と表すと定義しよう.\n例えば, g(3,3) = 6, g(4,2) = 7 そして g(54321,12345) = 1220847710 となる.F(n) を以下のように定義されるフィボナッチ数列としよう.\nF(0)=F(1)=1, そして\nn>1 のとき F(n)=F(n-1)+F(n-2).GF(t)=g(F(t),F(t-1)) と定義しよう.2 ≤ t ≤ 45 のときの ΣGF(t) を求めよ."},"385":{"title":"三角形内の楕円","body":"平面上のいかなる三角形 T においても, T の内部にぴったりと収まる, 最大の面積となる唯一の楕円の存在を示すことができる.与えられた n に対し, 以下の条件を満たす三角形 T を考えよう :このような三角形全ての面積の総和を A(n) としよう.例えば n = 8 のとき, そのような三角形が二つ存在する. それらの頂点は (-4,-3),(-4,3),(8,0)  そして (4,3),(4,-3),(-8,0) , 三角形の面積はどちらも 36 になる. したがって, A(8) = 36 + 36 = 72.A(10) = 252, A(100) = 34632 そして A(1000) = 3529008 であることが確認できる.A(1 000 000 000) を求めよ.†1 楕円の焦点とは, 楕円の境界上の点 P に対し AP + BP が一定の長さとなる二点 A と B のことである."},"386":{"title":"反鎖の最大長","body":"ある整数を n とし, n の約数の集合を S(n) としよう.S(n) の部分集合 A が一つの要素のみを含むか, あるいは A のいかなる要素もその他全ての要素によって割り切ることができないとき, それを S(n) の反鎖 (antichain) と呼ぼう.例えば : S(30) = {1, 2, 3, 5, 6, 10, 15, 30}\n{2, 5, 6} は S(30) の反鎖ではない. \n{2, 3, 5} は S(30) の反鎖である.S(n) の反鎖のうち最大の長さとなるもののその長さを N(n) で表すとしよう.1 ≤ n ≤ 108 のときの ΣN(n) を求めよ."},"387":{"title":"ハーシャッド数","body":"ハーシャッド数　(Harshad Number), あるいはニーベン数 (Niven Number) とは自身の各桁の和で割り切ることのできる数のことである.\n201 は (自身の各桁の和である) 3 で割り切ることができるのでハーシャッド数である.\n201 の最後の桁を切り詰めると 20 が得られ, これはハーシャッド数である.\n20 の最後の桁を切り詰めると 2 が得られ, これもまたハーシャッド数である.\nハーシャッド数の最後の桁を再帰的に切り詰めていってもハーシャッド数となるものを右切り詰め可能ハーシャッド数 (right truncatable Harshad number) と呼ぼう.同様に:\n201/3=67 は素数である.\nその自身の各桁の和で割ると素数になるハーシャッド数を強いハーシャッド数 (strong Harshad number) と呼ぼう.ここで素数 2011 を見てみよう.\n最後の桁を切り詰めると 201 となり, これは強いハーシャッド数であるとともに右切り詰め可能である. \nこのような素数を強い右切り詰め可能ハーシャッド素数 (strong, right truncatable Harshad primes) と呼ぼう.10000 未満の強い右切り詰め可能ハーシャッド素数の和は 90619 となる.1014 未満の強い右切り詰め可能ハーシャッド素数の和を求めよ."},"388":{"title":"個別の線","body":"0 ≤ a,b,c ≤ N となるすべての格子点 (a,b,c) について考えよう.原点 O(0,0,0) から別の格子点すべてに対して線が引かれる.\nこのとき, 個別の ( 訳注 : 重複する線は一つとみなす ) 線の個数を D(N) で表すとしよう.D(1 000 000) = 831909254469114121 がすでに与えられている.D(1010) を求めよ. 回答は最初の9桁の後に最後の9桁を続けて答えよ."},"389":{"title":"正多面体のサイコロ","body":"1つの偏りのない四面体のサイコロを振り, 出た目 T を記録する.\nT 個の偏りのない六面体のサイコロを振り, 出た目の合計 C を記録する.\nC 個の偏りのない八面体のサイコロを振り, 出た目の合計 O を記録する.\nO 個の偏りのない十二面体のサイコロを振り, 出た目の合計 D を記録する.\nD 個の偏りのない二十面体のサイコロを振り, 出た目の合計 I を記録する.\nI の分散を四捨五入して小数点以下第4位まで求めよ."},"390":{"title":"非有理性の辺と整数の面積を持つ三角形","body":"辺の長さが√5, √65, √68 の三角形について考えよう. この三角形の面積は 9 になることがわかる.面積が n 以下の整数となる, (正の整数 b と c に対し) √(1+b2), √(1+c2), √(b2+c2) の辺を持つすべての三角形の面積の和を S(n) とする.例の三角形では b=2 そして c=8 となる.S(106)=18018206.S(1010) を求めよ."},"391":{"title":"ホッピングゲーム","body":"0 から k までの数を2進法で書き下したときの 1 の個数を sk としよう.\n例えば, 0 から 5 までを2進法で書くと, 0, 1, 10, 11, 100, 101 となる. 7つの 1 があるので, s5 = 7 となる.\n数列 S = {sk : k ≥ 0} は {0, 1, 2, 4, 5, 7, 9, 12, ...} で始まる数列となる.2人で行うゲームがある. ゲーム開始前に, ある数 n を選んでおく. カウンタ c があって, それは 0 から始まる. それぞれの局面で, 対局者は 1 から n (nを含む) までのある数を選び, その数だけ c を増やす. その結果得られる c の値は数列 S の要素でなければならない. もしそのような有効な指し手を打てない場合, 対局者は負けとなる.例を示そう :\nn = 5 とし, c は 0 から始まる.\n先手は 4 を選び, c は 0 + 4 = 4 となる.\n後手は 5 を選び, c は 4 + 5 = 9 となる.\n先手は 3 を選び, c は 9 + 3 = 12 となる.\n以下同様.\n留意すべき点として, c は常に S に属していなければならない, そしてそれぞれの対局者はたかだか n までの数で c を増加させていくことができる.先手必勝となるように先手が最初の局面で選べる一番大きい数字を M(n) とし, そしてそのような指し手がない場合は M(n) = 0 としよう. 例えば,  M(2) = 2, M(7) = 1, M(20) = 4 となる.1 ≤ n ≤ 20 のとき Σ(M(n))3 = 8150 がすでに与えられている.1 ≤ n ≤ 1000 のときの Σ(M(n))3 を求めよ."},"392":{"title":"メッシュ化単位円","body":"直線格子 (rectilinear grid) とは, 格子線の間が等間隔になっていない直交格子 (orthogonal grid) のことである.\nそのような格子の例として対数グラフ用紙があげられる.以下の様な特徴を持つデカルト座標系の直線格子について考えよう.さて問題は, 赤色のマス目が占める面積が最小になるよう, 残りの N 個の内部垂直格子線と N 個の内部水平格子線の位置を見つけ出すことだ.例として, これが N = 10 の場合の解答の図である.N = 10 のときの赤いマス目の面積を小数点以下11桁の位で四捨五入したものは 3.3469640797 となる.N = 400 のときの格子線の位置を求めよ.\n赤いマス目の面積を小数点以下11桁の位で四捨五入して答えよ.†1: 単位円とは, 半径が1, 原点が中心の円のことである."},"393":{"title":"渡りアリ","body":"n×n 個の四角いマスが格子状に並んだ盤面に, n2 匹のアリが1マスに1匹ずつ居る.\nすべてのアリがいっせいに隣接したマス ( たいていは4つの可能性, 盤面の端や隅にいる場合をのぞいて ) に移動しようとする.\n移動した際にいかなるアリも同じマスにおらず, かつ, 2つのマスの間の境界を2匹のアリがすれ違うことのないような移動の仕方の数を f(n) と定義する.f(4) = 88 がすでに与えられている.\nf(10) を求めよ."},"394":{"title":"パイ食べ問題","body":"ジェフは一風変わった方法でパイを食べる.\nパイは円形状である. 彼は半径にそってパイに最初の切り込みを入れる.\nそして残りのパイが少なくとも与えられた割合 F 以上ある場合, 彼は以下の手順を行う.パイの残りが割合 F 未満になった時, 彼はこの手順をやめる. かわりに残りのパイをすべて食べる.x ≥ 1 に対し, F = 1/x のときジェフが手順を繰り返す回数の期待値を E(x) としよう.\nE(1) = 1, E(2) ≈ 1.2676536759, そして E(7.5) ≈ 2.1215732071 であることが確かめられている.\nE(40) を求め, 小数点以下11桁の位で四捨五入して答えよ."},"395":{"title":"ピタゴラスの木","body":"ピタゴラスの木とは以下の方法で作られるフラクタル図形である :単位正方形から始める. そしてそのひとつの辺を根元と呼ぶことにする ( アニメーションでは底辺が根元になっている. )これを無限に繰り返して得られる結果の図形がピタゴラスの木である.ピタゴラスの木を完全に囲い込むことができる, 一番大きい正方形と辺が平行となる長方形が少なくともひとつは存在することを示すことができる.そのような外接矩形となる最小の長方形の面積を求め, 小数点以下11桁の位で四捨五入して答えよ."},"396":{"title":"弱いグッドスタイン数列","body":"ある正の整数 n に対し, n の弱いグッドスタイン数列 {g1, g2, g3, ...} は次のように定義される :この数列は gk が 0 になった時に終了となる.\n例えば, 6 の弱いグッドスタイン数列は {6, 11, 17, 25, ...} となる :以下同様.すべての弱いグッドスタイン数列は有限であることを示すことができる.n の弱いグッドスタイン数列のうち, 非ゼロである要素の数を G(n) としよう.\nG(2) = 3, G(4) = 21, そして G(6) = 381 であることが確かめられている.\n同様に, 1 ≤ n < 8 のときの ΣG(n) = 2517 であることが確かめられている.1 ≤ n < 16 のときの ΣG(n) の最後の9桁を求めよ."},"397":{"title":"放物線上の三角形","body":"放物線 y = x2/k 上の3点 A (a, a2/k), B (b, b2/k), そして C (c, c2/k) が選択されている.1 ≤ k ≤ K , そして -X ≤ a < b < c ≤ X のとき, 三角形 ABC の少なくともひとつの角が45度となるような整数の4つ組 (k, a, b, c) の個数を F(K,X) と表すとしよう.例えば, F(1, 10) = 41 そして F(10, 100) = 12492 となる.\nF(106, 109) を求めよ."},"398":{"title":"ロープの切断","body":"長さ n のロープの内側に, それぞれの点及び終端から長さ 1 の間隔で n-1 個の点が置かれている. これらの点のうち, ランダムに m-1 個の点を選び, m 本のロープ断片ができるようにそれらの点で切断していく.二番目に短いロープ断片の長さの期待値を E(n, m) としよう.\n例えば, E(3, 2) = 2 , そして E(8, 3) = 16/7 となる.\nもし複数のロープ断片が最も短い長さとなる場合, 二番目に短いロープ断片の長さは一番短いものと同じと考えることに注意.E(107, 100) を求めよ.\n回答は小数点以下6桁の位で四捨五入して答えよ."},"399":{"title":"無平方フィボナッチ数","body":"最初の15個のフィボナッチ数は以下のとおりである:\n1,1,2,3,5,8,13,21,34,55,89,144,233,377,610.\n8 と 144 は無平方 (squarefree) ではないことがわかるだろう: 8 は 4 で, 144 は 4 と 9 で割ることができる.\nつまり最初の13個の無平方フィボナッチ数は以下のようになる:\n1,1,2,3,5,13,21,34,55,89,233,377,610.200番目の無平方フィボナッチ数は:\n971183874599339129547649988289594072811608739584170445.\nこの数の末尾16桁は: 1608739584170445 であり, また科学的記数法でこの数は 9.7e53 と表せる.100 000 000番目の無平方フィボナッチ数を求めよ.\n回答は末尾16桁の後にコンマをつけ, 更にその数を科学的記数法で表したもの(仮数部を小数点以下2桁目で四捨五入したもの)を続けよ.\n200番目の無平方フィボナッチ数の場合, 答えるべき回答は以下のようになる: 1608739584170445,9.7e53注記 :\nこの問題では, すべての素数 p において, p で割ることができる最初のフィボナッチ数は p2 で割ることができないと仮定している (これはウォール予想 (Wall's conjecture) の一部である). この仮定は 3·1015 までの素数については確かめられているが, 一般には未解決とされている.\nもしこの予想が偽であった場合, この問題の想定回答は100 000 000番目の無平方フィボナッチ数である保障はなく, 正確に言えばそのような数の下限を示すのみとなる."},"400":{"title":"フィボナッチ木ゲーム","body":"フィボナッチ木とは以下のように再帰的に定義された二分木のことである:このような木構造上で二人の対局者がゲームをする. それぞれの局面で対局者はあるノードを選択し, そのノードをルートとする部分木全体を削除する.\n木全体のルートノードを強制的に取らされた対局者が敗者となる.k=1 から k=6 までの T(k) に対し最初の局面で先手必勝となる手は以下のようになる. (訳注:赤いノードで示されている)T(k) の木構造上でゲームをした時, 最初の局面で先手必勝となる(すなわち, 後手が勝てる戦略がない)手の数を f(k) としよう.例として f(5) = 1, f(10) = 17 となる.f(10000) を求めよ. 末尾18桁を回答として答えよ."},"401":{"title":"約数の平方和","body":"6 の約数は 1,2,3, そして 6 である.\nこれらの数の平方和は 1+4+9+36=50 となる.n の約数の平方和を sigma2(n) で表すとしよう.sigma2 の総和関数を SIGMA2 としよう, すなわち SIGMA2(n)=Σsigma2(i) ( i=1 から n まで ).\nSIGMA2 の最初の6項は 1,6,16,37,63, そして 113 となる.SIGMA2(1015) modulo 109 を求めよ."},"402":{"title":"整数値多項式","body":"多項式 n4 + 4n3 + 2n2 + 5n はすべての整数 n において 6 の倍数となることを示すことができる. また, このような性質を満たす最大の整数は 6 であることを示すことができる.n4 + an3 + bn2 + cn がすべての整数 n で m の倍数となるような最大の m を M(a, b, c) と定義しよう. 例えば, M(4, 2, 5) = 6 となる.同様に, 0 < a, b, c ≤ N のときの M(a, b, c) の和を S(N) と定義しよう.S(10) = 1972 , そして S(10000) = 2024258331114 であることがわかる.フィボナッチ数列 Fk を次のように定義しよう:F0 = 0, F1 = 1,\nそして k ≥ 2 のとき Fk = Fk-1 + Fk-2.2 ≤ k ≤ 1234567890123 のときの ΣS(Fk) の末尾9桁を求めよ."},"403":{"title":"放物線と直線で囲まれた格子点","body":"整数 a と b に対し, 放物線 y = x2 と直線 y = a·x + b で囲まれた領域 D(a, b) を定義しよう, すなわち:\nD(a, b) = { (x, y) | x2 ≤ y ≤ a·x + b }.D(a, b) に含まれる格子点の個数を L(a, b) と定義しよう.\n例として, L(1, 2) = 8, そして L(2, -1) = 1.さらに D(a, b) の面積が有理数であり, かつ |a|, |b| ≤ N であるすべてのペア (a, b) に対する L(a, b) の和を S(N) と定義する.\nS(5) = 344, そして S(100) = 26709528 であることが確認できる.S(1012) を求めよ. 回答は 108 を法として答えよ."},"404":{"title":"交差楕円","body":"x2 + 4y2 = 4a2 の方程式からなる楕円を Ea とする.\n原点 O(0,0) を中心に 0° < θ < 90° の範囲で Ea を θ 度時計回りに回転させた図形を Ea' とする.原点から近い方の2つの交点の原点からの距離を b , それ以外の2つの交点の原点からの距離を c とする.\na, b, c が正の整数となるとき, 次のように順序付けされた三つ組(triplet), (a, b, c) を正準楕円三つ組と呼ぼう.\n例えば, (209, 247, 286) が正準楕円三つ組である.a ≤ N の場合の異なる正準楕円三つ組 (a, b, c) の個数を C(N) としよう.\nC(103) = 7, C(104) = 106, C(106) = 11845 であることが確認できる.C(1017) を求めよ."},"405":{"title":"長方形の敷き詰め","body":"長さが幅の二倍の長方形のタイルを敷き詰めたい.\n一個の長方形タイルを使って敷き詰めたときを T(0) としよう.\nn > 0 に対し, 下記の方法で T(n-1) のすべてのタイルを置き換えたものを T(n) としよう.n が0から5のときの敷き詰め方 T(n) を以下のアニメーションに示そう.T(n) において4つのタイルが集まっている点の数を f(n) としよう.\n例として f(1) = 0, f(4) = 82, f(109) mod 177 = 126897180.k = 1018 のときの f(10k) を求め, 回答を 177 を法として答えよ."},"406":{"title":"推測ゲーム","body":"質問することで整数の集合 {1, 2, ..., n} より選ばれた秘密の数字を見つけ出したい. 質問する数字それぞれに対し, 以下の3つの回答から一つを得る.与えられた値 n, a, b において, 最適戦略とは最悪のケースの総コストを最小化することである.例えば, もし n = 5, a = 2, b = 3 の場合, そして最初の質問として ( 秘密の数字が ) \"2\" であるかどうかを聞いてみる.もし 2 が秘密の数字より大きければ ( コストは b=3 ), 秘密の数字は \"1\" であることがわかる. ( 総コストは 3 )\nもし 2 が秘密の数字より小さければ ( コストは a=2 ), 次の質問は \"4\" となる.\nもし 4 が秘密の数字より大きければ ( コストは b=3 ), 秘密の数字は \"3\" であることがわかる. ( 総コストは 2+3=5 )\nもし 4 が秘密の数字より小さければ ( コストは a=2 ), 秘密の数字は \"5\" であることがわかる. ( 総コストは 2+2=4 )\nこのようにして, この戦略における最悪のケースのコストは 5 となる. またこれが最も低い最悪ケースのコストであることを示すことができる. つまり, これが与えられた値 n, a, b における最適戦略である.与えられた値 n, a, b において最適戦略における最悪ケースのコストを C(n, a, b) としよう.以下に例を示す:\nC(5, 2, 3) = 5\nC(500, √2, √3) = 13.22073197...\nC(20000, 5, 7) = 82\nC(2000000, √5, √7) = 49.63755955...フィボナッチ数 Fk を定義しよう: Fk = Fk-1 + Fk-2, 初期条件は F1 = F2 = 1.Σ1≤k≤30C(1012, √k, √Fk) を求め, 回答を小数点以下8桁になるよう四捨五入して答えよ."},"407":{"title":"冪等元","body":"0 ≤ a ≤ 5 のときの a に対し a2 mod 6 を計算すると, 0,1,4,3,4,1 となる.a2 ≡ a (mod 6) を満たす最大の a の値は 4 となる.\na2 ≡ a (mod n) を満たす a < n の最大値を M(n) としよう.\nつまり, M(6) = 4.1 ≤ n ≤ 107 のときの ΣM(n) を求めよ."},"408":{"title":"格子間の許容経路","body":"x, y, そして x + y がすべて正の完全平方数であるとき, その格子点 (x, y) を非許容点と呼ぼう.\n例えば, (9, 16) は非許容点であり, (0, 4), (3, 1), (9, 4) はそうではない.点 (x1, y1) から (x2, y2) へ, 北か東への単位ステップのみを使って移動する経路を考えよう.\nもしその経路の途中の点で非許容点を通らないとき, そのような経路を許容経路と呼ぼう.(0, 0) から (n, n) までの許容経路の数を P(n) としよう.\nP(5) = 252, P(16) = 596994440, P(1000) mod 1 000 000 007 = 341920854 であることが確かめられる.P(10 000 000) mod 1 000 000 007 を求めよ."},"409":{"title":"極端なNim","body":"n を正の整数とする. 以下のような nim (訳注:いくつかの山に分かれた石を交互にとっていくゲーム, Problem 301を参照のこと) の配置について考えよう :上記の条件を満たす必勝nim配置(最初のプレイヤーが必勝法を持つ配置)の数を W(n) としよう.\n例として, W(1) = 1, W(2) = 6, W(3) = 168, W(5) = 19764360, W(100) mod 1 000 000 007 = 384777056 となる.W(10 000 000) mod 1 000 000 007 を求めよ."},"410":{"title":"円と接線","body":"半径 r の円, x2 + y2 = r2 を C とする. 2つの点 P(a, b), Q(-a, c) を, その2つの点を通る直線が C の接線となるように選ぶ.例えば, 四つ組 (r, a, b, c) = (2, 6, 2, -7) はこの性質を満たす.0 < r ≤ R , 0 < a ≤ X において, 上記の性質を満たす整数の四つ組 (r, a, b, c) の個数を F(R, X) としよう.F(1, 5) = 10, F(2, 10) = 52, F(10, 100) = 3384 となることが確かめられる.\nF(108, 109) + F(109, 108) を求めよ."},"411":{"title":"登り坂軌道","body":"ある正の整数を n とする. 0 ≤ i ≤ 2n において座標 (x, y) = (2i mod n, 3i mod n) の位置に駅があるとしよう. 同じ座標を持つ駅が複数できる場合, それらは同じ駅であると見なす.(0, 0) から (n, n) まで, x, y座標が共に減少することのない軌道を作ってみよう. そのような軌道で通ることのできる駅の最大数を S(n) とする.例えば n = 22 の場合, 11個の駅があり, 最大5駅を通ることができる相応の軌道を持つ. したがって S(22) = 5 となる. 最適な軌道の例と共に, 下記にこの例を図示する.S(123) = 14, S(10000) = 48 であることが確かめられる.1 ≤ k ≤ 30 における ΣS(k5) を求めよ."},"412":{"title":"グノモンの番号付け","body":"整数 m, n ( 0 ≤ n < m ) において, m×m の格子の右上から n×n の格子を取り除いたものを L(m, n) としよう. ( 訳注 : このような図形のことをグノモン (gnomon) と呼ぶ. )例えば, L(5, 3) は以下のようになる:すべてのマスの数字が下のマスと左のマスにある数字より小さくなるように, L(m, n) のそれぞれのマスに連続する整数 1, 2, 3, ... を付けていきたい.L(5, 3) のときの有効な番号付けを2例示す:L(m, n) のときの有効な番号付けの個数を LC(m, n) としよう.\nLC(3, 0) = 42, LC(5, 3) = 250250, LC(6, 3) = 406029023400, そして LC(10, 5) mod 76543217 = 61251715 であることが確かめられている.LC(10000, 5000) mod 76543217 を求めよ."},"413":{"title":"一人っ子数","body":"d 桁の正の数 (先行ゼロを持たない) が d で割り切れる部分文字列を一つだけ持つとき, その数を一人っ子数と呼ぼう.例えば, 5671 は 4 桁の一人っ子数である. すべての部分文字列 5, 6, 7, 1, 56, 67, 71, 567, 671, 5671 のうち, 56 のみが 4 で割り切れる.\n同様に, 104 は 3 桁の一人っ子数, 0 は 3 で割り切れるからである.\n1132451 は 7 桁の一人っ子数, 245 は 7 で割り切れるからである.N 未満の一人っ子数の個数を F(N) としよう.\nF(10) = 9, F(103) = 389, F(107) = 277674 であることが確かめられている.F(1019) を求めよ."},"414":{"title":"カプレカ定数","body":"6174 は驚くべき数である; もしその数の桁を小さい順にソートしてできる数を, 大きい順にソートしてできる数から引くと, 7641-1467=6174 となる.\n更に驚くべきことに, いかなる4桁の数からスタートしてソートと引き算を繰り返しても, 結局 6174 に落ち着くか, すべての桁が同じ場合には 0 となる.\nこれは4桁より少ない桁の数でも, 4桁となるまで先行ゼロを付与することで同様に再現できる.\n例えば, 数 0837 から始めてみると:\n8730-0378=8352\n8532-2358=61746174 はカプレカ定数 (Kaprekar constant) と呼ばれる. またこのソートと引き算のプロセス, そして 0 かカプレカ定数になるまでこのプロセスを繰り返すことをカプレカルーチン (Kaprekar routine) と呼ぶ.別の基数, 別の桁を持つ数に対してカプレカルーチンを考えてみよう.\n残念なことに, どんなケースでも必ずカプレカ定数があるわけではない; 入力される数によってはあるサイクルに落ち着く場合, あるいは入力が異なるたびに異なる定数に落ち着く場合がある.\nしかしながら, 5桁で基数が b = 6t+3≠9 の場合, カプレカ定数は存在する.\n例えば, 基数が 15 のとき: (10,4,14,9,5)15\n基数が 21 のとき: (14,6,20,13,7)215桁の数で基数が b の場合のカプレカ定数を Cb と定義しよう. また関数 sb(i) を以下のように定義する:i < b5 のすべての整数で sb(i)  が定義できることに注意. もし i が基数 b で5桁以下となる場合, その数にはカプレカルーチン適用前に5桁になるまで先行ゼロが付与される.0 < i < b5 における sb(i) の和を S(b) と定義しよう.\n例えば, S(15) = 5274369\nS(111) = 4006689302992 ≤ k ≤ 300 における S(6k+3) の和を求めよ.\n回答として末尾18桁を答えよ."},"415":{"title":"タイタニック集合","body":"格子点の集合 S について, そのうちの2点のみを通る直線が存在するとき, その S をタイタニック集合と呼ぼう.例えば以下の集合はタイタニック集合である, S = {(0, 0), (0, 1), (0, 2), (1, 1), (2, 0), (1, 0)}, ここで (0, 1) と (2, 0) を通る直線は S の他の点を通ることがない.一方, 集合 {(0, 0), (1, 1), (2, 2), (4, 4)} はタイタニック集合ではない, なぜなら集合内のいかなる2つの点を通る直線も他の2つの点を通るからである.ある正の整数 N に対して, 0 ≤ x, y ≤ N を満たすすべての点 (x, y) におけるタイタニック集合 S の数を T(N) としよう. T(1) = 11, T(2) = 494, T(4) = 33554178, T(111) mod 108 = 13500401, そして T(105) mod 108 = 63259062 であることが確かめられている.T(1011) mod 108 を求めよ."},"416":{"title":"カエルの旅行","body":"一番左のマスにカエルがいる n 個のマスの列がある. 連続してジャンプすることにより, カエルは一番右のマスに移動し, 再び一番左のマスに戻ってくる. 下り(最初のマスから離れる方へ向かう)のときはカエルは右へ1マス, 2マス, あるいは3マスジャンプする, そして上り(最初のマスへ近づく方へ向かう)の時は同様にして左にジャンプする. カエルはマスの外には移動できない. カエルはこの往復を m 回繰り返す.訪れることのないマスをたかだかひとつだけ残してカエルが旅行できる方法の数を F(m, n) としよう.例えば, F(1, 3) = 4, F(1, 4) = 15, F(1, 5) = 46, F(2, 3) = 16, そして F(2, 100) mod 109 = 429619151 となる.F(10, 1012) の末尾9桁を求めよ."},"417":{"title":"逆数の循環節 その2","body":"単位分数とは分子が1の分数である. 分母が2から10の単位分数を10進数で表記すると次のようになる.1/2 = 0.5\n1/3 = 0.(3)\n1/4 = 0.25\n1/5 = 0.2\n1/6 = 0.1(6)\n1/7 = 0.(142857)\n1/8 = 0.125\n1/9 = 0.(1)\n1/10 = 0.10.1(6)は 0.166666... という数字であり, 1桁の循環節を持つ. 1/7 の循環節は6桁ある.分母が 2 および 5 の素因数だけからなるとき, その単位分数は循環節を持たないと考えられる.\nそのような単位分数の循環節の長さは 0 であるとしよう.1/n の循環節の長さを L(n) で表すとしよう. 3 ≤ n ≤ 1 000 000 における ΣL(n) は 55535191115 である.3 ≤ n ≤ 100 000 000 における ΣL(n) を求めよ."},"418":{"title":"因数分解三組","body":"n を正の整数とする. 整数の三組 (a, b, c) が以下のようになる時, それを n の因数分解三組と呼ぶ.c / a が最小となる場合の n の因数分解三組に対する a + b + c を f(n) で表すとしよう.例として, f(165) = 19, f(100100) = 142, f(20!) = 4034872.f(43!) を求めよ."},"419":{"title":"look and say 数列","body":"look and say 数列は 1, 11, 21, 1211, 111221, 312211, 13112221, 1113213211, ... と続いていく数列である.\nこの数列は1から始まり, 他の項は前項の数について連続する桁をひとまとめにして言い表すことで得られる.\n声に出してみるとやりやすい:\n1 は 「1個の 1」 ('one one') → 11\n11 は 「2個の 1」 ('two ones') → 21\n21 は 「1個の 2 と1個の 1」 ('one two and one one') → 1211\n1211 は 「1個の 1 と1個の 2 と2個の 1」 ('one one, one two and two ones') → 111221\n111221 は 「3個の 1 と2個の 2 と1個の 1」 ('three ones, two twos and one one') → 312211\n...この数列の n 番目の項の 1, 2, 3 の数をそれぞれ A(n), B(n), C(n) としよう.\nA(40) = 31254, B(40) = 20259, C(40) = 11625 であることが確かめられている.n が 1012 のときの A(n), B(n), C(n) を求めよ.\n回答はそれぞれを 230 を法として, A,B,C とコンマで分かち書きして答えよ.\n例えば, n が 40 のときの解答は 31254,20259,11625 となる."},"420":{"title":"2x2 の正整数行列","body":"正整数行列とは要素が全て正の整数の行列のことである.\n正整数行列の中には, 正整数行列の自乗として二つの方法で表せるものがある.\n例えば,二つの方法で正整数行列の自乗として表すことができる, 対角和(跡, trace)が N 未満の 2x2 の正整数行列の個数を F(N) としよう.\nF(50) = 7, そして F(1000) = 1019 であることが確かめられている.F(107) を求めよ."},"421":{"title":"n15+1 の素因数","body":"n15+1 の形の数は n > 1 のすべての整数 n において合成数である.\n正の整数 n と m に対し, m を超えない n15+1 の異なる素因数の和を s(n, m) としよう.例えば, 215+1 = 3×3×11×331.\nしたがって s(2, 10) = 3, そして s(2,1000) = 3+11+331 = 345.同様に, 1015+1 = 7×11×13×211×241×2161×9091.\nしたがって s(10, 100) = 31, そして s(10,1000) = 483.1 ≤ n ≤ 1011 における Σs(n, 108) を求めよ."},"422":{"title":"双曲線上の点列","body":"12x2 + 7xy - 12y2 = 625 の式で定義される双曲線を H とする.次に, 点 (7, 1) を X と定義する. X は H 上にあるのがわかるだろう.そして, H 上の点列 (sequence of points) {Pi : i ≥ 1} を以下のように定義する:P3 = (-19/2, -229/24), P4 = (1267/144, -37/12), P7 = (17194218091/143327232, 274748766781/1719926784) がすでに与えられている.n = 1114 のときの Pn を求め, 以下のフォーマットで答えよ:\nもし Pn を既約分数, また分母を正数として (a/b, c/d) で表した時, 答えは (a + b + c + d) mod\n1 000 000 007 とする.例えば n = 7 のとき, 答えるべき解答は 806236837 となる."},"423":{"title":"連続サイコロ投げ","body":"ある正の整数を n としよう.\n一個の六面のサイコロが n 回投げられる. サイコロの出目が連続して同じ値となるペアの数を c としよう.例えば, n = 7 で 投げられたサイコロの目が  (1,1,5,6,6,6,3) のとき,\n連続して同じ値となるサイコロの出目のペアは:\n(1,1,5,6,6,6,3)\n(1,1,5,6,6,6,3)\n(1,1,5,6,6,6,3)\nしたがって, (1,1,5,6,6,6,3) のとき c = 3 となる.一個の六面のサイコロを n 回投げたとき c が π(n) 1 を超えない結果の数を C(n) と定義しよう.\n例として, C(3) = 216, C(4) = 1290, C(11) = 361912500, そして C(24) = 4727547363281250000.n が 1 ≤ n ≤ L のときの ΣC(n) を S(L) と定義しよう.\n例として, S(50) mod 1 000 000 007 = 832833871.S(50 000 000) mod 1 000 000 007 を求めよ.1 π は素数計数関数 (prime-counting function) を意味する. すなわち, π(n) は n 以下の素数の個数."},"424":{"title":"カックロ","body":"上記は覆面カックロ (cryptic kakuro) (別名クロスサム, またはサムクロス) というパズルの一例であり, 右には最終的な解答が描かれている. (カックロの一般的ルールは多くのインターネットサイトで見つけられる. 関連する情報はこの問題のパズルデータ提供元である krazydad.com でも得ることができる.)ダウンロード可能なテキストファイル (kakuro200.txt) にはこのようなパズルが, サイズが 5x5, 6x6 のタイプ合わせて200問記述されている. ファイルにある最初の問題は以下に示すコードで書かれており, そして上記の例題のものである.6,X,X,(vCC),(vI),X,X,X,(hH),B,O,(vCA),(vJE),X,(hFE,vD),O,O,O,O,(hA),O,I,(hJC,vB),O,O,(hJC),H,O,O,O,X,X,X,(hJE),O,O,X最初の文字は盤面全体のサイズを表す数字である. 6 (5x5 のカックロの場合) か 7 (6x6 のカックロの場合) のあとにはコンマが続く. 最上段と最左列のマスには追加の情報が必要となる.それぞれのマスの内容はコンマ区切りによって記述されており, 左から右へ, そして最上段の行から始まる.\nX = 灰色のマス, 数字で埋める必要のないマス.\nO (大文字) = 数字を埋める空白のマス.\nA = (そしてAからJまでの大文字のアルファベットは) パズルを解く際に同じ数字で置き換えられる.\n() = 覆面にされた空白に入る数字の和とその向き. ヨコの和の場合は小文字の \"h\" で始まり, タテの和の場合は小文字の \"v\" で始まる. その後には1字, あるいは2字の大文字のアルファベットが続き, それぞれ和が1桁の場合, 2桁の場合を意味する. 2桁の和の場合, 最初のアルファベットは10の位を, 次のアルファベットは1の位を表す. マスがタテ, ヨコの両方の和を持つとき, 最初は必ずヨコの和が表れ, そして2つは同じカッコ内でコンマで区切られている. 例: (hFE,vD). カッコでくくられたものにはそれそれコンマがあとに続く.最後のマスを表す文字のあとにはコンマの代わりに改行(CRLF)が続く.それぞれのパズルの解答は, パズルを解くのに必要となる文字に割り当てられた数字をアルファベット順に並べたものになる. 例題の場合, 下部にあるように解答は 8426039571 となる. 覆面にされた文字の10個のうち少なくとも9個は記述されたパズルに表れる. もし9個しかパズルに表れない場合, 足りないところには残りの数字が当てはまる.ファイルの最初の10問のパズルの解答の和は 64414157580 であるとすでに与えられている.200問のパズルの解答の和を求めよ."},"425":{"title":"素数縁故","body":"2つの正整数 A と B が下記の状態のうち1つを満たすとき, それらは親類であるという. ( \"A ↔ B\" で表される )(1) A と B が同じ桁数を持ち, ちょうど1つの桁だけ異なる場合; 例えば, 123 ↔ 173.\n(2) A ( もしくは B ) の左側に新たに1桁追加して B ( もしくは A ) が作られる場合; 例えば, 23 ↔ 223, そして 123 ↔ 23.2 と 素数 P の間に素数からなる親類関係によるつながりがあり, そのつながりの中に P を超える素数がないとき, その P を2の親戚と呼ぼう.例えば, 127 は2の親戚である, 可能なつながりの1つを下記に示すと:\n2 ↔ 3 ↔ 13 ↔ 113 ↔ 103 ↔ 107 ↔ 127\nしかし, 11, そして 103 はどうやっても2の親戚にはなり得ない.N 以下の2の親戚ではない素数の和を F(N) としよう.\nF(103) = 431, そして F(104) = 78728 であることが確かめられている.F(107) を求めよ."},"426":{"title":"箱玉系","body":"無限に連なる箱を考えてみよう. いくつかの箱には玉が入っている. 例えば, 2個連続して玉の入った箱, それに続いて2個の空箱, 2個の玉の入った箱, 1個の空箱, 2個の玉の入った箱が並んだ初期配置について, これを交互に現れる玉の入った箱と空箱の数により数列 (2, 2, 2, 1, 2) と表すことができる.一回の操作は, 以下のルールに従って玉それぞれについて一回だけ移動させることにより構成される: まだ移動していない最も左の玉を右側の一番近い空箱に入れる.一回の操作で下記に示すように箱列の数列 (2, 2, 2, 1, 2) は (2, 2, 1, 2, 3) に変化する; 新しくできた数列は最初の玉の入った箱の数から始まっていることに注意.このような系を箱玉系 (Box-Ball System), または略して BBS と呼ぶ.十分にこの操作を繰り返したあと, この系は玉の入った箱の連続数が変わらない状態へと発展することがわかる. 以下に示した例では, 玉の入った箱の連続数は [1, 2, 3] に発展する; これを最終状態と呼ぼう.数列 {ti} を以下のように定義する:初期配置 (t0, t1, …, t10) から開始すると, 最終状態は [1, 3, 10, 24, 51, 75] となる.\n初期配置 (t0, t1, …, t10 000 000) から開始した時の最終状態を求めよ.\n回答は最終状態の要素の自乗の和で答えよ. 例えば, 最終状態が [1, 2, 3] のとき, 14 ( = 12 + 22 + 32) が答えるべき回答となる."},"427":{"title":"nの数列","body":"整数の数列 S = {si} が n 個の要素を持ち, それぞれの要素 si が 1 ≤ si ≤ n を満たすとき, これを  nの数列 と呼ぼう. したがって全体で nn 個のnの数列が存在することになる. 例えば, 数列 S = {1, 5, 5, 10, 7, 7, 7, 2, 3, 7} は10の数列のひとつである.ある数列 S に対し, 同じ値からなる最長の連続部分列の長さを L(S) としよう. 例えば, 上記で与えられた数列 S の場合, L(S) = 3 となる, なぜなら3回連続して 7 が現れるからである.すべてのnの数列 S に対し関数 f(n) = ΣL(S) と定義しよう.例として, f(3) = 45, f(7) = 1403689, f(11) = 481496895121.f(7 500 000) mod 1 000 000 009 を求めよ."},"428":{"title":"円のネックレス","body":"a, b, c を正の整数とする.\n|WX| = a, |XY| = b, |YZ| = c, |WZ| = a + b + c となる同一直線上の四点 W, X, Y, Z があるとしよう.\nXY を直径とする円を Cin とする.\nWZ を直径とする円を Cout とする.k ≥ 3 のときに k 個の円 C1, C2, ...,  Ck を以下のように配置できるとき, 三つ組 (a, b, c) をネックレス三つ組と呼ぶ.例えば, (5, 5, 5) と (4, 3, 21) はネックレス三つ組であり, (2, 2, 5) はそうではないことも示される.a, b, c が正の整数でかつ b ≤ n のときのネックレス三つ組の個数を T(n) としよう. 例えば, T(1) = 9, T(20) = 732, T(3000) = 438106.T(1 000 000 000) を求めよ."},"429":{"title":"単約数の自乗和","body":"ある数 n の単約数 (unitary divisor) d とは, gcd(d, n/d) = 1 となる n の約数のことである.\n4! = 24 の単約数は 1, 3, 8, 24 である.\nこれらの自乗和は 12 + 32 + 82 + 242 = 650 となる.n の単約数の自乗和を S(n) で表すとしよう. したがって S(4!) = 650 となる.S(100 000 000!) を求め, 1 000 000 009 を法として答えよ."},"430":{"title":"範囲返し","body":"N 枚の円盤が一列に並んでいて, 左から右に 1 から N まで番号付けされている.\nそれぞれの円盤は黒い面と白い面を持っている. 当初すべての円盤は白い面が見える状態にある.それぞれのターンで, 2つの, 異なる必要のない整数 A と B が 1 から N までの間 ( 1 と N を範囲に含む ) からランダムかつ一様に選ばれる. \nそして A から B までの番号付けされたすべての円盤 ( A, B の番号の円盤を含む ) が裏返される.下記に N = 8 の場合の例を示す. 最初のターンでは A = 5 と B = 2, 2回目のターンでは A = 4 と B = 6 が選ばれている.M 回のターンのあと白い面が見えている円盤の個数の期待値を E(N, M) としよう.\nE(3, 1) = 10/9, E(3, 2) = 5/3, E(10, 4) ≈ 5.157, そして E(100, 10) ≈ 51.893 であることを確認できる.E(1010, 4000) を求めよ.\n回答は小数点以下2桁になるよう四捨五入して答えよ."},"431":{"title":"平方空間サイロ","body":"農場経営者のフレッドは農場に新しいサイロを設営する準備中で, また円形のものを見つけたときは腰を抜かすほど, 四角いものに対する強迫観念を持っている. 設営するサイロの会社代表クエンティンは我々は円筒状のサイロしか作っていないと説明し, 四角い土台の上に乗ってはいると指摘. フレッドは憮然とし, それは私の個性を否定するようなものだと言い張る.クエンティンは機転を利かせ, サイロに粒上のものが上から供給されるとき, 円錐状の斜面が形作られ, 自然に作られる斜面の水平線からの角度は安息角と呼ばれると説明する. 例えば安息角が α = 30 度の場合, そしてサイロの中央から穀物が供給された時, 円柱の最上部に向かって完全な円錐が形作られる. このサイロの場合直径は6mなので, 無駄な空間の体積はおよそ 32.648388556 m3 になる. その一方, もし穀物が中心から x メートル水平に離れた最上面の点から供給される場合, 奇妙にカーブし傾斜した底面からなる円錐となる. 彼はフレッドに図を見せる.無駄なスペースの体積を, 単位を立方メートルとして V(x) で表すとしよう. もし x = 1.114785284 のとき, ちなみにこれは偶然にも3の自乗, すなわち小数点以下9桁の有効数字を持つ, このとき無駄な空間の体積は V(1.114785284) ≈ 36 となる. この問題で与えられている可能な回答の範囲ではもうひとつの選択肢がある: V(2.511167869) ≈ 49. こうして平方数はサイロの王様として, 穀物の円錐の頂上に燦然と輝くであろう.フレッドの目はこのエレガントな解決法に喜び輝いた. しかしクエンティンの図と計算についてさらによく調べてみると, 彼の喜びは再び落胆に変わる. フレッドは設営予定のサイロは直径ではなく半径が6mで, さらに彼の穀物の安息角は40度であると指摘. しかしながらもしクエンティンが今回のサイロに対する解決策一式を見つけることができれば, 落胆することなくより幸せになれるだろう.もし機転を利かせてクエンティンが苛立たしいほど細かい農場経営者フレッドの四角に対する欲求を満足させようとする場合, 無駄な空間が平方数となるすべての x の値を決定し, Σx を小数点以下9桁まで計算せよ."},"432":{"title":"トーティエント和","body":"1 ≤ i ≤ m における Σφ(n × i) を S(n, m) としよう. ( φ はオイラーのトーティエント関数 (totient function) )\nS(510510, 106 )= 45480596821125120 がすでに与えられている.S(510510, 1011) を求めよ.\n回答として末尾9桁を答えよ."},"433":{"title":"ユークリッドの互除法のステップ数","body":"x0 と y0 の最大公約数をユークリッドの互除法 (Euclid's algorithm) を用いて割り出す時に必要となるステップ数を E(x0, y0) としよう. より形式的に表すと:\nx1 = y0, y1 = x0 mod y0\nxn = yn-1, yn = xn-1 mod yn-1\nE(x0, y0) は yn = 0 となるような最小の n である.E(1,1) = 1, E(10,6) = 3, そして E(6,10) = 4 であることがわかっている.1 ≤ x,y ≤ N における E(x, y) の和を S(N) と定義しよう.\nS(1) = 1, S(10) = 221, そして S(100) = 39826 であることがわかっている.S(5·106) を求めよ."},"434":{"title":"剛なグラフ","body":"グラフとは頂点と頂点を結ぶ辺の集まりであり, 辺によって結ばれた2つの頂点は隣接していると呼ぶことを思い出そう.\nグラフはユークリッド空間上の点を頂点として関連付けることでユークリッド空間に埋め込むことができる. ( 訳注 : ある空間内にグラフを表現することをグラフの埋め込みと言う. )\n柔軟なグラフ (flexible graph) とは, 隣接する頂点間のそれぞれの距離を一定に保ったまま, 少なくとも2つの隣接していない頂点間の距離が変化するように, ひとつ以上の頂点を連続的に動かすことが可能なグラフの埋め込みのことである.\n剛なグラフ (rigid graph) とは柔軟でないグラフの埋め込みのことである.\n平たく言えば, もし頂点を360度回転するヒンジに, 辺を曲がらない非弾性の棒に置き換えたとき, グラフの残りの部分から独立して動かすことのできる部分がないグラフは剛なグラフである.ユークリッド平面に埋め込まれた格子グラフは下記のアニメが示すように剛性を持たない:しかしながら, いくつかのセルに対角線の辺を追加することで剛性を持たせることができる. 例として, 2x3 の格子グラフの場合, グラフを剛性にする19通りの方法がある:この問題の目的から鑑みて, 格子グラフに剛性を持たせる別の方法として, 対角線の辺の向きを変えたり, 1つのセルに2つの対角線の辺を追加したりすることは考慮しない.m × n の格子グラフに剛性を持たせる方法の数を R(m, n) で表す.\n例として, R(2,3) = 19, そして R(5,5) = 23679901.1 ≤ i,j ≤ N における ΣR(i, j) を S(N) と定義しよう.\n例として, S(5) = 25021721.S(100) を求め, 1000000033 を法として答えよ."},"435":{"title":"フィボナッチ数多項式","body":"フィボナッチ数 {fn, n ≥ 0} は初期条件 f0 = 0, f1 = 1 の場合の fn = fn-1 + fn-2 として再帰的に定義される.0 ≤ i ≤ n における Fn(x) = ∑fixi として多項式 {Fn, n ≥ 0} を定義しよう.例として, F7(x) = x + x2 + 2x3 + 3x4 + 5x5 + 8x6 + 13x7, そして F7(11) = 268357683.n = 1015 とする. [∑0≤x≤100 Fn(x)] mod 1307674368000 (= 15!) を求めよ."},"436":{"title":"不公平な賭け","body":"ジュリーは姉妹のルイーズに以下のような賭けを持ちかけた.\n誰が皿を洗うかを決定できるゲームを提案する.\nこのゲームでは, 0 から 1 の間に一様分布する独立した乱数生成器を使うものとする.\nゲームは S = 0 からスタートする.\n先手のルイーズは S > 1 まで生成器から得られる色々な乱数を S に加えていき, 最後の乱数 ' x ' を記録しておく.\n後手のジュリーは続けて S > 2 まで生成器から得られる色々な乱数を S に加えていき, 最後の乱数 ' y ' を記録しておく.\n一番大きい数となった者が勝ちとなり, 負けたものは皿洗いとなる. すなわち, もし y > x ならば後手が勝者となる.例えば, もし先手が 0.62 と 0.44 を出した場合, 先手は 0.62+0.44 > 1 でターンを終え, x = 0.44 となる.\nもし後手が 0.1, 0.27, そして 0.91 を出した場合, 後手は 0.62+0.44+0.1+0.27+0.91 > 2 でターンを終え, y = 0.91. y > x となるので, 後手が勝者となる.ルイーズは少し考え, そして抗議した: 「これは不公平だわ」.\n後手が勝つ確率はいくつになるか?\n小数点以下10桁となるように四捨五入し, 0.abcdefghij の形で答えよ."},"437":{"title":"フィボナッチ原始根","body":"n=0 から 9 までの 8n modulo 11 を計算すると以下のようになる: 1, 8, 9, 6, 4, 10, 3, 2, 5, 7.\nこのように1から10までのすべての取りうる値が現れる. したがって 8 は 11 の原始根である.\nしかし話はここからだ:\nよく調べてみると以下のことがわかる:\n1+8=9\n8+9=17≡6 mod 11\n9+6=15≡4 mod 11\n6+4=10\n4+10=14≡3 mod 11\n10+3=13≡2 mod 11\n3+2=5\n2+5=7\n5+7=12≡1 mod 11.したがって 11 を法として 8 のべき乗を割った剰余は周期 10 で循環し, そして 8n + 8n+1 ≡ 8n+2 (mod 11).\n8 を 11 のフィボナッチ原始根と呼ぶ.\nすべての素数がフィボナッチ原始根を持つわけではない.\n1つ以上のフィボナッチ原始根を持つ 10000 未満の素数は 323 個あり, その和は 1480491 となる.\n100,000,000 未満で少なくとも1つのフィボナッチ原始根を持つ素数の和を求めよ."},"438":{"title":"多項式の解の整数部","body":"n 個の整数の組 t = (a1, ..., an) において, 多項式 xn + a1xn-1 + a2xn-2 + ... + an-1x + an = 0 の解を (x1, ..., xn) としよう.以下の2つの条件について考える:n = 4 の場合, 両方の条件を満たす整数の組は12組ある.\n整数の組 t 内の整数の絶対値の和を S(t) としよう.\nn = 4 のとき両方の条件を満たす組 t すべてについて, ΣS(t) = 2087 となる.n = 7 のときの ΣS(t) を求めよ."},"439":{"title":"約数の和の和","body":"k の約数の総和を d(k) としよう.\n関数 S(N) = Σ1≤i≤N Σ1≤j≤N d(i・j) を定義する.\n例として, S(3) = d(1) + d(2) + d(3) + d(2) + d(4) + d(6) + d(3) + d(6) + d(9) = 59.S(103) = 563576517282, そして S(105) mod 109 = 215766508 が与えられている.\nS(1011) mod 109 を求めよ."},"440":{"title":"最大公約数とタイル張り","body":"長さ n, 高さ 1 の板を, 下記にあるような 1 × 2 のブロックか, 1 × 1 の前面に10進数字が一個書かれたブロックのタイルで完全にタイル貼りしたい.例えば, n = 8 の時の板をタイル貼りする方法の一部は以下の通りである.上述したような長さ n の板をタイル貼りする方法の数を T(n) としよう.例えば, T(1) = 10, そして T(2) = 101.1 ≤ a, b, c ≤ L における3重和 Σa,b,c gcd(T(ca), T(cb)) を S(L) としよう.\n例として:\nS(2) = 10444\nS(3) = 1292115238446807016106539989\nS(4) mod 987 898 789 = 670616280.S(2000) mod 987 898 789 を求めよ."},"441":{"title":"互いに素な組の逆数の総和","body":"ある整数 M において, 以下の条件をすべて満たす p と q の整数のペア全てに対する 1/(p・q) の和を R(M) を定義しよう:2 ≤ i ≤ N における R(i) の和を S(N) と定義する.\nS(2) = R(2) = 1/2, S(10) ≈ 6.9147, そして S(100) ≈ 58.2962 であることを確認できる.S(107) を求めよ. 回答は小数点以下4桁になるよう四捨五入して答えよ."},"442":{"title":"eleven-free整数","body":"その10進展開が1を除き11の累乗を表すどんな部分文字列も含まないような整数をeleven-freeと呼ぶ.例えば, 2404 と 13431 はeleven-freeであり, 一方 911 と 4121331 はそうではない.n 番目のeleven-free正整数を E(n) としよう. 例として, E(3) = 3, E(200) = 213, そして E(500 000) = 531563.E(1018) を求めよ."},"443":{"title":"最大公約数数列","body":"以下のように定義される数列を g(n) としよう:\ng(4) = 13,\nn > 4 においては g(n) = g(n-1) + gcd(n, g(n-1)).最初のほうの値は以下のようになる:g(1 000) = 2524, そして g(1 000 000) = 2624152 がすでに与えられている.g(1015) を求めよ."},"444":{"title":"円卓宝くじ","body":"p 人のグループで円卓に座り宝くじのトレードゲームを行う事になった. それぞれの人はランダムに割り当てられたスクラッチが削られていない宝くじから始める. それぞれのくじはスクラッチを削ると, 1ポンドからpポンドの範囲でポンド単位の(整数ポンドの)賞金が出る, 同じくじは2つとない. ゲームの目的は各人がくじの賞金を最大にしてゲームを退場することだ.任意の人が最初のプレーヤーに選ばれる. テーブルを周回して, 各プレーヤーは2つの選択肢のうちどれか1つを選択する:1. プレーヤーはくじを削り, テーブルの全員にくじの賞金額を明らかにする.\n2. プレーヤーは自分の削られていないくじを前のプレーヤーの削られたくじとトレードし, そのくじを受け取ってゲームから退場する. 前のプレーヤーは自身の新しく割り当てられたくじを削り, テーブルの全員にくじの賞金額を明らかにする.ゲームはすべてのくじが削られた時点で終了となる. テーブルに残ったすべてのプレーヤーはその時に持っているくじとともに退場することとなる.各プレーヤーは自身のくじの賞金額の期待値を最大化するための最適な戦略を取るものと仮定する.p 人のプレーヤーを含むゲームが終了した時, テーブルに残ったプレーヤーの人数の期待数を E(p) で表すとしよう. (例えば, 5桁の有効桁に四捨五入したとき E(111) = 5.2912 となる)としよう.k > 1 において  としよう.S20(1014) を求め, 回答は10桁の有効桁に四捨五入した科学的記数法で表記せよ. 仮数部と指数部のセパレーターには小文字のeを使うこと. (例えば,S3(100) = 5.983679014e5)"},"445":{"title":"レトラクション A","body":"n > 1 のすべての整数において, 関数族 fn,a,b を, 整数 a,b,x, そして 0 < a < n, 0 ≤ b < n, 0 ≤ x < n に対して fn,a,b(x) ≡ ax+b mod n と定義する.\n0 ≤ x < n のすべてにおいて fn,a,b(fn,a,b(x)) ≡ fn,a,b(x) mod n のとき, その fn,a,b をレトラクション (retraction) と呼ぼう.\nn におけるレトラクションの個数を R(n) としよう.c = C(100 000,k), そして 1 ≤ k ≤ 99 999 のとき,\n∑R(c) ≡ 628701600 (mod 1 000 000 007) となることがわかっている.\n( C(n,k) は二項計数. )c=C(10 000 000,k), そして 1 ≤ k ≤ 9 999 999 のときの ∑R(c) を求めよ.\n回答は 1 000 000 007 を法として答えよ."},"446":{"title":"レトラクション B","body":"n > 1 のすべての整数において, 関数族 fn,a,b を, 整数 a,b,x, そして 0 < a < n, 0 ≤ b < n, 0 ≤ x < n に対して fn,a,b(x) ≡ ax+b mod n と定義する.\n0 ≤ x < n のすべてにおいて fn,a,b(fn,a,b(x)) ≡ fn,a,b(x) mod n のとき, その fn,a,b をレトラクション (retraction) と呼ぼう.\nn におけるレトラクションの個数を R(n) としよう.1 ≤ n ≤ N において F(N) = ∑R(n4+4) としよう.\nF(1024) = 77532377300600 となる.F(107) (mod 1 000 000 007) を求めよ."},"447":{"title":"レトラクション C","body":"n > 1 のすべての整数において, 関数族 fn,a,b を, 整数 a,b,x, そして 0 < a < n, 0 ≤ b < n, 0 ≤ x < n に対して fn,a,b(x) ≡ ax+b mod n と定義する.\n0 ≤ x < n のすべてにおいて fn,a,b(fn,a,b(x)) ≡ fn,a,b(x) mod n のとき, その fn,a,b をレトラクション (retraction) と呼ぼう.\nn におけるレトラクションの個数を R(n) としよう.2 ≤ n ≤ N において F(N) = ∑R(n) としよう.\nF(107) ≡ 638042271 (mod 1 000 000 007) となる.F(1014) (mod 1 000 000 007) を求めよ."},"448":{"title":"最小公倍数平均","body":"関数 lcm(a,b) は a と b の最小公倍数を意味する.\n1 ≤ i ≤ n における lcm(n,i) の値の平均を A(n) としよう.\n例えば, A(2) = (2+2)/2 = 2, そして A(10) = (10+10+30+20+10+30+70+40+90+10)/10 = 32.1 ≤ k ≤ n において S(n) = ΣA(k) としよう.\nS(100) = 122726 となる.S(99999999019) mod 999999017 を求めよ."},"449":{"title":"チョコレートコーティングキャンディー","body":"菓子職人のフィルはできたてのチョコレートコーティングキャンディーを作っている. それぞれのキャンディーの核は方程式 b2x2 + b2y2 + a2z2 = a2b2 により定義された回転楕円体の形をしている.1ミリの厚さで1つのチョコレートを均一にコーティングするには, どれだけのチョコレートが必要なのかをフィルは知りたい.もし a = 1 mm, b = 1 mm の場合, 必要なチョコレートの量は 28/3 π mm3 となる.\nもし a = 2 mm, b = 1 mm の場合, 必要なチョコレートの量は約 60.35475635 mm3 となる.a = 3 mm, b = 1 mm のときに必要となるチョコレートの量を単位を mm3 として求めよ. 回答は小数点以下8桁となるよう四捨五入して答えよ."},"450":{"title":"内サイクロイドと格子点","body":"内サイクロイド (hypocycloid) とは, 大きな円の内部で回転する小さな円上の点が描く曲線である. 原点を中心とし, 右端の点から始まる内サイクロイドのパラメトリック方程式は以下のように与えられる:ここで R とは大きい円の半径, r は小さい円の半径である.半径 R と r からなる内サイクロイド上の整数座標の点で, かつ sin(t) と cos(t)が有理数となる t の相当値を持つ別個の点の集合を C(R, r) としよう.C(R, r) の点の x, y 座標の値の絶対値の総和を S(R, r) =  としよう.整数 N について, R ≤ N, 2r < R の場合の R, r による S(R, r) の総和を T(N) =  S(R, r) としよう.以下のように与えられている:\nC(3, 1) = {(3, 0), (-1, 2), (-1,0), (-1,-2)}C(2500, 1000) ={(2500, 0), (772, 2376), (772, -2376), (516, 1792), (516, -1792), (500, 0), (68, 504), (68, -504),\n(-1356, 1088), (-1356, -1088), (-1500, 1000), (-1500, -1000)}注記: (-625, 0) は C(2500, 1000) の要素ではない, なぜなら相当する値 t で sin(t) が有理数とならないからである.S(3, 1) = (|3| + |0|) + (|-1| + |2|) + (|-1| + |0|) + (|-1| + |-2|) = 10T(3) = 10; T(10) = 524; T(100) = 580442; T(103) = 583108600.T(106) を求めよ."},"451":{"title":"モジュラ逆数","body":"数 15 について考えよう.\n15と互いに素となる15以下の正数は8個ある: 1, 2, 4, 7, 8, 11, 13, 14.\nそれらの数の15を法とするモジュラ逆数 (modular inverse) は: 1, 8, 4, 13, 2, 11, 7, 14.\nなぜなら\n1*1 mod 15 = 1\n2*8 = 16 mod 15 = 1\n4*4 = 16 mod 15 = 1\n7*13 = 91 mod 15 = 1\n11*11 = 121 mod 15 = 1\n14*14 = 196 mod 15 = 1m の法 n に対するモジュラ逆数が m 自身となるような n-1 より小さい最大の正数 m を I(n) としよう.したがって  I(15)=11.\nそして I(100)=51, I(7)=1.3 ≤ n ≤ 2·107 における ΣI(n) を求めよ."},"452":{"title":"長大な積","body":"要素の積が m を超えないような正整数 n 個からなる組の個数を F(m, n) と定義しよう.F(10, 10) = 571.F(106, 106) mod 1 234 567 891 = 252903833.F(109, 109) mod 1 234 567 891 を求めよ."},"453":{"title":"格子四辺形","body":"単純四辺形 (simple quadrilateral) とは4つの異なる頂点を持ち, 平角 (180°の角) を持たず, 自己交差 (self-intersect) していない多角形のことである.それらの頂点が 0 ≤ x ≤ m, そして 0 ≤ y ≤ n を満たす座標 (x,y) の格子点からなる単純四辺形の個数を Q(m, n) としよう.例えば, 以下に示すように Q(2, 2) = 94 となる:Q(3, 7) = 39590, Q(12, 3) = 309000, そして Q(123, 45) = 70542215894646 であることが確認できる.Q(12345, 6789) mod 135707531 を求めよ."},"454":{"title":"ディオファントス逆数 その3","body":"次の等式で x, y, n は正の整数である.1/x + 1/y = 1/n上限 L に対し x < y ≤ L を満たす解の個数を F(L) としよう.F(15) = 4, F(1000) = 1069 であることが確認できる.\nF(1012) を求めよ."},"455":{"title":"下位桁の累乗","body":"nx の下位9桁が x になるような 109 未満の最大の正整数 x がある時はそれ自身を, そのような整数がない時は値が 0 となる関数を f(n) としよう.例として:2 ≤ n ≤ 106 における Σf(n) を求めよ."},"456":{"title":"原点を含む三角形 その2","body":"以下のように定義する:xn = (1248n mod 32323) - 16161\nyn = (8421n mod 30103) - 15051\nPn = {(x1, y1), (x2, y2), ..., (xn, yn)}例として, P8 = {(-14913, -6630), (-10161, 5625), (5226, 11896), (8340, -10778), (15852, -5203), (-15165, 11295), (-1427, -14495), (12407, 1060)}.内部に原点を含むような, Pn の要素の点を頂点とする三角形の個数を C(n) としよう.例として:\nC(8) = 20\nC(600) = 8950634\nC(40 000) = 2666610948988C(2 000 000) を求めよ."},"457":{"title":"素数の自乗を法とする多項式","body":"f(n) = n2 - 3n - 1 とする.\np を素数とする.\nf(n) mod p2 = 0 となるような最小の正整数 n があればそれ自身を, ない時は 0 となるような関数を R(p) とする.L 以下のすべての素数に対する ΣR(p) を SR(L) としよう.SR(107) を求めよ."},"458":{"title":"Projectの順列","body":"単語 \"project\" の文字を形作っているアルファベット集合 A = {c,e,j,o,p,r,t} について考えよう.\n\"project\" の5040通りからなる並べ替えを部分文字列として持たない, A により構成される長さ n の文字列の個数を T(n) としよう.T(7)=77-7!=818503.T(1012) を求めよ. 回答として末尾9桁を答えよ."},"459":{"title":"どんでん返しゲーム","body":"どんでん返しゲームとは N x N マスの盤面でプレイする二人用のゲームである.\nそれぞれのマスには片面が白,もう片面が黒のコマが置かれている.\nゲームはすべてのコマの白い面が見える状態からスタートする.対局では, 以下の性質を持つ長方形の中のすべてのコマを裏返す:対局者は交互に上記の作業を行う. すべてのマスを黒に変えたものが勝者となる.すべてが白いコマの状態になっている N x N の盤面で, 完璧な対局を行うと仮定した時, 先手必勝となる手 (相手がどんな手を差しても勝つことができる最初の手) の数を W(N) としよう.\nW(1) = 1, W(2) = 0, W(5) = 8, そして W(102) = 31395.N=5 の場合, 8つの先手必勝の手がある:W(106) を求めよ."},"460":{"title":"移動する蟻","body":"ユークリッド平面上において, 点 A(0, 1) から, ある整数を d として, 点 B(d, 1) まで蟻が旅をする.各段階で, (x0, y0) にいる蟻は x1 ≥ 0, そして y1 ≥ 1 を満たす格子点 (x1, y1) の一つを選択し, その (x1, y1) まで一定速度 v でまっすぐに進む. v の値は以下のように y0 と y1 によって決まる :左の図は d = 4 のときに起こりうる道のりのひとつである. 最初に蟻は A(0, 1) から P1(1, 3) まで速度 (3 - 1) / (ln(3) - ln(1)) ≈ 1.8205 で向かう. その結果所要時間は sqrt(5) / 1.8205 ≈ 1.2283 となる.\n点 P1(1, 3) から点 P2(3, 3) まで蟻は速度 3 で移動し, 所要時間は 2 / 3 ≈ 0.6667 となる. 点 P2(3, 3) から点 B(4, 1) まで蟻は速度 (1 - 3) / (ln(1) - ln(3)) ≈ 1.8205 で移動し, 所要時間は sqrt(5) / 1.8205 ≈ 1.2283 となる.\nしたがって総所要時間は 1.2283 + 0.6667 + 1.2283 = 3.123 となる.右の図は別の道のりの場合である. 総所要時間は 0.98026 + 1 + 0.98026 = 2.96052 と計算される. これは d = 4 の場合における最速のコースであることがわかる.蟻が最速のコースを選んだ時の総所要時間を F(d) としよう. 例として, F(4) ≈ 2.960516287.\nF(10) ≈ 4.668187834, そして F(100) ≈ 9.217221972 となることが確認できる.F(10000) を求めよ. 回答は小数点以下9桁となるよう四捨五入して答えよ."},"461":{"title":"だいたいπ","body":"すべての非負整数 k に対し fn(k) = ek/n - 1 としよう.驚くべきことに, f200(6) + f200(75) + f200(89) + f200(226) = 3.141592644529… ≈ π.実際, これは式 fn(a) + fn(b) + fn(c) + fn(d) による,  n = 200 におけるπの最良近似である.誤差 : | fn(a) + fn(b) + fn(c) + fn(d) - π | ( ここで | x | は値 x の絶対値を表す ) が最小となる a, b, c, d に対し, g(n) = a2 + b2 + c2 + d2 としよう.g(200) = 62 + 752 + 892 + 2262 = 64658 が与えられている.g(10000) を求めよ."},"462":{"title":"3-スムーズ数の順列","body":"3-スムーズ数とは, 3以上の素因数を持たない整数のことである. ある整数 N に 対し,  N と等しいかそれ以下の 3-スムーズ数からなる集合を S(N) を定義する. 例えば, S(20) = { 1, 2, 3, 4, 6, 8, 9, 12, 16, 18 }.それぞれの要素が, その要素の真約数の後ろに並ぶように作られた S(N) からなる順列の場合の数を F(N) と定義する.これは N = 20 の場合の順列の一つの例である.1, 2, 4, 3, 9, 8, 16, 6, 18, 12.これは妥当な順列ではない, なぜなら 12 がその約数の 6 の前に来ているからである.1, 2, 4, 3, 9, 8, 12, 16, 6, 18.F(6) = 5, F(8) = 9, F(20) = 450, そして F(1000) ≈ 8.8521816557e21 であることを確かめることができる.\nF(1018) を求めよ. 回答を小数点以下10桁の有効桁に四捨五入した科学的記数法で答えよ.\n回答の際, 仮数部と指数部のセパレーターに小文字のeを使うこと. 例えば, 答えが 112,233,445,566,778,899 の場合, 回答の形式では 1.1223344557e17 となる."},"463":{"title":"奇妙な漸化式","body":"すべての正整数に対し関数 f が以下のように定義されている: f(n) を関数 S(n) と定義する.S(8) = 22, そして S(100) = 3604.S(337) を求めよ. 回答は末尾9桁を答えよ."},"464":{"title":"メビウス関数と区間","body":"メビウス関数は μ(n) で表され, 次のように定義される:区間 [a,b] 内で μ(n) = 1 となるような整数 n の個数を P(a,b) としよう.\n区間 [a,b] 内で μ(n) = -1 となるような整数 n の個数を N(a,b) としよう.\n例えば, P(2,10) = 2, N(2,10) = 4.以下のような整数の組 (a,b) の個数を C(n) としよう:例として, C(10) = 13, C(500) = 16676, そして C(10 000) = 20155319.C(20 000 000) を求めよ."},"465":{"title":"極多角形","body":"多角形のカーネル (kernel) とは多角形のすべての境界線が見える点の集合と定義される. そのカーネルの内部に原点が完全に含まれるような多角形を極多角形 (polar polygon) と定義しよう.この問題では, 多角形は同一線上となる隣接する頂点を持つことができる. またどんな多角形も自己交差を持たず, 面積がゼロの部分を持たない.以下の例では, 1つ目の多角形のみが極多角形である (2つ目, 3つ目, 4つ目の多角形のカーネルは原点を完全には含んでいない, また5つ目の多角形はカーネルを持たない):1つ目の多角形は3つの連続した同一線上の頂点を持っていることに注意.絶対値が n 以下となる整数座標 (x, y) を頂点とする極多角形の個数を P(n) としよう.多角形は異なる辺の集合を持っていれば, それらがおなじ領域を取り囲むものであっても別のものとして数えることに注意. 例えば, 頂点 [(0,0),(0,3),(1,1),(3,0)] を持つ多角形は, 頂点 [(0,0),(0,3),(1,1),(3,0),(1,0)] を持つ多角形とは異なる.例として, P(1) = 131, P(2) = 1648531, P(3) = 1099461296175, そして P(343) mod 1 000 000 007 = 937293740.P(713) mod 1 000 000 007 を求めよ."},"466":{"title":"掛け算表の異なる項","body":"m×n の掛け算表の異なる項の個数を P(m,n) としよう.例えば, 3×4 の掛け算表はこのようになる:{1,2,3,4,6,8,9,12} と8つの異なる項があるので, P(3,4) = 8 となる.以下のように与えられている:\nP(64,64) = 1263,\nP(12,345) = 1998, そして\nP(32,1015) = 13826382602124302.P(64,1016) を求めよ."},"467":{"title":"スーパー整数","body":"整数 n の数字が整数 s の数字の部分列 (ここで部分列とは別の数列から残りの要素の順番を変えることなくいくつかの要素を取り去ることで得られる数列のことである) になっているとき, その整数 s は n のスーパー整数と呼ばれる.\n例えば, 2718281828 は 18828 のスーパー整数であり, 一方 314159 は 151 のスーパー整数ではない.n 番目の素数を p(n), n 番目の合成数を c(n) としよう. 例えば, p(1) = 2, p(10) = 29, c(1) = 4, そして c(10) = 18.\n{ p(i) : i ≥ 1 } = {2, 3, 5, 7, 11, 13, 17, 19, 23, 29, ...}\n{ c(i) : i ≥ 1 } = {4, 6, 8, 9, 10, 12, 14, 15, 16, 18, ...}{p(i)} の数字根 (digital root) からなる数列を PD としよう ( 同様に CD は {c(i)} によって定義される ):\nPD = {2, 3, 5, 7, 2, 4, 8, 1, 5, 2, ...}\nCD = {4, 6, 8, 9, 1, 3, 5, 6, 7, 9, ...}PD の最初の n 個の要素を結合して生成される整数を Pn としよう ( 同様に Cn は CD によって定義される ).\nP10 = 2357248152\nC10 = 4689135679Pn と Cn に対し共にスーパー整数となる最も小さい正整数を f(n) としよう.\n例えば, f(10) = 2357246891352679, そして f(100) mod 1 000 000 007 = 771661825.f(10 000) mod 1 000 000 007 を求めよ."},"468":{"title":"二項係数のスムーズ約数","body":"ある整数が B より大きい素因数を持たないとき, その整数をB-スムーズと呼ぶ.n の最大のB-スムーズ約数を SB(n) としよう.\n例として:\nS1(10) = 1\nS4(2100) = 12\nS17(2496144) = 5712F(n) = ∑1≤B≤n ∑0≤r≤n SB(C(n,r)) と定義しよう. ここで C(n,r) は二項係数を意味する.\n例として:\nF(11) = 3132\nF(1 111) mod 1 000 000 993 = 706036312\nF(111 111) mod 1 000 000 993 = 22156169F(11 111 111) mod 1 000 000 993 を求めよ."},"469":{"title":"空席","body":"部屋の中に N 個の椅子が円卓の周りに置かれている.\n騎士が一人ずつ部屋に入り座れる空席をランダムに選ぶ.\n十分余裕を持たせるために, 騎士は常にお互いに少なくとも一つの空席だけ離れて座る.条件を満たす椅子がなくなった時, 全席数に対する空席の割合 C が決まる.\nC の期待値を E(N) と定義しよう.\nE(4) = 1/2, そして E(6) = 5/9 であることが確かめられる.E(1018) を求めよ. 回答は小数点以下14桁になるよう四捨五入して答えよ."},"470":{"title":"Super Ramvok","body":"Ramvok というゲーム一回分について考えよう:ゲーム終了までの最大のターン数を t で表す.\nt = 0 となった時, ゲームは即座に終了する.\nそれ以外の時は, それぞれの i 回目のターンに, プレイヤーはサイコロを一つ投げる.\n投げたあと, もし i < t の時は, プレイヤーはゲームをやめるか, 出たサイコロの目と同額の賞金を受け取るか, 出た目を捨てて次のターンに挑戦することができる.\nもし i = t のときは, 出た目を捨てることはできず賞金を受け取らなければならない.\nゲーム開始前, プレイヤーは t を選び, ある定数 c に対して ct となる前金を支払う必要がある.\n偏りのない d 面のサイコロとコスト定数 c が与えられ, Ramvok を最適に行った時に一回のゲームでプレイヤーが受け取ることになる期待利益 (すなわち純利益) を R(d, c) としよう.\n例えば, R(4, 0.2) = 2.65 となる.\nプレイヤーはどんな前金でも支払えるだけの十分な資金を持っていると仮定する.ここで Super Ramvok というゲームを考えよう:Super Ramvok では, Ramvok を繰り返し行うが, 若干の変更点がある.\nそれぞれのゲームのあと, サイコロを変更する.\n変更の手順は次の通り:\nサイコロが投げられるたびに, サイコロの出た目が見えている場合は, 代わりに空白へと変更される.\nもし出た目がすでに空白となっている時は, 元の目へと再び変更される.\n変更が終了し次第, 次の Ramvok ゲームを開始できる (そしてゲームの最中, それぞれのターンで, サイコロは見える目が出るまで投げ続けられる).\nプレイヤーは常にどの目が空白でどの目がそうでないかを把握している.\nサイコロのすべての目が空白になった時点で Super Ramvok のゲームは終了となる.偏りのない d 面のサイコロ (開始時はすべての目が見えている) とコスト定数 c が与えられ, Super Ramvok を最適に行った時に一回のゲームでプレイヤーが受け取ることになる期待利益を S(d, c) としよう.\n例えば, S(6, 1) = 208.3 となる.F(n) = ∑4≤d≤n ∑0≤c≤n S(d, c) とする.F(20) を計算し, 最も近い整数に四捨五入せよ."},"471":{"title":"楕円に内接する三角形","body":"三角形 ΔABC は整数 a, b に対し 0 < 2b < a において方程式  を持つ楕円に内接している.三角形 ΔABC の内接円の中心が (2b, 0) で点Aの座標が  のときの 三角形 ΔABC の内接円の半径を r(a,b) としよう.例えば, r(3,1) = ½, r(6,2) = 1, r(12,3) = 2. としよう.G(10) = 20.59722222, G(100) = 19223.60980 がすでに与えられている (有効数字が10桁になるよう四捨五入).G(1011) を求めよ.回答は有効数字が10桁になるよう四捨五入し科学的記数法によって答えよ. 仮数部と指数部のセパレーターには小文字のeを使うこと.G(10) の場合, 回答は 2.059722222e1 となる."},"472":{"title":"気楽な距離 II","body":"N 個の一列に並んだ座席がある. N 人の人たちが以下のルールに従って次々に座席を埋めていく:ルール1により, 座席のいくつかは確実に空いたままとなり, 座席に座ることのできる最大人員は N 未満となる (N > 1 のとき).N = 15 の時に可能な席順は以下の通り:最初の人が正しく選択すれば, 15個の座席なら7人が座れることがわかる.\nまた最初の人は座れる人数を最大にする選択肢を9つ持っていることがわかる.一列に並んだ N 個の座席に対し最初の人が座席に座れる人数を最大にできる選択肢の数を f(N) としよう.f(15) = 9, f(20) = 6, そして f(500) = 16.また,  1 ≤ N ≤ 20 に対し ∑f(N) = 83, そして 1 ≤ N ≤ 500 に対し ∑f(N) = 13343.1 ≤ N ≤ 1012 における ∑f(N) を求めよ. 回答として末尾8桁を答えよ."},"473":{"title":"φ-進数","body":"φ を黄金比: φ = 1+√5/2 としよう.\n注目すべきことに, たとえその和の中ですべてのべき乗を最大一回しか使ってはならないとしても, φ のべき乗の和ですべての正整数を表すことができる.\nだがこの場合でさえ表し方は一意とはならない.\n指数が連続するようなべき乗がないようにし, かつその表現が有限であるとした時に表し方を一意にすることができる.\n例: 2 = φ + φ-2, そして 3 = φ2 + φ-2この φ のべき乗の和を表現するため, 0 と 1, そして負の指数が始まる部分を表す小数点からなる文字列を使おう.\nこの表記法をφ-進数と呼ぼう.\nしたがってこのようになる, 1 = 1φ, 2 = 10.01φ, 3 = 100.01φ そして 14=100100.001001φ.\nφ-進数によって 1, 2, 14 を表した文字列は回文になっており, 3 の場合はそうはならない (φ-進小数点が中心の文字とならない).1000 以下の正整数でφ-進表記法が回文となる数の和は 4345 となる.1010 以下の正整数でφ-進表記法が回文となる数の和を求めよ."},"474":{"title":"約数の末尾","body":"正整数 n と桁の数 d に対し, 末尾が d と等しい n の約数の個数を F(n, d) を定義しよう.\n例えば, F(84, 4) = 3. 84 の約数 (1, 2, 3, 4, 6, 7, 12, 14, 21, 28, 42, 84) のうち, 3つの約数 (4, 14, 84) の末尾が 4 を持つ.F(12!, 12) = 11, そして F(50!, 123) = 17888.F(106!, 65432) modulo (1016 + 61) を求めよ."},"475":{"title":"音楽祭","body":"12n 人の演奏家が音楽祭に参加している. 初日, 彼らは 3n 組のカルテットを作り終日練習に励んだ.そして大変な事になった. その日の終わりになって全ての演奏家が, 組んでいたカルテットのどのメンバーとも二度と演奏しないことに決めたのだ.次の日, 彼らは 4n 組のトリオを作り, それぞれの演奏家は以前のカルテットのパートナーと組むのを避けた.12n の演奏家たちでトリオを編成する方法の数を f(12n) としよう.f(12) = 576, そして f(24) mod 1 000 000 007 = 509089824 が与えられている.f(600) mod 1 000 000 007 を求めよ."},"476":{"title":"円充填 II","body":"辺の長さが a, b, そして c の三角形の内部を重なることのない3つの円で覆うことのできる最大の面積を R(a, b, c) としよう.1 ≤ a ≤ b ≤ c < a + b ≤ n となるような全ての整数の三つ組 (a, b, c) に対する R(a, b, c) の平均値を S(n) としよう.S(2) = R(1, 1, 1) ≈ 0.31998, S(5) ≈ 1.25899 が与えられている.S(1803) を求め, 小数点以下5桁になるよう四捨五入して答えよ."},"477":{"title":"数列ゲーム","body":"数列ゲームは一列に書かれた N 個の数からなる数列 S から始まる.2人のプレーヤーが交互にターンを交代する. ターンが来ると, プレーヤーは数列に存在する先頭か末尾の数のどちらかを選択し取り除く.プレーヤーの得点は取り除いた全ての数の合計となる. それぞれのプレーヤーは自身の得点の合計を最大化するよう努める.N = 4, そして S = {1, 2, 10, 3} のとき, 以下のようにそれぞれのプレーヤーは自身の得点を最大にしていく:プレーヤー 1 の得点は 1 + 10 = 11 となる.下記のように定義された数列 S = {s1, s2, ..., sN} においてプレーヤー双方が最適な戦略に従った時のプレーヤー 1 の得点を F(N) としよう:この数列は S =  {0, 45, 2070, 4284945, 753524550, 478107844, 894218625, ...} から始まる.F(2) = 45, F(4) = 4284990, F(100) = 26365463243, F(104) = 2495838522951 が与えられている.F(108) を求めよ."},"478":{"title":"混合物","body":"3つの材料 A, B, C の混合物について考えよう. 混合は混合物中の A, B, C の量に対する比率で表すことができる. すなわち, (a : b : c). 例えば, 比率 (2 : 3 : 5) で表される混合物は20%の A, 30%の B, そして50%の C を含有する.この問題では, 混合物から個々の成分を分離することはできない. しかしその一方, 新しい比率を持つ混合物を作るために様々な混合物を様々な量で混合することができる.例えば, (3 : 0 : 2), (3 : 6 : 11), (3 : 3 : 4) の比率を持つ3つの混合物があるとしよう. 1番目の混合物を10ユニット, 2番目の混合物を20ユニット, 3番目の混合物を30ユニット使って混ぜ合わせると, (6 : 5 : 9) の比率を持つ混合物が得られる.\n(10·3/5 + 20·3/20 + 30·3/10 : 10·0/5 + 20·6/20 + 30·3/10 : 10·2/5 + 20·11/20 + 30·4/10) = (18 : 15 : 27) = (6 : 5 : 9)一方, この3つの混合物を使って (3 : 2 : 1) の比率にすることはできない, というのも B の量が常に C の量よりも少なくなるからだ.正の整数 n を定義しよう.  3つの整数 (a, b, c) に対し 0 ≤ a, b, c ≤ n,  gcd(a, b, c) = 1 となるような (a, b, c) の比率を持つ混合物があると仮定する. そのような全ての混合物の集合を M(n) としよう.例えば, M(2) には以下に示す比率を持つ19個の混合物が含まれる.\n{(0 : 0 : 1), (0 : 1 : 0), (0 : 1 : 1), (0 : 1 : 2), (0 : 2 : 1),\n(1 : 0 : 0), (1 : 0 : 1), (1 : 0 : 2), (1 : 1 : 0), (1 : 1 : 1),\n(1 : 1 : 2), (1 : 2 : 0), (1 : 2 : 1), (1 : 2 : 2), (2 : 0 : 1),\n(2 : 1 : 0), (2 : 1 : 1), (2 : 1 : 2), (2 : 2 : 1)}.比率 (1 : 1 : 1), すなわち A, B, C が等しく含まれる混合物を作成できる M(n) の部分集合の個数を E(n) としよう.\nE(1) = 103, E(2) = 520447, E(10) mod 118 = 82608406, そして E(500) mod 118 = 13801403 が与えられている.\nE(10 000 000) mod 118 を求めよ."},"479":{"title":"増加する根","body":"式 1/x = (k/x)2(k+x2) - kx の3つの解(実数か複素数)を ak, bk, ck で表すとしよう.例えば. k = 5 の場合, {a5, b5, c5} はおよそ {5.727244, -0.363622+2.057397i, -0.363622-2.057397i} となる.1 ≤ p, k ≤ n となるようなすべての整数 p, k に対し S(n) = Σ (ak+bk)p(bk+ck)p(ck+ak)p としよう.面白いことに, S(n) は常に整数となる. 例えば, S(4) = 51160.S(106) modulo 1 000 000 007 を求めよ."},"480":{"title":"最後の質問","body":"下記のフレーズから, 文字を選択して作る事ができる全ての単語について考えよう:15文字ないしそれ以下の単語がアルファベット順にリストされ, 1から順番に番号付けされているとしよう.そのリストはこのようになる:\n　　1 : a\n　　2 : aa\n　　3 : aaa\n　　4 : aaaa\n　　5 : aaaaa\n　　6 : aaaaaa\n　　7 : aaaaaac\n　　8 : aaaaaacd\n　　9 : aaaaaacde\n　　10 : aaaaaacdee\n　　11 : aaaaaacdeee\n　　12 : aaaaaacdeeee\n　　13 : aaaaaacdeeeee\n　　14 : aaaaaacdeeeeee\n　　15 : aaaaaacdeeeeeef\n　　16 : aaaaaacdeeeeeeg\n　　17 : aaaaaacdeeeeeeh\n　　...\n　　28 : aaaaaacdeeeeeey\n　　29 : aaaaaacdeeeeef\n　　30 : aaaaaacdeeeeefe\n　　...\n　　115246685191495242: euleoywuttttsss\n　　115246685191495243: euler\n　　115246685191495244: eulera\n　　...\n　　525069350231428029: ywuuttttssssrrr単語 w の位置を P(w) と定義する.\n位置 p の単語を W(p) と定義する.\nP(w) と W(p) は逆元になっていることがわかる: P(W(p)) = p,そして W(P(w)) = w.例:　　W(10) = aaaaaacdee\n　　P(aaaaaacdee) = 10\n　　W(115246685191495243) = euler\n　　P(euler) = 115246685191495243W(P(legionary) + P(calorimeters) - P(annihilate) + P(orchestrated) - P(fluttering)) を求めよ.\n回答は小文字を使用して答えよ. (句読点やスペース無しで)"},"481":{"title":"シェフの決戦","body":"シェフのグループ (#1,#2 と番号付けされている) がターン制の料理競技会に参加している.\nそれぞれのシェフの出番になると, シェフはベストを尽くして料理を作り, 味の審査のため個別の審査団に料理を提供する. #k のシェフの技術レベル (あきらかにはなっていない) を S(k) で表すとしよう.\n具体的に言うと, S(k) とは #k のシェフの料理が (どのターンにおいても) 審査団によって高評価される可能性である.\nもしシェフが高評価を受けると, そのシェフは競技会からふるい落とされる別のシェフを選ばなければならない.\n最後に残ったシェフが勝者となる.競技会は #1 のシェフから開始され, 競技の順番は他の勝ち残ったシェフに順次適用される.\nそしてこの一連のサイクルは一番番号の小さいシェフから繰り返される.\n全てのシェフは, 他のシェフたちが同様に振る舞うと仮定して, 決められたルール内で勝つチャンスを最適化することを目標としている.\nあるシェフが同様に最適となるひとつ以上のふるい落とそうとする選択肢を持つ場合には, 選択されるシェフは最も直前に出番となるシェフとなると仮定する.n 人の競技会で #k のシェフが勝つ可能性を Wn(k) と定義しよう.\nもし S(1) = 0.25, S(2) = 0.5, そして S(3) = 1 であれば, W3(1) = 0.29375 となる.すべての 1 ≤ k ≤ n に対し S(k) = Fk/Fn+1 とする, ここで Fk はフィボナッチ数: 初期状態 F1 = F2 = 1 に対し Fk = Fk-1 + Fk-2.\n例として, n = 7, つまり7人のシェフによる競技会を考えた時, それぞれを小数点以下8桁となるよう四捨五入すると, W7(1) = 0.08965042, W7(2) = 0.20775702, W7(3) = 0.15291406, W7(4) = 0.14554098, W7(5) = 0.15905291, W7(6) = 0.10261412, W7(7) = 0.14247050 となる.n 人のシェフによる競技会で作られる料理の期待数を E(n) で表すとしよう.\n例として, E(7) = 42.28176050.小数点以下8桁となるよう四捨五入した E(14) を求めよ."},"482":{"title":"三角形の内心","body":"辺の長さが整数の三角形 ABC があり, その内心を I, 周長を p とする.\nその上, 線分 IA, IB, IC も整数の長さを持つ.L = p + |IA| + |IB| + |IC| としよう.p ≤ P となるような全ての三角形に対して S(P) = ∑L としよう. 例えば, S(103) = 3619.S(107) を求めよ."},"483":{"title":"反復置換","body":"要素 {1, 2, 3, ..., n} の順番を並べ替える操作を置換と定義しよう.\nそのような置換は n! 個あり, そのうちの1つはそれらの要素を当初の順番のままにしておく.\nn = 3 のとき 3! = 6 個の置換がある:これらの置換から一つを選び, 同じ置換を繰り返し再適用すると, 最終的に当初の順番に戻る. ある置換 Pi に対し, 置換 Pi を繰り返し適用して当初の順番に戻るまでに必要な回数を f(Pi) としよう.\nn = 3 のとき, このようになる:長さ n の全ての置換 Pi に対し f2(Pi) の平均値を g(n) としよう.g(3) = (12 + 22 + 22 + 22 + 32 + 32)/3! = 31/6 ≈ 5.166666667e0\ng(5) = 2081/120 ≈ 1.734166667e1\ng(20) = 12422728886023769167301/2432902008176640000 ≈ 5.106136147e3g(350) を求め, 有効数字が10桁になるよう四捨五入して科学的記数法によって回答を記入せよ, 例のように仮数部と指数部のセパレーターには小文字のeを使うこと."},"484":{"title":"算術微分","body":"算術微分 (arithmetic derivative) は次のように定義される,例えば, 20' = 24.1 < k ≤ 5·1015 における ∑ gcd(k,k') を求めよ.注記 : gcd(x,y) は x と y の最大公約数を意味する."},"485":{"title":"約数の最大数","body":"n の約数の個数を d(n) としよう.\nn ≤ j ≤ n+k-1 における d(j) の最大値を M(n,k) としよう.\n1 ≤ n ≤ u-k+1 における M(n,k) の和を S(u,k) としよう.S(1000,10)=17176 が与えられている.S(100 000 000,100 000) を求めよ."},"486":{"title":"回文を含む文字列","body":"以下のような文字列 s の個数を F5(n) としよう:例えば, F5(4) = 0, F5(5) = 8, F5(6) = 42, そして F5(11) = 3844.5 ≤ n ≤ L における整数 n に対し, F5(n) が 87654321 で割り切れるような n の個数を D(L) としよう.例えば, D(107) = 0, D(5·109) = 51.D(1018) を求めよ."},"487":{"title":"べき乗和の和","body":"先頭から n 個の正整数の k 乗の和を fk(n) としよう.例えば, f2(10) = 12 + 22 + 32 + 42 + 52 + 62 + 72 + 82 + 92 + 102 = 385.1 ≤ i ≤ n における fk(i) の和を Sk(n) としよう. 例えば, S4(100) = 35375333830.2 ⋅ 109 から 2 ⋅ 109 + 2000 の間にある全ての素数 p における S10000(1012) modulo p の和はいくつになるか?"},"488":{"title":"不安定な Nim","body":"アリスとボブは毎日 Nim をプレイして楽しく過ごしている. しかし, 彼らはついに通常の3つの山を使う Nim に飽きてしまった.\nそこで, 彼らは特別ルールを追加した:3つの山の大きさを3つ組み (a, b, c) で表示する.\nこの特別ルールのもとでは, (2, 4, 5) は後手必勝となる山の配置の1つである.以下に示すように:通常の3つの山を使う Nim と違い, (0, 1, 2), そしてこれを並べ替えた配列がこのゲームの最終状態となる.整数 N に対し,  0 < a < b < c < N において, すべての後手必勝の山の配置による a + b + c の和を F(N) としよう.例えば, F(8) = 42, なぜなら4つの後手必勝の配置がある, (1,3,5), (1,4,6), (2,3,6), (2,4,5).\nまた F(128) = 496062 であることがわかる.S(1018) の末尾9桁を求めよ."},"489":{"title":"2つの数列の間の公約数","body":"gcd(n3 + b, (n + a)3 + b)) (ここで gcd は最大公約数の意)が最大となるような最小の非負整数 n を G(a, b) としよう.\n例えば, G(1, 1) = 5 となる, なぜなら (n3 + 1, (n + 1)3 + 1)) は n = 5 のときに最大値 7 となり,  0 ≤ n < 5 のときにはより小さくなる.\n1 ≤ a ≤ m, 1 ≤ b ≤ n における Σ G(a, b) を H(m, n) としよう.\nH(5, 5) = 128878, H(10, 10) = 32936544 が与えられている.H(18, 1900) を求めよ."},"490":{"title":"ジャンプするカエル","body":"ある池に n 個の石があり, 1 から n まで番号付けされている. 石は連続して1単位ごと間隔を置いて配置されている.カエルが1の石に座っている. カエルはそれぞれの石を一度だけ訪れて, n の石で止まりたい. しかし, カエルは一つの石から別の石へは高々3単位離れたところにのみジャンプできる. 言い換えると, i の石からカエルは 1 ≤ j ≤ n となるような j の石に到達できるとすると, j は集合 {i-3, i-2, i-1, i+1, i+2, i+3} の要素となる.カエルが行える移動方法の数を f(n) としよう. 例えば, 以下に示すように, f(6) = 14 となる:\n1 → 2 → 3 → 4 → 5 → 6\n1 → 2 → 3 → 5 → 4 → 6\n1 → 2 → 4 → 3 → 5 → 6\n1 → 2 → 4 → 5 → 3 → 6\n1 → 2 → 5 → 3 → 4 → 6\n1 → 2 → 5 → 4 → 3 → 6\n1 → 3 → 2 → 4 → 5 → 6\n1 → 3 → 2 → 5 → 4 → 6\n1 → 3 → 4 → 2 → 5 → 6\n1 → 3 → 5 → 2 → 4 → 6\n1 → 4 → 2 → 3 → 5 → 6\n1 → 4 → 2 → 5 → 3 → 6\n1 → 4 → 3 → 2 → 5 → 6\n1 → 4 → 5 → 2 → 3 → 6他の例として, f(10) = 254, そして f(40) = 1439682432976.1 ≤ n ≤ L に対し S(L) = ∑ f(n)3 としよう.\n例えば:\nS(10) = 18230635\nS(20) = 104207881192114219\nS(1 000) mod 109 = 225031475\nS(1 000 000) mod 109 = 363486179S(1014) mod 109 を求めよ."},"491":{"title":"11で割り切れるダブルパンデジタル数","body":"0から9の数字をちょうど2回使った(先行ゼロのない)正整数をダブルパンデジタル数と呼ぼう. 例えば, 40561817703823564929 はそのような数の一つである.11で割り切れるダブルパンデジタル数はいくつあるか?"},"492":{"title":"爆発的に増える数列","body":"数列 a1, a2, a3, ... は以下のように定義される:例として:\na3 = 2359\na6 = 269221280981320216750489044576319\na6 mod 1 000 000 007 = 203064689\na100 mod 1 000 000 007 = 456482974x ≤ p ≤ x+y における全ての素数 p に対する ∑ (an mod p) を B(x,y,n) としよう.例として:\nB(109, 103, 103) = 23674718882\nB(109, 103, 1015) = 20731563854B(109, 107, 1015) を求めよ."},"493":{"title":"虹の下で","body":"壺の中に70個の色の付いたボールが入っていて, そのうちの10個がそれぞれ虹の7色となっている.\nランダムに20個のボールを取り出した時の異なる色の期待数はいくつになるか?\n小数点以下9桁にして(a.bcdefghij の形式で)答えよ."},"494":{"title":"コラッツプレフィックスファミリー","body":"コラッツ数列は次のように定義される: コラッツ予想ではいかなる正の整数から始めても, この数列は最終的に 1,4,2,1... という周期に入るとされている.\na1 = n から始まるコラッツ数列のうち, 2のべき乗でない数 (この問題では 20 = 1 は2のべき乗と見なす) からなる部分数列を, その数列の先頭の数(プレフィックス)を使って p(n) で表し, これを「数列プレフィックス」と定義する. 例えば:\np(13) = {13, 40, 20, 10, 5}\np(8) = {}\nこのコラッツ予想を無効にする数があった場合はこの部分数列は無限の長さを持つことになる.長さ m を持つすべての数列プレフィックスの集合を Sm としよう. Sm 内の2つの数列 {a1, a2, ..., am} と {b1, b2, ..., bm} が, 1 ≤ i, j ≤ m において ai < aj の時に限り bi < bj となっている場合, この数列は同じプレフィックスファミリーに属すると言うことにする.例えば, 集合 S4 内では, {6, 3, 10, 5} は {454, 227, 682, 341} と同じファミリーに属するが, {113, 340, 170, 85} はそうではない.\nSm 内の異なるプレフィックスファミリーの個数を f(m) と定義しよう.\nf(5) = 5, f(10) = 55, f(20) = 6771 が与えられている.f(90) を求めよ."},"495":{"title":"k個の異なる正の整数の積としてnを書き表す","body":"k 個の異なる正の整数の積として n を書き表す方法の数を W(n,k) としよう.例えば, W(144,4) = 7 となる. 4つの異なる正の整数の積として144を書き表す方法は7つある:整数の順序を並び替えたものは異なるものとは考えないことに注意.さらに, W(100!,10) modulo 1 000 000 007 = 287549200.W(10000!,30) modulo 1 000 000 007 を求めよ."},"496":{"title":"三角形の内心と外心","body":"整数の辺を持つ三角形 ABC が次のように与えられる:\n三角形 ABC の内心を I としよう.\n三角形 ABC の外接円と線分 AI との交点を D としよう(A ≠ D).AC = DI, かつ BC ≤ L を満たす三角形 ABC の BC の長さの総和を F(L) と定義する.例えば, F(15) = 45, なぜなら辺の長さがそれぞれ (BC,AC,AB) = (6,4,5), (12,8,10), (12,9,7), (15,9,16) となる三角形 ABC がこの条件を満たす.F(109) を求めよ."},"497":{"title":"酔いどれハノイの塔","body":"3本の直立した棒と, その棒に差し入れることのできる異なる大きさの複数の円盤からなる, 有名な数学パズル「ハノイの塔」についてボブはとても詳しい.\nこのゲームは一番左の棒に大きい順に n 個の円盤が入れられた状態から始まる.\n以下のルールによって一番左の棒から一番右の棒まで円盤をすべて移動させるのがゲームの目的である:このゲームの変形版として, 1 から k の昇順に番号付けされた, k 区画(真四角のタイル)からなる細長い部屋を考えよう.\n3本の棒は区画 a, b, c に置かれ, n 個の円盤からなる山が a 区画の棒に置かれている.ボブは区画 b に立ってゲームを開始する.\n彼の目的は区画 c の棒にすべての円盤を移動してハノイの塔をプレイすることだ.\nただし, ボブはお目当てとなる棒や円盤の山がある区画の上にいる時にのみ円盤を拾い上げるか置くことができる.残念なことに, さらにボブは酔っ払ってもいる.\nこの移動では, ボブは同じ確率で1つ左の区画か1つ右の区画かのどちらかによろめいてしまう, ただしボブが部屋の端にいるときにかぎり, 彼は1方向にのみ移動できる.\nボブはほろ酔い気分であるにもかかわらず, このようなゲームのルールに従い, 円盤を拾い上げ置いたりする円盤を選択することができる.以下のアニメーションは例として n = 3, k = 7, a = 2, b = 4, c = 6 の場合のゲームを横から見たところを表現したものである.最適にプレイされた1回のゲームの期間中にボブが移動する区画の最小期待数を E(n,k,a,b,c) としよう.\nゲームは円盤の拾い上げた回数が最小の時に最適にプレイされる.大変興味深いことに, その結果は常に整数となる.\n例えば, E(2,5,1,3,5) = 60, そして E(3,20,4,9,17) = 2358.∑1≤n≤10000 E(n,10n,3n,6n,9n) の下9桁を求めよ."},"498":{"title":"多項式除算の剰余","body":"正整数 n と m に対し, 2つの多項式 Fn(x) = xn と Gm(x) = (x-1)m を定義しよう.\nさらに Fn(x) を Gm(x) で割った剰余を多項式 Rn,m(x) と定義する.\n例えば, R6,3(x) = 15x2 - 24x + 10.Rn,m(x) の d 次項の係数の絶対値を C(n, m, d) としよう.\nC(6, 3, 1) = 24, そして C(100, 10, 4) = 227197811615775 であることが確認できる.C(1013, 1012, 104) mod 999999937 を求めよ."},"499":{"title":"サンクトペテルブルグの賭け","body":"博打打ちがある特別な賭けに参加することを決めた.\nこの賭けでは, 博打打ちは1回かそれ以上の一連のゲームをプレイする.\nそれぞれのゲームではプレイするのに m ポンドのコストがかかり, 最初の賭け金は1ボンドからスタートする.\n博打打ちは偏りのないコインを1個投げる.\n表が出るたびに賭け金は2倍となり, 博打打ちはゲームを続ける.\n裏が出たら, ゲームは終了し博打打ちはその時点の賭け金を受け取る.\n博打打ちは少なくとも, ゲームの初期費用である m ポンドのコストを賭けて, 開始時の賭け金である1ポンドを必ず手に入れることができる.もし博打打ちの手持ちの財産が m ポンド以下となると, プレイし続けることができなくなる.\n博打打ちの持っている財産を s, ゲームごとのコストを m とした時, この賭けでお金を使い果たす(訳注: ここでは手持ちの財産が m ポンド以下になりゲームを続けられなくなることを指す. フォーラム参照のこと.)ことのない場合の確率を pm(s) と表そう.\n例として, p2(2) = 0.2522, p2(5) = 0.6873, そして p6(10 000) = 0.9952 (注記: s < m のとき, pm(s) = 0).p15(109)を求め, 回答を小数点以下7桁までとなるよう四捨五入し 0.abcdefg の形式で答えよ."},"500":{"title":"500問目!!!","body":"120 の約数の個数は 16 である.\n事実, 120 は 16 個の約数を持つ最小数である.2500500 個の約数を持つ最小数を求めよ.\n回答を modulo 500500507 にして答えよ."},"501":{"title":"8個の約数","body":"24 の約数は 8 個ある, 1, 2, 3, 4, 6, 8, 12, 24.\n100 以下で, ちょうど8個の約数を持っている数は 10 個ある, 24, 30, 40, 42, 54, 56, 66, 70, 78,  88.\nちょうど 8 個の約数を持つ n 以下の数の個数を f(n) としよう.\nf(100) = 10, f(1000) = 180, そして f(106) = 224427.\nf(1012) を求めよ."},"502":{"title":"城の数え上げ","body":"高さが 1, そして整数値の長さを持つ直方体からなるブロックを定義しよう. そして積み重ねたブロックの配置を城と呼ぶことにする.w の幅と h の高さを持つゲーム盤が与えられており, 城は以下のルールに従って生成される:下記にあるのは w=8 そして h=5 のときの城の例である:格子の変数 w, h が与えられた時の条件を満たす城の個数を F(w,h) で表すとしよう.例として, F(4,2) = 10, F(13,10) = 3729050610636, F(10,13) = 37959702514, そして  F(100,100) mod 1 000 000 007 = 841913936.(F(1012,100) + F(10000,10000) + F(100,1012)) mod 1 000 000 007 を求めよ."},"503":{"title":"一か八か","body":"アリスは 1 から n までの番号が付いた n 枚のカードを使ってゲームを遊んでいる.このゲームは以下のようなステップの繰り返しから構成されている.\n(1) アリスはランダムにカードの山から一枚を選ぶ.\n(2) アリスはそのカードの数字を見ないでおく. 代わりに友人のボブがその数字を見て, 今までに見た数字の中で今見ている数字よりも大きいものが何個あるかをアリスに伝える.\n(3) アリスはゲームを終えるか続けることができる. もし終了することを選ぶと, 現在の数字が彼女の点数となる. もし続けることを選ぶと, 選んだカードを捨てて (1) のステップに戻る. カードが残っていなければ, 強制的にゲーム終了となる.アリスが点数を最小化するよう最適な戦略を取った時の点数の期待値を F(n) としよう.例えば, F(3) = 5/3 となる. 最初のターンでは, アリスはゲームを続けたほうが良い. 次のターンでは, ボブが今見ている数字よりも大きな今までに見た数字が1つあると伝えた時はゲームを終えたほうが良く, そうでなければゲームを続けたほうが良い.F(4) = 15/8, そして F(10) ≈ 2.5579365079 であることを確かめることができる.F(106) を求めよ. 回答は小数点以下が10桁となるよう四捨五入して答えよ."},"504":{"title":"四角内部の平方","body":"その頂点が以下のような座標軸の格子点に置かれている四辺形を ABCD としよう:A(a, 0), B(0, b), C(−c, 0), D(0, −d), ここで  1 ≤ a, b, c, d ≤ m, そして a, b, c, d, m は整数とする.m = 4 のとき, ABCD を描く方法の数がちょうど 256 個あることがわかる. その 256 個の四辺形のうち厳密に平方数個の格子点を含む(訳注:四辺形の辺の上に位置する格子点は含まないものとする)ものは 42 個ある.m = 100 のとき, 厳密に平方数個の格子点を含む四辺形 ABCD は何個あるか?"},"505":{"title":"双方向再帰","body":"以下のように定義する:以下のように与えられる:x(2) = 3\nx(3) = 2\nx(4) = 11\ny4(4) = 11\ny4(3) = 260 - 9\ny4(2) = 260 - 12\ny4(1) = A(4) = 8\nA(10) = 260 - 34\nA(103) = 101881A(1012) を求めよ."},"506":{"title":"時計数列","body":"この桁が無限に繰り返される数列について考えよう:\n1234321234321234321....驚くべきことに, この桁の数列を, n 番目の数の桁の和が n になるような整数の数列に分けることができる.その数列は以下のようになる:\n1, 2, 3, 4, 32, 123, 43, 2123, 432, 1234, 32123, ...この数列の n 番目の値を vn としよう. 例えば, v2 = 2, v5 = 32, v11 = 32123.v1 + v2 + ... + vn を S(n) としよう. 例えば S(11) = 36120, そして S(1000) mod 123454321 = 18232686.S(1014) mod 123454321 を求めよ."},"507":{"title":"最短の格子ベクトル","body":"以下のように定義される トリボナッチ数 を tn としよう:t0 = t1 = 0;\nt2 = 1;\ntn = tn-1 + tn-2 + tn-3 (n ≥ 3 のとき)\nそして rn = tn mod 107 としよう.一組のベクトル Vn = (v1,v2,v3) と Wn = (w1,w2,w3) それぞれに対し、v1 = r12n−11 − r12n−10, v2 = r12n−9 + r12n−8, v3 = r12n−7⋅r12n−6\nw1 = r12n−5 − r12n−4, w2 = r12n−3 + r12n−2, w3 = r12n−1⋅r12n(k,l) ≠ (0,0) となるような任意の整数 k と l に対し, |k⋅v1 + l⋅w1| + |k⋅v2 + l⋅w2| + |k⋅v3 + l⋅w3| で計算されるベクトル D = k⋅Vn + l⋅Wn のマンハッタン距離の最小値を S(n) としよう.\n最初のベクトルの組は (-1, 3, 28), (-11, 125, 40826) になる.\nS(1) = 32, そして  130762273722 が与えられている.\n を求めよ."},"508":{"title":"i-1進数の整数","body":"ガウス整数 i-1 について考えよう. ガウス整数 a+bi のi-1進数表現とは, 以下のような数字列 dn-1dn-2...d1d0 からなる有限数列である:ガウス整数のi-1進数表現は以下のようになる:11+24i → 111010110001101\n24-11i → 110010110011\n8+0i → 111000000\n−5+0i → 11001101\n0+0i → 0意外なことに, 全てのガウス整数は一意のi-1進数表現を持っている.a+bi の一意なi-1進数表現内の 1 の個数を f(a+bi) としよう. 例えば f(11+24i) = 9, f(24-11i) = 7.|a| ≤ L, そして |b| ≤ L となるような全ての整数 a, b に対する f(a+bi) の和を B(L) としよう. 例えば, B(500) = 10795060.B(1015) mod 1 000 000 007 を求めよ."},"509":{"title":"約数Nim","body":"アントンとバートランドは3山のNimをプレイするのが大好きである.\nしかし, Nimを遊びすぎて飽きてしまい, 若干ルールを変更することにした.\n現在山にある石の数の真約数となる数だけ石を山から取ることができる.\n例えば, ある時点で山に24個の石がある場合, その山からは 1,2,3,4,6,8,12 の個数の石を取ることができる.\nそして山が1個の石だけになったら, 1は1の真約数ではないので, 最後の石は取ることができない.\n適切な行動が取れなくなった最初のプレーヤーが負けとなる.\nもちろんアントンとバートランドは最善の方法でゲームをプレイする.3山の石の数を3つ組 (a,b,c) で示す.\n1 ≤ a, b, c ≤ n に対し後手必勝となる場合の数を S(n) としよう.\nS(10) = 692, そして S(100) = 735494.S(123456787654321) modulo 1234567890 を求めよ."},"510":{"title":"3つの接する円","body":"円 A と B がお互いに, そして線分 L と異なる3点で接している.\n円 C が A, B, L の内部空間にあり, それぞれ3つすべてに接している.\nA, B, C の半径をそれぞれ rA, rB, rC としよう.0 < rA ≤ rB ≤ n に対し S(n) = Σ rA + rB + rC としよう, ここで rA, rB, rC は整数とする.\n0 < rA ≤ rB ≤ 5 の時の唯一の解は rA = 4, rB = 4, そして rC = 1, したがって S(5) = 4 + 4 + 1 = 9 となる.\nまた S(100) = 3072 が与えられている.S(109) を求めよ."},"511":{"title":"素敵な整除性を持つ数列","body":"以下のような長さ n を持つ正整数の数列 {ai}1≤i≤n の個数を Seq(n,k) としよう:例えば:Seq(3,4) = 4, そしてその4つの数列は:\n{1, 1, 3}\n{1, 3, 1}\n{3, 1, 1}\n{3, 3, 3}Seq(4,11) = 8, そしてその8つの数列は:\n{1, 1, 1, 4}\n{1, 1, 4, 1}\n{1, 4, 1, 1}\n{4, 1, 1, 1}\n{2, 2, 2, 1}\n{2, 2, 1, 2}\n{2, 1, 2, 2}\n{1, 2, 2, 2}Seq(1111,24) の末尾9桁は 840643584 となる.Seq(1234567898765,4321) の末尾9桁を求めよ."},"512":{"title":"べき乗のトーシェント数の和","body":"オイラーのトーシェント関数を φ(n) としよう. としよう. としよう.g(100) = 2007 となる.g(5 × 108) を求めよ."},"513":{"title":"整数中線","body":"a ≤ b ≤ c となる整数辺を持つ三角形 ABC がある.\n線分 AB の中点と点 C を結ぶ中線を mc とする.\nc ≤ n であり, さらに mc が整数の長さを持つような三角形の数を F(n) としよう.\nF(10)=3, そして F(50)=165.F(100000) を求めよ."},"514":{"title":"ジオボードの形状","body":"(N次の)ジオボードとは, 表面からピンが等間隔に突き出ていて, それらが座標 0 ≤ x,y ≤ N における整数の格子点を表す正方形のボードである.ジョンがピンのないジオボードに取り掛かっている. ボードのそれぞれの位置にはピンを入れることのできる穴が開いている. ジョンはジオボードのそれぞれの穴に対し 1 から N+1 (を含む)の間のランダムな数を生成することに決める. もしある穴に対しそのランダムな数が 1 に等しければ, その穴にピンが差し込まれる.こうしてジョンは全ての (N+1)2 個の穴に対し数を生成し, それに対応するピンを配置し終えると, そのボードから突き出ているピン全体を囲むようにピンと張られたゴムバンドを掛けていく. こうして形成される形状を S と表すことにしよう. また S は全てのピンを含む最小の凸形状と定義することができる.上記の画像は N = 4 の場合の見本となる配置を表現したものである. 緑の目印はピンが配置されている位置を示しており, 青い線全体がゴムバンドを表している. この見本の場合の配置では, S の面積は 6 になる. もしボード上のピンが3個以下(あるいはすべてのピンが同一線分上にある)ならば, Sの面積は0であると見なすことができる.1個のN次のジオボードによって与えられる S の面積の期待値を E(N) としよう. 小数点以下5桁となるよう四捨五入すると, E(1) = 0.18750, E(2) = 0.94335, そして E(10) = 55.03013 となる.小数点以下5桁となるよう四捨五入した E(100) を計算せよ."},"515":{"title":"不協和数","body":"素数 p を法としたときの n の逆数を d(p,n,0) としよう、つまり n × d(p,n,0) = 1 mod p と定義される.\nk ≥ 1 となるような k に対し d(p,n,k) =  d(p,i,k-1) としよう.\na ≤ p < a + b となるような全ての素数 p に対し D(a,b,k) = Σ(d(p,p-1,k) mod p) としよう.次のように与えられている:D(109,105,105) を求めよ."},"516":{"title":"5-スムーズトーシェント","body":"5-スムーズ数とは最大の素因数が5を超えないような数のことである.\n5-スムーズ数はハミング数とも呼ばれる.\nオイラーのトーシェント関数 φ(n) がハミング数となるような, Lを超えない数 n の値の和を S(L) としよう.\nS(100)=3728.S(1012) を求めよ. 回答は 232 を法として答えよ."},"517":{"title":"実数再帰","body":"a > 1 となるような全ての実数 a に対し, 数列 ga が以下のように与えられている:\nga(x)=1 (x < a の場合)\nga(x)=ga(x−1) + ga(x−a) (x ≥ a の場合)\nG(n) = g√n(n)\nG(90)=7564511 となる.10000000 < p < 10010000 の間の素数 p における ΣG(p) を求めよ.\n回答は 1000000007 を法として答えよ."},"518":{"title":"3つ組素数と等比数列","body":"以下のような3つ組全てに対し S(n) = a + b + c としよう:例えば, 以下のような3つ組により S(100) = 1035 となる:(2, 5, 11), (2, 11, 47), (5, 11, 23), (5, 17, 53), (7, 11, 17), (7, 23, 71), (11, 23, 47), (17, 23, 31), (17, 41, 97), (31, 47, 71), (71, 83, 97)S(108) を求めよ."},"519":{"title":"三色コイン噴水","body":"隙間なく積まれた1段以上のコインの段があり, その上の段にあるコイン全てが下の段のちょうど2個のコインと接しているようなコインの配置をコインの噴水(fountain) と呼ぶ. n 個のコインによる配置可能な噴水の数を f(n) としよう. 4個のコインの場合3個の可能な配置がある:この結果  f(4) = 3, そしてさらに f(10) = 78 となる.n 個のコインによる f(n) 個の噴水全てを, 2個の接するコインが同じ色にならないという条件のもとに三色に塗り分ける配色の数を T(n) としよう. 4個のコインからなる3個の妥当な噴水のうちの1つに対する可能な塗り分け方は以下のようになる:T(4) = 48, そして T(10) = 17760 がすでに与えられている.T(20000) の末尾9桁を求めよ."},"520":{"title":"simber","body":"ある桁に奇数の数字が存在する場合はそれが奇数個あり, ある桁に偶数の数が存在する場合はそれが偶数個あるような正整数をsimberと定義しよう.例えば, 141221242 は9桁のsimberである, なぜなら3個の1, 4個の2, 2個の4を持っているからである.たかだか n 桁のsimberの個数を Q(n) としよう.Q(7) = 287975, そして Q(100) mod 1 000 000 123 = 123864868 が与えられている.(∑1≤u≤39 Q(2u)) mod 1 000 000 123 を求めよ."},"521":{"title":"最小の素因数","body":"ある数 n の最小の素因数を smpf(n) と定義しよう.\nsmpf(91)=7 となる, なぜなら 91=7×13, そして smpf(45)=3, なぜなら 45=3×3×5.\n2 ≤ i ≤ n の範囲における smpf(i) の和を S(n) としよう.\nたとえば, S(100)=1257.S(1012) mod 109 を求めよ."},"522":{"title":"ヒルベルトの停電","body":"ヒルベルトの無限ホテルが盛況であるにもかかわらず、ヒルベルトはその代わりに超巨大有限ホテルの管理に乗り出すことに決めた.コスト削減のため, ヒルベルトは彼お手製の特別な発電機で新しいホテルに電力を供給しようとしている. それぞれのフロアは上階のフロアに, そして最上階のフロアは最下階に電力を供給する. このようにすることで, ヒルベルトはどのフロアにでも発電機を配置し, ホテル全体にわたり自由に電気を流すことができる.しかし不運なことに, 請負業者がホテルの建設の際に配線図を間違って解釈してしまった. 業者はそうではなくそれぞれのフロアから別のフロアに対しランダムに電力を供給するようになっているとヒルベルトに説明した. これによりヒルベルトはどこにでも自由に発電機を設置できたはずが, どこかのフロアが停電してしまうはめになってしまった.例えば, 次のような3階のホテルのフローダイヤグラムの一例について考えてみよう:もし発電機が1階に設置されていたら, 全てのフロアが電力を受け取ることができる. しかしもしその代わりに2階や3階に設置されていたら, 1階が停電してしまう. あるフロアが他のフロアから電力を供給されている間に限り, そのフロアはまた別のフロアに電力を供給できるという点に注意.停電の不安を解消するため, ヒルベルトは最小限のフロアを再び配線することに決めた. あるフロアを再配線するというのはすなわちあるフロアの電力供給先フロアを変更すると言うことだ. 上記の配線例では, 起こり得るすべての停電可能性は2階の電力供給先を3階から1階に変更することで回避できる.n 階のホテルで可能なすべての電力供給配線に対し再配線が必要となる最小のフロア数の和を F(n) としよう. 例として F(3) = 6, F(8) = 16276736, そして F(100) mod 135707531 = 84326147.F(12344321) mod 135707531 を求めよ."},"523":{"title":"初めてのソート その1","body":"リストをソートする以下のアルゴリズムについて考えよう:例えば, リスト { 4 1 3 2 } は以下のようにしてソートされる:\n4 1 3 2 (4 と 1 が順番どおりでないのでリストの1番目に 1 を移動する)\n1 4 3 2 (4 と 3 が順番どおりでないのでリストの1番目に 3 を移動する)\n3 1 4 2 (3 と 1 が順番どおりでないのでリストの1番目に 1 を移動する)\n1 3 4 2 (4 と 2 が順番どおりでないのでリストの1番目に 2 を移動する)\n2 1 3 4 (2 と 1 が順番どおりでないのでリストの1番目に 1 を移動する)\n1 2 3 4 (これでリストはソートされた)リスト L をソートする際に実行されるステップ 2a の回数を F(L) としよう. 例えば, F({ 4 1 3 2 }) = 5 となる.整数 { 1,2, ..., n } からなるすべての順列 P における F(P) の期待値を E(n) としよう.\nE(4) = 3.25, E(10) = 115.725 が与えられている.E(30) を求めよ. 回答を小数点以下2桁までとなるよう四捨五入して答えよ."},"524":{"title":"初めてのソート その2","body":"リストをソートする以下のアルゴリズムについて考えよう:例えば, リスト { 4 1 3 2 } は以下のようにしてソートされる:\n4 1 3 2 (4 と 1 が順番どおりでないのでリストの1番目に 1 を移動する)\n1 4 3 2 (4 と 3 が順番どおりでないのでリストの1番目に 3 を移動する)\n3 1 4 2 (3 と 1 が順番どおりでないのでリストの1番目に 1 を移動する)\n1 3 4 2 (4 と 2 が順番どおりでないのでリストの1番目に 2 を移動する)\n2 1 3 4 (2 と 1 が順番どおりでないのでリストの1番目に 1 を移動する)\n1 2 3 4 (これでリストはソートされた)リスト L をソートする際に実行されるステップ 2a の回数を F(L) としよう. 例えば, F({ 4 1 3 2}) = 5 となる.整数 {1, 2, ..., n} のすべての順列 P を辞書式順序で並べ上げ, それぞれの順列に対してリストの位置に対応した 1 から n! までのインデックス In(P) を割り当てることができる.この「初めてのソート」でソートするとちょうど k 回のステップが必要な最初の順列の位置を Q(n, k) としよう, すなわち Q(n, k) = min(In(P)) for (F(P) = k). もし F(P) = k となる順列がない場合, Q(n, k) は未定義となる.n = 4 の場合:任意の k に対し, Q(n, k) が定義できるようなすべての n を検討した場合, 最小となる Q(n, k) を R(k) としよう.R(1212) を求めよ."},"525":{"title":"回転する楕円","body":"下記の式により、ある楕円 E(a, b) の初期配置が与えられている :x2/a2 + (y-b)2/(b2) = 1この楕円が滑ることなく x 軸に沿って完全に1回転する. 興味深いことに, 楕円の焦点によって描かれる曲線の長さは, 楕円の短軸のサイズとは無関係である :\nF(a, b) = 2π max(a, b)楕円の中心によって描かれる曲線はそうではない. 楕円が滑ることなく x 軸に沿って完全に1回転するとき, その楕円の中心によって描かれる曲線の長さを C(a, b) としよう.C(2, 4) ~ 21.38816906 が与えられている.C(1, 4) + C(3, 4) を求めよ. 回答は小数点以下8桁までになるよう四捨五入して ab.cdefghij の形で答えよ."},"526":{"title":"連続する数の最大素因数","body":"n の最大素因数を f(n) としよう.n から始まる 9 つの連続する数それぞれの最大素因数の和を g(n) としよう, すなわち, g(n) = f(n) + f(n+1) + f(n+2) + f(n+3) + f(n+4) + f(n+5) + f(n+6) + f(n+7) + f(n+8).2 ≤ k ≤ n の範囲における g(k) の最大値を h(n) としよう.以下のように与えられている:h(1016) を求めよ."},"527":{"title":"ランダム化された二部探索","body":"秘密の整数 t が範囲 1 ≤ t ≤ n の中からランダムで選択されている.整数 g を使って推測を繰り返すことで, t の値を当てるのが今回の目的だ. 推測を行った後には, 3 つの結果が起こり得る, つまり g < t, g = t, あるいは g > t かのいずれかが明らかとなる.通常, 平均的に必要とされる推測の回数は二分探索で最小化することができる. 下界 L, 上界 H (L = 1, H = n に初期化されている) が与えられているとき, g = ⌊(L+H)/2⌋ としよう, ここで ⌊⋅⌋ は整数床関数とする. もし g = t ならば, 作業は終了する. そうでない場合, もし g < t なら, L = g+1 と設定する. g > t であれば, H = g−1 に設定する. 新しい範囲が設定された後, 探索作業を繰り返し, t がひとたび見つかれば作業は完全に終了する. たとえ t を探索すること無く見つけても, その探索では値を確かめる何らかの作業が必要であると仮定する.友人のボブは, 標準的な二分探索よりも彼が考えるランダム化バージョンの二分探索のほうが優れていると信じている. その方法は, g = ⌊(L+H)/2⌋ に設定するのではなく, g を L から H までの（それぞれ L, H 自身を含んだ）ランダムな値にただ設定する. 残りのアルゴリズムは標準の二分探索と同様だ. この新しい検索ルーチンは「ランダム二分探索」と呼ばれる.1 ≤ t ≤ n となるようなランダムの値 t が与えられ, 標準的な二分探索による推測回数の期待値を B(n) とし, ランダム二分探索による推測回数の期待値を R(n) としよう. 例えば, 小数点以下 8 桁となるよう四捨五入すると, B(6) = 2.33333333, R(6) = 2.71666667 となる.R(1010) − B(1010) を求め, 小数点以下 8 桁となるよう四捨五入して答えよ."},"528":{"title":"制約付き和","body":"すべての 1 ≤ m ≤ k に対して 0 ≤ xm ≤ bm とした時の x1 + x2 + ... + xk ≤ n を満たす解の個数を S(n,k,b) で表すとしよう.例えば, S(14,3,2) = 135, S(200,5,3) = 12949440, そして S(1000,10,5) mod 1 000 000 007 = 624839075 となる.(∑10 ≤ k ≤ 15 S(10k,k,k)) mod 1 000 000 007 を求めよ."},"529":{"title":"10-substring","body":"ある数の桁の和が 10 になる部分文字列をその数の 10-substring とする. 例えば, 数 3523014 の 10-substring は :3523014\n3523014\n3523014\n3523014その数の桁が一つ残らず 10-substring を構成する桁となる数を 10-substring-friendly と呼ぶ. 例えば, 3523014 は 10-substring-friendly だが, 28546 はそうではない.1 から 10n まで (1 と 10n も範囲に含む) のうち 10-substring-friendly な数の個数を T(n) としよう.\n例えば, T(2) = 9, T(5) = 3492.T(1018) mod 1 000 000 007 を求めよ."},"530":{"title":"約数の最大公約数","body":"ある数 n の約数 d はすべて相補約数 n/d を持っている.n のすべての正の約数 d に対し, d と n/d の最大公約数の和を f(n) としよう, つまり f(n)=∑d|ngcd(d,n/d).f の総和関数を F としよう, すなわち F(k)=∑f(n) (1 ≤ n ≤ k).F(10)=32, F(1000)=12776 が与えられている.F(1015) を求めよ."},"531":{"title":"中国の余剰","body":"以下の系における最小の負でない x の解を g(a,n,b,m) としよう:\nx = a mod n\nx = b mod m\n解が存在しないとき, x は 0 とする.例えば, g(2,4,4,6)=10, しかし g(3,4,4,6)=0.φ(n) をオイラーのトーシェント関数とする.f(n,m) = g(φ(n),n,φ(m),m) とする.範囲 1000000 ≤ n < m < 1005000 における ∑f(n,m) を求めよ."},"532":{"title":"測地線上のナノボット","body":"ナノボット製造工場のオーナーであるボブは, 消費者へのプレゼントとして新しいナノボットを使ってカラーリングしたボールを送り好印象を与えようと考えている.彼のナノボットは, 相手のナノボットを正確に選んで所定の場所に配置され, 起動すると相手のナノボットに対しできるだけ最短経路で移動し, 移動中にカラフルな線を表面上に描画するようプログラムできる. 平面上に配置すれば, これらのボットは選択した相手のボットに対し直線的に移動していく. これとは対照的に, ボールの上に配置すれば, 取りうる最短経路として測地線を移動していく. いずれにせよどちらの場合でも, ターゲットが移動している間中は瞬時に新しい最短経路へと方向を調整する. すべてのボットはそれぞれが同時に起動してから目的地に着くまで同じスピードで移動する.ここでボブは(半径 1 の)ボール上の半径 0.999 の小さな円上に等間隔に n 個のボットを配置し, それぞれが小さな円上の反時計回りで次の順に位置するボットに対して移動するようプログラムする. 起動後, ボットは最終的にボールの一点で出会うまで螺旋状に移動する.3個のボットを使うと, 毎回小数点2桁になるよう四捨五入した場合, すべてのボットはそれぞれ長さ 2.84 の線を描き, 3個のボットで合計 8.52 の線を描くことをボブは計算した. ボールのカラーリングは次のようになる:プレゼントで注目を集めようと, ボブはそれぞれのボットが長さ 1000 以上の線を描くのに必要最小限となる数のボットを使用することに決めた. そうした数のボットが描く線の総延長は, 小数点2桁になるよう四捨五入した場合いくつになるか?"},"533":{"title":"カーマイケル関数の最小値","body":"カーマイケル関数 λ(n) は n と互いに素なすべての整数 a に対して am = 1 となるような最小の正整数 m として定義される.\n例えば, λ(8) = 2, そして λ(240) = 4.すべての k ≥ m に対し λ(k) ≥ n となるような最小の正整数 m を L(n) と定義する.\n例えば, L(6) = 241, そして L(100) = 20 174 525 281.L(20 000 000) を求めよ. 回答としてその末尾9桁を答えよ."},"534":{"title":"弱いクイーン","body":"古典的なパズルである8クイーンパズルは, 8x8 のチェス盤上にお互い取られることがないように8個のクイーンを配置するというおなじみの問題である. 回転や鏡像として作られる配置を含めると, 8クイーンの場合計 92 個の配置が可能である. nxn の盤上に n 個のクイーンを配置する場合の数を求める一般解によれば, 例えば n = 4 の場合 2 個の配置が求められる.水平移動は何マス目でもできるが,  0 ≤ w < n の範囲の「弱さ係数」があって, 垂直と対角線上の移動は最大 n - 1 - w マスしかできない, という弱いクイーンを定義しよう. 例えば, 弱さ係数 w = 1 の場合に nxn の盤上の一番下の列に配置された弱いクイーンは, 一番上の列のマスのクイーンを取ろうとすると垂直または対角線上に n - 1 の移動が必要になるが, n -2 しか移動できないため取ることはできない. それとは対照的に, 弱いクイーンは水平に対しては制限がないので, 列内の現在の位置にかかわらず, 自身が配置されている列のすべてのマスを取ることができる.n 個の弱いクイーンを, 弱さ係数 w で, nxn の盤上にお互い取られることがないように配置できる方法の数を Q(n, w) としよう. 例として, Q(4,0)=2, Q(4,2)=16, そして Q(4,3)=256 であることがわかる. としよう.S(4)=276, S(5)=3347 が与えられている.S(14) を求めよ."},"535":{"title":"フラクタル数列","body":"以下の列から始まる無限整数列 S を考えよう:\nS = 1, 1, 2, 1, 3, 2, 4, 1, 5, 3, 6, 2, 7, 8, 4, 9, 1, 10, 11, 5, ...初めて現れる整数それぞれに丸をつけよう.\nS = ①, 1, ②, 1, ③, 2, ④, 1, ⑤, 3, ⑥, 2, ⑦, ⑧, 4, ⑨, 1, ⑩, ⑪, 5, ...この数列は以下の性質を特徴とする:この数列の初項から第 n 項までの和を T(n) としよう.\nT(1) = 1, T(20) = 86, T(103) = 364089, T(109) = 498676527978348241 となる.T(1018) を求めよ. 回答として末尾 9 桁を答えよ."},"536":{"title":"冪剰余の単位元","body":"以下の特性を持つ n 以下のすべての正整数 m の和を S(n) としよう:\nすべての整数 a に対し, am+4 ≡ a (mod m)m ≤ 100 でこの特性を持つ整数は 1, 2, 3, 5, そして 21 である, よって S(100) = 1+2+3+5+21 = 32 となる.\nS(106) = 22868117 が与えられている.S(1012) を求めよ."},"537":{"title":"タプルの数え上げ","body":"素数計数関数, すなわち x 以下の素数の個数を π(x) としよう.\n例えば, π(1)=0, π(2)=1, π(100)=25.下記の条件を満たす k-タプル  (x1,…,xk) の個数を T(n,k) としよう:例えば T(3,3)=19.\nその19個のタプルとは, (1,1,5), (1,5,1), (5,1,1), (1,1,6), (1,6,1), (6,1,1), (1,2,3), (1,3,2), (2,1,3), (2,3,1), (3,1,2), (3,2,1), (1,2,4), (1,4,2), (2,1,4), (2,4,1), (4,1,2), (4,2,1), (2,2,2).T(10,10) = 869 985, T(103,103) ≡ 578 270 566 (mod 1 004 535 809) が与えられている.T(20 000, 20 000) mod 1 004 535 809 を求めよ."},"538":{"title":"最大の四辺形","body":"数列 S = (s1, s2, ..., sn) について考えよう.四辺が数列 S の 4 つの要素 (si, sj, sk, sl) (i, j, k, l がすべてそれぞれ異なる) からなる面積が最大となる四辺形の外周長を f(S) としよう. 同じ面積を持つ四辺形が複数ある場合は, 最も外周が長い四辺形が選択される.例えば S = (8, 9, 14, 9, 27) の場合, 要素として (9, 14, 9, 27) を選べば並行辺が 14 と 27 で脚の長さが 9 の等脚台形 (等脚台形とは一方の対辺が並行で長さが異なり、もう一方の対辺が同じ長さを持つ四辺形のことである) を形成できる. この四辺形の面積は 127.611470879... となる. これが S から選べる辺の長さを使って形成できる最大面積の四辺形であることがわかる. よって f(S) = 9 + 14 + 9 + 27 = 59 となる.un = 2B(3n) + 3B(2n) + B(n+1) としよう, ここで B(k) は 2 を底とした際の数 k の桁にある 1 の個数とする.\n例えば, B(6) = 2, B(10) = 2, B(15) = 4, そして u5 = 24 + 32 + 2 = 27.また, (u1, u2, ..., un) からなる数列を Un とする.\n例えば, U10 = (8, 9, 14, 9, 27, 16, 36, 9, 27, 28).f(U5) = 59, f(U10) = 118, f(U150) = 3223 であることがわかる.\nまた範囲 4 ≤ n ≤ 150 に対し Σ f(Un) = 234761 となる.\n範囲 4 ≤ n ≤ 3 000 000 のときの Σ f(Un) を求めよ."},"539":{"title":"奇数除去","body":"1 から n までのすべて整数からなる順序付きリストからはじめよう. まず左から右に, 最初の数字から 1 つおきにある数をリストの最後まで除去していく. 次は右から左にこの手順を繰り返し, 一番右にある数から左に 1 つおきにある数を除去していく. 左から右へ, そして右から左へと交互に 1 つおきの数を除去していき, 最後に数が 1 つとなるまで続けていく.n = 9 の場合はこのようになる :1 2 3 4 5 6 7 8 9\n2 4 6 8\n2 6\n6長さ n のリストから始めて最後に残る数を P(n) としよう.\n としよう.\nP(1)=1, P(9) = 6, P(1000)=510, S(1000)=268271 が与えられている.S(1018) mod 987654321 を求めよ."},"540":{"title":"ピタゴラス数の数え上げ","body":"ピタゴラス数 (Pythagorean triple) は a2 + b2 = c2 を満たす3つの正整数で構成される.\nこの数は a, b, c が互いに素である場合原始ピタゴラス数 (primitive Pythagorean triple) と呼ぶ.\na < b < c ≤ n における原始ピタゴラス数の個数を P(n) としよう.\n例えば P(20) = 3, なぜなら3つのピタゴラス数がある: (3,4,5), (5,12,13), (8,15,17).P(106) = 159139 が与えられている.\nP(3141592653589793) を求めよ."},"541":{"title":"調和数分母の被整除性","body":"n 番目の調和数 Hn は最初から n 個の正整数を逆数にした数の和として定義され, 約分した分数 an / bn で表せる.\n, gcd(an,bn) = 1 とするbn が p で割り切れない n の最大値を M(p) としよう.例えば, M(3) = 68 となる, なぜなら H68 = 14094018321907827923954201611 / 2933773379069966367528193600 , b68 = 2933773379069966367528193600 は 3 で割り切れないが, これよりも大きい調和数は 3 で割り切れる分母を持つ.M(7) = 719102 が与えられている.M(137) を求めよ."},"542":{"title":"等比数列の和の最大値","body":"下記の性質を持つ 3 個以上の互いに異なる正整数の和を S(k) としよう :S(4) = 4 + 2 + 1 = 7\nS(10) = 9 + 6 + 4 = 19\nS(12) = 12 + 6 + 3 = 21\nS(1000) = 1000 + 900 + 810 + 729 = 3439 としよう.\nT(1000) = 2268 となる.T(1017) を求めよ."},"543":{"title":"素数和数","body":"ある数 n を k 個の素数の和(素数の重複を認める)として書き表せるとき P(n,k) = 1 , そうでない場合は P(n,k) = 0 となる関数を定義しよう.例えば, P(10,2) = 1 となる, なぜなら 10 は 3 + 7, そして 5 + 5 として書き表せる, しかし P(11,2) = 0 , なぜなら足して 11 となる 2 つの素数は存在しない.1 ≤ i,k ≤ n の範囲におけるすべての P(i,k) の和を S(n) としよう.例えば, S(10) = 20, S(100) = 2402, そして S(1000) = 248838.k 番目のフィボナッチ数を F(k) としよう(ここで F(0) = 0, F(1) = 1).3 ≤ k ≤ 44 の範囲におけるすべての S(F(k)) の和を求めよ."},"544":{"title":"色塗り分け問題","body":"r 列 c 行の長方形型のグリッドを, 隣り合ったマスが同じ色にならないよう\nn 色を使って色を塗る方法の数を F(r,c,n) としよう. 対角線上にあるマスは隣り合っていないものとする.具体例として, F(2,2,3) = 18, F(2,2,20) = 130340, そして F(3,4,6) = 102923670 となる.S(r,c,n) = F(r,c,k) としよう.具体例として, S(4,4,15) mod 109+7 = 325951319.S(9,10,1112131415) mod 109+7 を求めよ."},"545":{"title":"ファウルハーバーの公式","body":"1 から n までの正整数の k 乗の和はファウルハーバーの公式という有理係数を持つ k+1 次の多項式で表せる.\n,\nここで ai は既約分数 pi / qi として書き表せる有理係数である(ai = 0 の場合, qi = 1 とみなす).例えば, .k 乗の和に対する q1 の値を D(k) を定義する(すなわち既約分数 a1 の分母).\nk ≥ 1 において D(k) = 20010 となる m 番目の k の値を F(m) と定義する.D(4) = 30 (a1 = -1/30 となるため), D(308) = 20010, F(1) = 308, F(10) = 96404 が与えられている.F(105) を求めよ."},"546":{"title":"床関数のリベンジ","body":"fk(n) =  fk(⌊i/k⌋) と定義しよう, ここで fk(0) = 1, そして ⌊x⌋ は床関数を表す.例えば, f5(10) = 18, f7(100) = 1003, そして f2(103) = 264830889564.( fk(1014)) mod (109+7) を求めよ."},"547":{"title":"穴の空いた長方形状の板上にあるランダム点間の距離","body":"長方形内に2点をランダムに(一様分布で)選ぶと仮定したとき, その2点間距離の期待値を特定できる.例えば, 単位正方形内のランダムな2点間距離の期待値は 0.521405 に, 辺が 2 と 3 の長さを持つ長方形のランダムな2点間距離の期待値は 1.317067 になる.ここで, 長さ n ≥ 3 の辺からなり n2 個の単位正方形からなる整数サイズの正方形から, x × y 個の単位正方形 (ここで 1 ≤ x,y ≤ n - 2) からなる長方形を取り除いた, サイズ n の穴の空いた長方形状の板を定義しよう.n = 3 の場合は穴の空いた長方形状の板はひとつだけ存在する.n = 4 の場合, 回転や鏡像による重複を許せば 9 個の個別な穴の空いた長方形状の板が得られる.サイズ n の存在しうる穴の空いた長方形状の板に対してそれぞれの上にランダムに選んだ2点間距離の期待値の和を S(n) としよう. その2点は内部の長方形を取り除いて残った領域, すなわち上記で示した灰色の領域に置かれるものとする.例えば, 小数点以下が4桁になるよう四捨五入すると, S(3) = 1.6514, S(4) = 19.6564 となる.小数点以下が4桁になるよう四捨五入した S(40) を求めよ."},"548":{"title":"Gozinta数列","body":"「Gozinta数列」 とは, 数列　{1, a1, a2,..., ak} のなかで, すべてのiに対し「aiはai-1で割り切れる」を満たしているものである。そこで, 数列の末項がnであるようなGozinta数列の個数をg(n)と定義する。例えば, n=12の時, {1,12} ,{1,2,12}, {1,2,4,12}, {1,2,6,12}, {1,3,12}, {1,3,6,12}, {1,4,12}, {1,6,12} の8つのGozinta数列が条件を満たすため, g(12)=8となる。また, g(48)=48, g(120)=132である。n=48のときのような, g(n)=nを満たすn (2≦n≦1016) の合計を求めなさい。"},"549":{"title":"階乗の整除性","body":"10 がm! を割り切る最小のmはm=5 である.25 がm! を割り切る最小のmはm=10 である.n がm! を割り切る最小のmをs(n) とする.s(10)=5, s(25)=10 である.2 ≤ i ≤ n においてΣs(i)をS(n) とする.S(100)=2012 である.S(108) を求めよ."},"550":{"title":"約数ゲーム","body":"2人のプレーヤーがゲームをする.複数の石が積み重なった山がk個ある.プレイヤーは自身の順番になったら山をひとつ選びそれを以下の2条件を満たす2つの山に置き換える.先に有効な手が無くなったプレイヤーを負けとする.\nf(n,k)を,それぞれが2からn個の石を持つk個の山でゲームを始めたときの,最善の手を続けた場合に先手が勝つ状態の数とする(包括的に).\nf(10,5)=40085である.f(107,1012)を求めよ.\n987654321で割った余りを入力せよ."},"551":{"title":"各位の数字の和の数列","body":"数列 a0, a1, a2,.. を次のように定める。　・a0 = 1　・ai = (a0, a1,...ai-1 の各位の数字の和) (i > 0)そのとき, 数列は 1, 1, 2, 4, 8, 16, 23, 28, 38, 49,... のようになる。a1015 の値を求めなさい。"},"552":{"title":"連立合同式 2","body":"数列 A を次のように定める。Ai = (1 ≦ k ≦ i で Ai mod pi = i となるような最小の自然数) とする。例えば, A2 = 5 である。 なぜなら,を満たし, かつこれが最小だからである。また, A3 = 23 である。　なぜなら,を満たし, かつこれが最小だからである。また, A4 = 53, A5 = 1523 である。また, A10 = 5765999453 である。そこで, S(n) = (1 ≦ i ≦ n (i は素数) で 数列 A の中に i で割り切れるものが1つ以上あるような整数 i の個数) とする。\n例えば, S(50) = 5 + 23 + 41 = 69 です。 なぜなら, 5 は A2 = 5 を割ることができ, 23 は A3 = 23 を割ることができ, 41 は A10 = 5765999453 を割ることができるからである。\nまた, 50以下の5, 23, 41ではない他の12個の素数は, Aに入っているいずれの整数も割ることができない。そのとき, S(300000) を求めなさい。"},"554":{"title":"Centaurの配置","body":"チェス盤の上で, Centaurs という駒は次の図のような場所を攻撃することができます。そのとき, 2n×2n のチェス盤の上には n×n 個の Centaur を互いに攻撃し合わないように配置することができます。C(n) = (2n×2n のチェス盤の上には n×n 個の Centaur を互いに攻撃し合わないように配置する方法の総数) とします。そのとき, C(1) = 4, C(2) = 25, C(10) = 1477721 となります。F1=1, F2=1, Fi=Fi-1+Fi-2 によって定義される数列があります。(これはフィボナッチ数列です)C(F2)+C(F3)+C(F4)+,...,+C(F90) を求めなさい。"},"557":{"title":"三角形の分割","body":"三角形は, 下図のように2つの直線で3つの三角形と1つの四角形にに分割することができます。それを a, b, c, d とします。合計の面積が 55 で, b ≦ c のとき, (a, b, c, d) = (22, 8, 11, 14), (20, 2, 24, 9) が条件を満たします。S(n) = (条件を満たす a, b, c, d の組からできる三角形の面積の合計) (a + b + c + d ≦ n) とします。そのとき, S(20) = 259 です。S(10000) を求めなさい。"},"561":{"title":"約数が約数を割り切るペア","body":"S(n)=「 n の約数 a, b に対して, b が a で割り切れ, a ≠ b であるようなペアの総数」 とします。例えば, S(6) = 5 です。 なぜなら, (a, b) = (1, 2), (1, 3), (1, 6), (2, 6), (3, 6) の 5 通りの組み合わせがあるからです。pm# を最初の m 個の素数の積とします。(詳しくは Wikipediaの素数階乗のページ を参照)E(m,n)=「 S((pm#)n) が 2k で割り切れるような最大の k 」 とします。例えば, E(2,1) = 0 です。 なぜなら, S(6) = 5 は 2 で 1 回も割ることができないからです。また, Q(n) = E(904961, 1) + E(904961, 2) + ... + E(904961, n) とします。Q(1012) を求めなさい。"},"565":{"title":"約数の合計の割り算","body":"σ(n) = (n の約数の総和) とします。そのとき, σ(4) = 1 + 2 + 4 = 7 です。そのとき, 1 ≦ k ≦ 20 で σ(k) が 7 で割り切れるような k は 4, 12, 13, 20 の 4 つです。そこで, S(n, d) = (1 ≦ k ≦ n で σ(k) が d で割り切れるような整数 k の和) とします。そのとき, S(20, 7) = 4 + 12 + 13 + 20 = 49, S(106, 2017) = 150850429, S(109, 2017) = 249652238344557 です。S(1011, 2017) を求めなさい。"},"601":{"title":"割り切れる層","body":"正の数 n に対して, n+k が k+1 で割り切れないような最小の正の整数kをもって関数 streak(n)=k と定義しよう.例えば:\n13は1で割り切れる\n14は2で割り切れる\n15は3で割り切れる\n16は4で割り切れる\n17は5で割り切れない\nよって, streak(13)=4同様に:\n120は1で割り切れる\n121は2で割り切れない\nよって, streak(120)=11<n<N を満たし streak(n)=s である整数 n の個数を P(s,N) と定義する.\n例えば, P(3,14)=1, P(6,106)=14286 となる.i が 1 から 31 の範囲にあるときの P(i, 4i) の和を求めよ."}}